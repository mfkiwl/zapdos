<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zapdos: moose/framework/src/utils/PetscDMMoose.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
    <a href="https://shannon-lab.github.io/zapdos" style="text-decoration:none"><div id="projectname">Zapdos</div></a><div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4c7d3be2d60f4d6ad3d0ee61864d0537.html">moose</a></li><li class="navelem"><a class="el" href="dir_6f4eeb6ddb4ae754f551cb2d3dec9e8e.html">framework</a></li><li class="navelem"><a class="el" href="dir_bfb280a6c1c8c85a152345a0f6a025dc.html">src</a></li><li class="navelem"><a class="el" href="dir_2f52c668a7558079c161d01e22cecdbf.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">PetscDMMoose.C File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="PetscDMMoose_8C_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDM__Moose.html">DM_Moose</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDM__Moose_1_1SplitInfo.html">DM_Moose::SplitInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeee9bf554360670b7b972130c153ba39"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#aeee9bf554360670b7b972130c153ba39">DMMooseGetContacts</a> (DM dm, std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;contact_names, std::vector&lt; PetscBool &gt; &amp;displaced)</td></tr>
<tr class="separator:aeee9bf554360670b7b972130c153ba39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae743703de87b44dd98514370818661"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#acae743703de87b44dd98514370818661">DMMooseGetUnContacts</a> (DM dm, std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;uncontact_names, std::vector&lt; PetscBool &gt; &amp;displaced)</td></tr>
<tr class="separator:acae743703de87b44dd98514370818661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc81dcfd38f8934ae0dbb1d7dc734182"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#abc81dcfd38f8934ae0dbb1d7dc734182">DMMooseGetSides</a> (DM dm, std::vector&lt; std::string &gt; &amp;side_names)</td></tr>
<tr class="separator:abc81dcfd38f8934ae0dbb1d7dc734182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd715b962430b56685c6ad4b6fbf6e1"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a5cd715b962430b56685c6ad4b6fbf6e1">DMMooseGetUnSides</a> (DM dm, std::vector&lt; std::string &gt; &amp;side_names)</td></tr>
<tr class="separator:a5cd715b962430b56685c6ad4b6fbf6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bca446bdde6877e421a094b8b3d5821"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a0bca446bdde6877e421a094b8b3d5821">DMMooseGetBlocks</a> (DM dm, std::vector&lt; std::string &gt; &amp;block_names)</td></tr>
<tr class="separator:a0bca446bdde6877e421a094b8b3d5821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae26691036014ce4cbb8a63d437ad145"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#aae26691036014ce4cbb8a63d437ad145">DMMooseGetVariables</a> (DM dm, std::vector&lt; std::string &gt; &amp;var_names)</td></tr>
<tr class="separator:aae26691036014ce4cbb8a63d437ad145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c67a27a0cda486dd76f80245b9da32"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#af2c67a27a0cda486dd76f80245b9da32">DMMooseSetNonlinearSystem</a> (DM dm, <a class="el" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp;nl)</td></tr>
<tr class="separator:af2c67a27a0cda486dd76f80245b9da32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f2d03fe71db2b55eacd3ba5cb086d4"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#ae6f2d03fe71db2b55eacd3ba5cb086d4">DMMooseSetVariables</a> (DM dm, const std::set&lt; std::string &gt; &amp;vars)</td></tr>
<tr class="separator:ae6f2d03fe71db2b55eacd3ba5cb086d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692cb56bdfa5c7cf2373a49c46f8b34b"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a692cb56bdfa5c7cf2373a49c46f8b34b">DMMooseSetBlocks</a> (DM dm, const std::set&lt; std::string &gt; &amp;blocks)</td></tr>
<tr class="separator:a692cb56bdfa5c7cf2373a49c46f8b34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa615f2cb27665ffac7d0960554cc1279"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#aa615f2cb27665ffac7d0960554cc1279">DMMooseSetSides</a> (DM dm, const std::set&lt; std::string &gt; &amp;sides)</td></tr>
<tr class="separator:aa615f2cb27665ffac7d0960554cc1279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bafa74db7bb58200fff8b0d6ac69618"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a8bafa74db7bb58200fff8b0d6ac69618">DMMooseSetUnSides</a> (DM dm, const std::set&lt; std::string &gt; &amp;unsides)</td></tr>
<tr class="separator:a8bafa74db7bb58200fff8b0d6ac69618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf0d06f68f862211d0faddee5b4030d"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#abaf0d06f68f862211d0faddee5b4030d">DMMooseSetContacts</a> (DM dm, const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;contacts, const std::vector&lt; PetscBool &gt; &amp;displaced)</td></tr>
<tr class="separator:abaf0d06f68f862211d0faddee5b4030d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db64b959e1d1112cd306dd01b9e669c"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a3db64b959e1d1112cd306dd01b9e669c">DMMooseSetUnContacts</a> (DM dm, const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;uncontacts, const std::vector&lt; PetscBool &gt; &amp;displaced)</td></tr>
<tr class="separator:a3db64b959e1d1112cd306dd01b9e669c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a1af9e8b9cfb87be97c1670af50155"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#ae9a1af9e8b9cfb87be97c1670af50155">DMMooseGetNonlinearSystem</a> (DM dm, <a class="el" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> *&amp;nl)</td></tr>
<tr class="separator:ae9a1af9e8b9cfb87be97c1670af50155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5868769fd4c8f47c2441ce1e16ddb801"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a5868769fd4c8f47c2441ce1e16ddb801">DMMooseSetSplitNames</a> (DM dm, const std::vector&lt; std::string &gt; &amp;split_names)</td></tr>
<tr class="separator:a5868769fd4c8f47c2441ce1e16ddb801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d92b1bc09bff4864959cb52759d76a"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a98d92b1bc09bff4864959cb52759d76a">DMMooseGetSplitNames</a> (DM dm, std::vector&lt; std::string &gt; &amp;split_names)</td></tr>
<tr class="separator:a98d92b1bc09bff4864959cb52759d76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce376b22cde9169f2430c75b4f70549"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a3ce376b22cde9169f2430c75b4f70549">DMMooseGetEmbedding_Private</a> (DM dm, IS *embedding)</td></tr>
<tr class="separator:a3ce376b22cde9169f2430c75b4f70549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6acdc7e25c95fb9803d2b2648278275"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#ab6acdc7e25c95fb9803d2b2648278275">DMCreateFieldDecomposition_Moose</a> (DM dm, PetscInt *len, char ***namelist, IS **islist, DM **dmlist)</td></tr>
<tr class="separator:ab6acdc7e25c95fb9803d2b2648278275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eacd31f051a5603d81ed9fca2477fdf"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a1eacd31f051a5603d81ed9fca2477fdf">DMCreateDomainDecomposition_Moose</a> (DM dm, PetscInt *len, char ***namelist, IS **innerislist, IS **outerislist, DM **dmlist)</td></tr>
<tr class="separator:a1eacd31f051a5603d81ed9fca2477fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7aa9aae99e3fccbf2075723da00d73"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a1e7aa9aae99e3fccbf2075723da00d73">DMMooseFunction</a> (DM dm, Vec x, Vec r)</td></tr>
<tr class="separator:a1e7aa9aae99e3fccbf2075723da00d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44cd3b845b456208b941920ad6fc4658"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a44cd3b845b456208b941920ad6fc4658">SNESFunction_DMMoose</a> (SNES, Vec x, Vec r, void *ctx)</td></tr>
<tr class="separator:a44cd3b845b456208b941920ad6fc4658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07314ff5337943c2adcabc875686229"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#ac07314ff5337943c2adcabc875686229">DMMooseJacobian</a> (DM dm, Vec x, Mat jac, Mat pc)</td></tr>
<tr class="separator:ac07314ff5337943c2adcabc875686229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31871a488f32853e9f81e06ea08f4eb9"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a31871a488f32853e9f81e06ea08f4eb9">SNESJacobian_DMMoose</a> (SNES, Vec x, Mat jac, Mat pc, void *ctx)</td></tr>
<tr class="separator:a31871a488f32853e9f81e06ea08f4eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f578ab0fd2f47345658909f5f061bd1"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a2f578ab0fd2f47345658909f5f061bd1">DMVariableBounds_Moose</a> (DM dm, Vec xl, Vec xu)</td></tr>
<tr class="separator:a2f578ab0fd2f47345658909f5f061bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071a4e00530ddba5c6484dda5689a29a"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a071a4e00530ddba5c6484dda5689a29a">DMCreateGlobalVector_Moose</a> (DM dm, Vec *x)</td></tr>
<tr class="separator:a071a4e00530ddba5c6484dda5689a29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927e0d720611cd84e6a76e36a192bbee"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a927e0d720611cd84e6a76e36a192bbee">DMCreateMatrix_Moose</a> (DM dm, Mat *A)</td></tr>
<tr class="separator:a927e0d720611cd84e6a76e36a192bbee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f19e1e068fef636f9c11f6a769c175b"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a2f19e1e068fef636f9c11f6a769c175b">DMView_Moose</a> (DM dm, PetscViewer viewer)</td></tr>
<tr class="separator:a2f19e1e068fef636f9c11f6a769c175b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb51bfc3062d4278c5e9092d0019d43"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#abdb51bfc3062d4278c5e9092d0019d43">DMMooseGetMeshBlocks_Private</a> (DM dm, std::set&lt; subdomain_id_type &gt; &amp;blocks)</td></tr>
<tr class="separator:abdb51bfc3062d4278c5e9092d0019d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4161dcb1788f761e9b835d1c7133c46d"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a4161dcb1788f761e9b835d1c7133c46d">DMSetUp_Moose_Pre</a> (DM dm)</td></tr>
<tr class="separator:a4161dcb1788f761e9b835d1c7133c46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac53e8e6c481d83e861471c90341fa6"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a7ac53e8e6c481d83e861471c90341fa6">DMMooseReset</a> (DM dm)</td></tr>
<tr class="separator:a7ac53e8e6c481d83e861471c90341fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af09d9cbe1e7d8c48ecba64e172da88"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a7af09d9cbe1e7d8c48ecba64e172da88">DMSetUp_Moose</a> (DM dm)</td></tr>
<tr class="separator:a7af09d9cbe1e7d8c48ecba64e172da88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa35b1b2019fad4bed2d760fe25fab47"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#aaa35b1b2019fad4bed2d760fe25fab47">DMSetFromOptions_Moose</a> (DM dm, PetscOptionItems *) PetscErrorCode DMSetFromOptions_Moose(PetscOptionItems *</td></tr>
<tr class="separator:aaa35b1b2019fad4bed2d760fe25fab47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0583c82266227211b63eccac1f904f67"><td class="memItemLeft" align="right" valign="top">PetscErrorCode DM dm PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a0583c82266227211b63eccac1f904f67">DMSetFromOptions_Moose</a> (PetscOptions *, DM dm)</td></tr>
<tr class="separator:a0583c82266227211b63eccac1f904f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ebebc39a474fd320f6b8435feaf456"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a54ebebc39a474fd320f6b8435feaf456">DMDestroy_Moose</a> (DM dm)</td></tr>
<tr class="separator:a54ebebc39a474fd320f6b8435feaf456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4183220afc44231655273cbf1dd7aa9"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#aa4183220afc44231655273cbf1dd7aa9">DMCreateMoose</a> (MPI_Comm comm, <a class="el" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp;nl, DM *dm)</td></tr>
<tr class="separator:aa4183220afc44231655273cbf1dd7aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e6542c34086ed3a27883356f134e67"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a67e6542c34086ed3a27883356f134e67">DMCreate_Moose</a> (DM dm)</td></tr>
<tr class="separator:a67e6542c34086ed3a27883356f134e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c75150b1bc5b2bb043c6f1e71688bee"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a2c75150b1bc5b2bb043c6f1e71688bee">SNESUpdateDMMoose</a> (SNES snes, PetscInt iteration)</td></tr>
<tr class="separator:a2c75150b1bc5b2bb043c6f1e71688bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b04a5a2bca1e62e1bcc64d4a5a4e7b"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PetscDMMoose_8C.html#a43b04a5a2bca1e62e1bcc64d4a5a4e7b">DMMooseRegisterAll</a> ()</td></tr>
<tr class="separator:a43b04a5a2bca1e62e1bcc64d4a5a4e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a67e6542c34086ed3a27883356f134e67" name="a67e6542c34086ed3a27883356f134e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e6542c34086ed3a27883356f134e67">&#9670;&#160;</a></span>DMCreate_Moose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMCreate_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l02353">2353</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2354</span>{</div>
<div class="line"><span class="lineno"> 2355</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 2356</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm;</div>
<div class="line"><span class="lineno"> 2357</span> </div>
<div class="line"><span class="lineno"> 2358</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 2359</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno"> 2360</span><span class="preprocessor">#if PETSC_RELEASE_LESS_THAN(3, 18, 0)</span></div>
<div class="line"><span class="lineno"> 2361</span>  ierr = PetscNewLog(dm, &amp;dmm);</div>
<div class="line"><span class="lineno"> 2362</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2363</span><span class="preprocessor">#else </span><span class="comment">// PetscNewLog was deprecated</span></div>
<div class="line"><span class="lineno"> 2364</span>  ierr = PetscNew(&amp;dmm);</div>
<div class="line"><span class="lineno"> 2365</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2366</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2367</span>  dm-&gt;data = dmm;</div>
<div class="line"><span class="lineno"> 2368</span> </div>
<div class="line"><span class="lineno"> 2369</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a> = <span class="keyword">new</span> (std::map&lt;std::string, unsigned int&gt;);</div>
<div class="line"><span class="lineno"> 2370</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a> = <span class="keyword">new</span> (std::map&lt;std::string, subdomain_id_type&gt;);</div>
<div class="line"><span class="lineno"> 2371</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a44977af2933b18dc8bfbc104aa93dd39">_var_names</a> = <span class="keyword">new</span> (std::map&lt;unsigned int, std::string&gt;);</div>
<div class="line"><span class="lineno"> 2372</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab2f6f7f5520f773129ccac888187eea0">_block_names</a> = <span class="keyword">new</span> (std::map&lt;unsigned int, std::string&gt;);</div>
<div class="line"><span class="lineno"> 2373</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a> = <span class="keyword">new</span> (std::map&lt;std::string, BoundaryID&gt;);</div>
<div class="line"><span class="lineno"> 2374</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a> = <span class="keyword">new</span> (std::map&lt;BoundaryID, std::string&gt;);</div>
<div class="line"><span class="lineno"> 2375</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a> = <span class="keyword">new</span> (std::map&lt;std::string, BoundaryID&gt;);</div>
<div class="line"><span class="lineno"> 2376</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a> = <span class="keyword">new</span> (std::map&lt;BoundaryID, std::string&gt;);</div>
<div class="line"><span class="lineno"> 2377</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a> = <span class="keyword">new</span> (std::map&lt;DM_Moose::ContactID, DM_Moose::ContactName&gt;);</div>
<div class="line"><span class="lineno"> 2378</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a> = <span class="keyword">new</span> (std::map&lt;DM_Moose::ContactID, DM_Moose::ContactName&gt;);</div>
<div class="line"><span class="lineno"> 2379</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">_contact_displaced</a> = <span class="keyword">new</span> (std::map&lt;DM_Moose::ContactName, PetscBool&gt;);</div>
<div class="line"><span class="lineno"> 2380</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a> = <span class="keyword">new</span> (std::map&lt;DM_Moose::ContactName, PetscBool&gt;);</div>
<div class="line"><span class="lineno"> 2381</span> </div>
<div class="line"><span class="lineno"> 2382</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a> = <span class="keyword">new</span> (std::map&lt;std::string, DM_Moose::SplitInfo&gt;);</div>
<div class="line"><span class="lineno"> 2383</span> </div>
<div class="line"><span class="lineno"> 2384</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7082fe273879cedc9094165b08bc8122">_print_embedding</a> = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 2385</span> </div>
<div class="line"><span class="lineno"> 2386</span>  dm-&gt;ops-&gt;createglobalvector = <a class="code hl_function" href="PetscDMMoose_8C.html#a071a4e00530ddba5c6484dda5689a29a">DMCreateGlobalVector_Moose</a>;</div>
<div class="line"><span class="lineno"> 2387</span>  dm-&gt;ops-&gt;createlocalvector = 0; <span class="comment">// DMCreateLocalVector_Moose;</span></div>
<div class="line"><span class="lineno"> 2388</span>  dm-&gt;ops-&gt;getcoloring = 0;       <span class="comment">// DMGetColoring_Moose;</span></div>
<div class="line"><span class="lineno"> 2389</span>  dm-&gt;ops-&gt;creatematrix = <a class="code hl_function" href="PetscDMMoose_8C.html#a927e0d720611cd84e6a76e36a192bbee">DMCreateMatrix_Moose</a>;</div>
<div class="line"><span class="lineno"> 2390</span>  dm-&gt;ops-&gt;createinterpolation = 0; <span class="comment">// DMCreateInterpolation_Moose;</span></div>
<div class="line"><span class="lineno"> 2391</span> </div>
<div class="line"><span class="lineno"> 2392</span>  dm-&gt;ops-&gt;refine = 0;  <span class="comment">// DMRefine_Moose;</span></div>
<div class="line"><span class="lineno"> 2393</span>  dm-&gt;ops-&gt;coarsen = 0; <span class="comment">// DMCoarsen_Moose;</span></div>
<div class="line"><span class="lineno"> 2394</span><span class="preprocessor">#if PETSC_RELEASE_LESS_THAN(3, 12, 0)</span></div>
<div class="line"><span class="lineno"> 2395</span>  dm-&gt;ops-&gt;getinjection = 0;  <span class="comment">// DMGetInjection_Moose;</span></div>
<div class="line"><span class="lineno"> 2396</span>  dm-&gt;ops-&gt;getaggregates = 0; <span class="comment">// DMGetAggregates_Moose;</span></div>
<div class="line"><span class="lineno"> 2397</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2398</span>  dm-&gt;ops-&gt;createinjection = 0;</div>
<div class="line"><span class="lineno"> 2399</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2400</span> </div>
<div class="line"><span class="lineno"> 2401</span>  dm-&gt;ops-&gt;createfielddecomposition = <a class="code hl_function" href="PetscDMMoose_8C.html#ab6acdc7e25c95fb9803d2b2648278275">DMCreateFieldDecomposition_Moose</a>;</div>
<div class="line"><span class="lineno"> 2402</span>  dm-&gt;ops-&gt;createdomaindecomposition = <a class="code hl_function" href="PetscDMMoose_8C.html#a1eacd31f051a5603d81ed9fca2477fdf">DMCreateDomainDecomposition_Moose</a>;</div>
<div class="line"><span class="lineno"> 2403</span> </div>
<div class="line"><span class="lineno"> 2404</span>  dm-&gt;ops-&gt;destroy = <a class="code hl_function" href="PetscDMMoose_8C.html#a54ebebc39a474fd320f6b8435feaf456">DMDestroy_Moose</a>;</div>
<div class="line"><span class="lineno"> 2405</span>  dm-&gt;ops-&gt;view = <a class="code hl_function" href="PetscDMMoose_8C.html#a2f19e1e068fef636f9c11f6a769c175b">DMView_Moose</a>;</div>
<div class="line"><span class="lineno"> 2406</span>  dm-&gt;ops-&gt;setfromoptions = <a class="code hl_function" href="PetscDMMoose_8C.html#aaa35b1b2019fad4bed2d760fe25fab47">DMSetFromOptions_Moose</a>;</div>
<div class="line"><span class="lineno"> 2407</span>  dm-&gt;ops-&gt;setup = <a class="code hl_function" href="PetscDMMoose_8C.html#a7af09d9cbe1e7d8c48ecba64e172da88">DMSetUp_Moose</a>;</div>
<div class="line"><span class="lineno"> 2408</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 2409</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_a071a4e00530ddba5c6484dda5689a29a"><div class="ttname"><a href="PetscDMMoose_8C.html#a071a4e00530ddba5c6484dda5689a29a">DMCreateGlobalVector_Moose</a></div><div class="ttdeci">static PetscErrorCode DMCreateGlobalVector_Moose(DM dm, Vec *x)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01281">PetscDMMoose.C:1281</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a1eacd31f051a5603d81ed9fca2477fdf"><div class="ttname"><a href="PetscDMMoose_8C.html#a1eacd31f051a5603d81ed9fca2477fdf">DMCreateDomainDecomposition_Moose</a></div><div class="ttdeci">static PetscErrorCode DMCreateDomainDecomposition_Moose(DM dm, PetscInt *len, char ***namelist, IS **innerislist, IS **outerislist, DM **dmlist)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01048">PetscDMMoose.C:1048</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a2f19e1e068fef636f9c11f6a769c175b"><div class="ttname"><a href="PetscDMMoose_8C.html#a2f19e1e068fef636f9c11f6a769c175b">DMView_Moose</a></div><div class="ttdeci">static PetscErrorCode DMView_Moose(DM dm, PetscViewer viewer)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01406">PetscDMMoose.C:1406</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a54ebebc39a474fd320f6b8435feaf456"><div class="ttname"><a href="PetscDMMoose_8C.html#a54ebebc39a474fd320f6b8435feaf456">DMDestroy_Moose</a></div><div class="ttdeci">static PetscErrorCode DMDestroy_Moose(DM dm)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l02282">PetscDMMoose.C:2282</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a7af09d9cbe1e7d8c48ecba64e172da88"><div class="ttname"><a href="PetscDMMoose_8C.html#a7af09d9cbe1e7d8c48ecba64e172da88">DMSetUp_Moose</a></div><div class="ttdeci">static PetscErrorCode DMSetUp_Moose(DM dm)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01842">PetscDMMoose.C:1842</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a927e0d720611cd84e6a76e36a192bbee"><div class="ttname"><a href="PetscDMMoose_8C.html#a927e0d720611cd84e6a76e36a192bbee">DMCreateMatrix_Moose</a></div><div class="ttdeci">static PetscErrorCode DMCreateMatrix_Moose(DM dm, Mat *A)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01340">PetscDMMoose.C:1340</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_aaa35b1b2019fad4bed2d760fe25fab47"><div class="ttname"><a href="PetscDMMoose_8C.html#aaa35b1b2019fad4bed2d760fe25fab47">DMSetFromOptions_Moose</a></div><div class="ttdeci">PetscErrorCode DMSetFromOptions_Moose(DM dm, PetscOptionItems *) PetscErrorCode DMSetFromOptions_Moose(PetscOptionItems *</div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_ab6acdc7e25c95fb9803d2b2648278275"><div class="ttname"><a href="PetscDMMoose_8C.html#ab6acdc7e25c95fb9803d2b2648278275">DMCreateFieldDecomposition_Moose</a></div><div class="ttdeci">static PetscErrorCode DMCreateFieldDecomposition_Moose(DM dm, PetscInt *len, char ***namelist, IS **islist, DM **dmlist)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00905">PetscDMMoose.C:905</a></div></div>
<div class="ttc" id="astructDM__Moose_html"><div class="ttname"><a href="structDM__Moose.html">DM_Moose</a></div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00035">PetscDMMoose.C:36</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a332c4308f4613615c835f941ed5ebdfb"><div class="ttname"><a href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">DM_Moose::_side_names</a></div><div class="ttdeci">std::map&lt; BoundaryID, std::string &gt; * _side_names</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00047">PetscDMMoose.C:47</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a3dc580322f05599f746f6f0807b87276"><div class="ttname"><a href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">DM_Moose::_side_ids</a></div><div class="ttdeci">std::map&lt; std::string, BoundaryID &gt; * _side_ids</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00048">PetscDMMoose.C:48</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a41432422852a15a95f9f7daeac814ec5"><div class="ttname"><a href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">DM_Moose::_unside_ids</a></div><div class="ttdeci">std::map&lt; std::string, BoundaryID &gt; * _unside_ids</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00050">PetscDMMoose.C:50</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a44977af2933b18dc8bfbc104aa93dd39"><div class="ttname"><a href="structDM__Moose.html#a44977af2933b18dc8bfbc104aa93dd39">DM_Moose::_var_names</a></div><div class="ttdeci">std::map&lt; unsigned int, std::string &gt; * _var_names</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00040">PetscDMMoose.C:40</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a6538262bba9a045c97218e46332d366a"><div class="ttname"><a href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">DM_Moose::_unside_names</a></div><div class="ttdeci">std::map&lt; BoundaryID, std::string &gt; * _unside_names</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00051">PetscDMMoose.C:51</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a7082fe273879cedc9094165b08bc8122"><div class="ttname"><a href="structDM__Moose.html#a7082fe273879cedc9094165b08bc8122">DM_Moose::_print_embedding</a></div><div class="ttdeci">PetscBool _print_embedding</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00077">PetscDMMoose.C:77</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a7199795b815e74b6811f8814fca44fdd"><div class="ttname"><a href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">DM_Moose::_uncontact_names</a></div><div class="ttdeci">std::map&lt; ContactID, ContactName &gt; * _uncontact_names</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00059">PetscDMMoose.C:59</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a85c5236295531e271dbe17065e546f07"><div class="ttname"><a href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">DM_Moose::_splits</a></div><div class="ttdeci">std::map&lt; std::string, SplitInfo &gt; * _splits</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00075">PetscDMMoose.C:75</a></div></div>
<div class="ttc" id="astructDM__Moose_html_aad48aafaf02df76684c5d7b1f7ba23f7"><div class="ttname"><a href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">DM_Moose::_block_ids</a></div><div class="ttdeci">std::map&lt; std::string, subdomain_id_type &gt; * _block_ids</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00043">PetscDMMoose.C:43</a></div></div>
<div class="ttc" id="astructDM__Moose_html_ab2f6f7f5520f773129ccac888187eea0"><div class="ttname"><a href="structDM__Moose.html#ab2f6f7f5520f773129ccac888187eea0">DM_Moose::_block_names</a></div><div class="ttdeci">std::map&lt; unsigned int, std::string &gt; * _block_names</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00044">PetscDMMoose.C:44</a></div></div>
<div class="ttc" id="astructDM__Moose_html_ac057ad8c740f6f90c334a8495a8fc7ff"><div class="ttname"><a href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">DM_Moose::_uncontact_displaced</a></div><div class="ttdeci">std::map&lt; ContactName, PetscBool &gt; * _uncontact_displaced</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00061">PetscDMMoose.C:61</a></div></div>
<div class="ttc" id="astructDM__Moose_html_acb22b1e1bb6429a7af63bc1f2da31e6f"><div class="ttname"><a href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">DM_Moose::_var_ids</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int &gt; * _var_ids</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00039">PetscDMMoose.C:39</a></div></div>
<div class="ttc" id="astructDM__Moose_html_ae52274f141f966b72850564a6b089a37"><div class="ttname"><a href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">DM_Moose::_contact_displaced</a></div><div class="ttdeci">std::map&lt; ContactName, PetscBool &gt; * _contact_displaced</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00060">PetscDMMoose.C:60</a></div></div>
<div class="ttc" id="astructDM__Moose_html_ae907eda530dc40483d02b548fdd7d8a5"><div class="ttname"><a href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">DM_Moose::_contact_names</a></div><div class="ttdeci">std::map&lt; ContactID, ContactName &gt; * _contact_names</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00057">PetscDMMoose.C:57</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02469">DMMooseRegisterAll()</a>.</p>

</div>
</div>
<a id="a1eacd31f051a5603d81ed9fca2477fdf" name="a1eacd31f051a5603d81ed9fca2477fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eacd31f051a5603d81ed9fca2477fdf">&#9670;&#160;</a></span>DMCreateDomainDecomposition_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMCreateDomainDecomposition_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>namelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IS **&#160;</td>
          <td class="paramname"><em>innerislist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IS **&#160;</td>
          <td class="paramname"><em>outerislist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DM **&#160;</td>
          <td class="paramname"><em>dmlist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01048">1048</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1050</span>{</div>
<div class="line"><span class="lineno"> 1051</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1054</span>  <span class="comment">/* Use DMCreateFieldDecomposition_Moose() to obtain everything but outerislist, which is currently</span></div>
<div class="line"><span class="lineno"> 1055</span><span class="comment">   * LIBMESH_PETSC_NULLPTR. */</span></div>
<div class="line"><span class="lineno"> 1056</span>  <span class="keywordflow">if</span> (outerislist)</div>
<div class="line"><span class="lineno"> 1057</span>    *outerislist = LIBMESH_PETSC_NULLPTR; <span class="comment">/* FIX: allow mesh-based overlap. */</span></div>
<div class="line"><span class="lineno"> 1058</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#ab6acdc7e25c95fb9803d2b2648278275">DMCreateFieldDecomposition_Moose</a>(dm, len, namelist, innerislist, dmlist);</div>
<div class="line"><span class="lineno"> 1059</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1060</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1061</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>.</p>

</div>
</div>
<a id="ab6acdc7e25c95fb9803d2b2648278275" name="ab6acdc7e25c95fb9803d2b2648278275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6acdc7e25c95fb9803d2b2648278275">&#9670;&#160;</a></span>DMCreateFieldDecomposition_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMCreateFieldDecomposition_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>namelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IS **&#160;</td>
          <td class="paramname"><em>islist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DM **&#160;</td>
          <td class="paramname"><em>dmlist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00905">905</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  907</span>{</div>
<div class="line"><span class="lineno">  908</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  909</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>  PetscInt split_size_sum = 0;</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>  <span class="comment">/* Only called after DMSetUp(). */</span></div>
<div class="line"><span class="lineno">  916</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>)</div>
<div class="line"><span class="lineno">  917</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  918</span>  *len = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>-&gt;size();</div>
<div class="line"><span class="lineno">  919</span>  <span class="keywordflow">if</span> (namelist)</div>
<div class="line"><span class="lineno">  920</span>  {</div>
<div class="line"><span class="lineno">  921</span>    ierr = PetscMalloc(*len * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *), namelist);</div>
<div class="line"><span class="lineno">  922</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  923</span>  }</div>
<div class="line"><span class="lineno">  924</span>  <span class="keywordflow">if</span> (islist)</div>
<div class="line"><span class="lineno">  925</span>  {</div>
<div class="line"><span class="lineno">  926</span>    ierr = PetscMalloc(*len * <span class="keyword">sizeof</span>(IS), islist);</div>
<div class="line"><span class="lineno">  927</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  928</span>  }</div>
<div class="line"><span class="lineno">  929</span>  <span class="keywordflow">if</span> (dmlist)</div>
<div class="line"><span class="lineno">  930</span>  {</div>
<div class="line"><span class="lineno">  931</span>    ierr = PetscMalloc(*len * <span class="keyword">sizeof</span>(DM), dmlist);</div>
<div class="line"><span class="lineno">  932</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  933</span>  }</div>
<div class="line"><span class="lineno">  934</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>))</div>
<div class="line"><span class="lineno">  935</span>  {</div>
<div class="line"><span class="lineno">  936</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> d = dit.second;</div>
<div class="line"><span class="lineno">  937</span>    std::string dname = dit.first;</div>
<div class="line"><span class="lineno">  938</span>    <a class="code hl_struct" href="structDM__Moose_1_1SplitInfo.html">DM_Moose::SplitInfo</a> &amp; dinfo = (*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>)[dname];</div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">if</span> (!dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>)</div>
<div class="line"><span class="lineno">  940</span>    {</div>
<div class="line"><span class="lineno">  941</span>      ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#aa4183220afc44231655273cbf1dd7aa9">DMCreateMoose</a>(((PetscObject)dm)-&gt;comm, *dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>, &amp;dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>);</div>
<div class="line"><span class="lineno">  942</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  943</span>      ierr = PetscObjectSetOptionsPrefix((PetscObject)dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>, ((PetscObject)dm)-&gt;prefix);</div>
<div class="line"><span class="lineno">  944</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  945</span>      std::string suffix = std::string(<span class="stringliteral">&quot;fieldsplit_&quot;</span>) + dname + <span class="stringliteral">&quot;_&quot;</span>;</div>
<div class="line"><span class="lineno">  946</span>      ierr = PetscObjectAppendOptionsPrefix((PetscObject)dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>, suffix.c_str());</div>
<div class="line"><span class="lineno">  947</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  948</span>    }</div>
<div class="line"><span class="lineno">  949</span>    ierr = DMSetFromOptions(dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>);</div>
<div class="line"><span class="lineno">  950</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  951</span>    ierr = DMSetUp(dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>);</div>
<div class="line"><span class="lineno">  952</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  953</span>    <span class="keywordflow">if</span> (namelist)</div>
<div class="line"><span class="lineno">  954</span>    {</div>
<div class="line"><span class="lineno">  955</span>      ierr = PetscStrallocpy(dname.c_str(), (*namelist) + d);</div>
<div class="line"><span class="lineno">  956</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  957</span>    }</div>
<div class="line"><span class="lineno">  958</span>    <span class="keywordflow">if</span> (islist)</div>
<div class="line"><span class="lineno">  959</span>    {</div>
<div class="line"><span class="lineno">  960</span>      <span class="keywordflow">if</span> (!dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">_rembedding</a>)</div>
<div class="line"><span class="lineno">  961</span>      {</div>
<div class="line"><span class="lineno">  962</span>        IS dembedding, lembedding;</div>
<div class="line"><span class="lineno">  963</span>        ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a3ce376b22cde9169f2430c75b4f70549">DMMooseGetEmbedding_Private</a>(dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>, &amp;dembedding);</div>
<div class="line"><span class="lineno">  964</span>        CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  965</span>        <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>)</div>
<div class="line"><span class="lineno">  966</span>        {</div>
<div class="line"><span class="lineno">  967</span>          <span class="comment">// Create a relative embedding into the parent&#39;s index space.</span></div>
<div class="line"><span class="lineno">  968</span>          ierr = ISEmbed(dembedding, dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>, PETSC_TRUE, &amp;lembedding);</div>
<div class="line"><span class="lineno">  969</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  970</span>          <span class="keyword">const</span> PetscInt * lindices;</div>
<div class="line"><span class="lineno">  971</span>          PetscInt len, dlen, llen, *rindices, off, i;</div>
<div class="line"><span class="lineno">  972</span>          ierr = ISGetLocalSize(dembedding, &amp;dlen);</div>
<div class="line"><span class="lineno">  973</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  974</span>          ierr = ISGetLocalSize(lembedding, &amp;llen);</div>
<div class="line"><span class="lineno">  975</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  976</span>          <span class="keywordflow">if</span> (llen != dlen)</div>
<div class="line"><span class="lineno">  977</span>            LIBMESH_SETERRQ1(</div>
<div class="line"><span class="lineno">  978</span>                ((PetscObject)dm)-&gt;comm, PETSC_ERR_PLIB, <span class="stringliteral">&quot;Failed to embed split %u&quot;</span>, d);</div>
<div class="line"><span class="lineno">  979</span>          ierr = ISDestroy(&amp;dembedding);</div>
<div class="line"><span class="lineno">  980</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  981</span>          <span class="comment">// Convert local embedding to global (but still relative) embedding</span></div>
<div class="line"><span class="lineno">  982</span>          ierr = PetscMalloc(llen * <span class="keyword">sizeof</span>(PetscInt), &amp;rindices);</div>
<div class="line"><span class="lineno">  983</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  984</span>          ierr = ISGetIndices(lembedding, &amp;lindices);</div>
<div class="line"><span class="lineno">  985</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  986</span>          ierr = PetscMemcpy(rindices, lindices, llen * <span class="keyword">sizeof</span>(PetscInt));</div>
<div class="line"><span class="lineno">  987</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  988</span>          ierr = ISDestroy(&amp;lembedding);</div>
<div class="line"><span class="lineno">  989</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  990</span>          <span class="comment">// We could get the index offset from a corresponding global vector, but subDMs don&#39;t yet</span></div>
<div class="line"><span class="lineno">  991</span>          <span class="comment">// have global vectors</span></div>
<div class="line"><span class="lineno">  992</span>          ierr = ISGetLocalSize(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>, &amp;len);</div>
<div class="line"><span class="lineno">  993</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>          ierr = MPI_Scan(&amp;len,</div>
<div class="line"><span class="lineno">  996</span>                          &amp;off,</div>
<div class="line"><span class="lineno">  997</span>                          1,</div>
<div class="line"><span class="lineno">  998</span>#ifdef PETSC_USE_64BIT_INDICES</div>
<div class="line"><span class="lineno">  999</span>                          MPI_LONG_LONG_INT,</div>
<div class="line"><span class="lineno"> 1000</span>#<span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1001</span>                          MPI_INT,</div>
<div class="line"><span class="lineno"> 1002</span>#endif</div>
<div class="line"><span class="lineno"> 1003</span>                          MPI_SUM,</div>
<div class="line"><span class="lineno"> 1004</span>                          ((PetscObject)dm)-&gt;comm);</div>
<div class="line"><span class="lineno"> 1005</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>          off -= len;</div>
<div class="line"><span class="lineno"> 1008</span>          <span class="keywordflow">for</span> (i = 0; i &lt; llen; ++i)</div>
<div class="line"><span class="lineno"> 1009</span>            rindices[i] += off;</div>
<div class="line"><span class="lineno"> 1010</span>          ierr = ISCreateGeneral(</div>
<div class="line"><span class="lineno"> 1011</span>              ((PetscObject)dm)-&gt;comm, llen, rindices, PETSC_OWN_POINTER, &amp;(dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">_rembedding</a>));</div>
<div class="line"><span class="lineno"> 1012</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1013</span>        }</div>
<div class="line"><span class="lineno"> 1014</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1015</span>        {</div>
<div class="line"><span class="lineno"> 1016</span>          dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">_rembedding</a> = dembedding;</div>
<div class="line"><span class="lineno"> 1017</span>        }</div>
<div class="line"><span class="lineno"> 1018</span>      }</div>
<div class="line"><span class="lineno"> 1019</span>      ierr = PetscObjectReference((PetscObject)(dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">_rembedding</a>));</div>
<div class="line"><span class="lineno"> 1020</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1021</span>      (*islist)[d] = dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">_rembedding</a>;</div>
<div class="line"><span class="lineno"> 1022</span>      PetscInt is_size;</div>
<div class="line"><span class="lineno"> 1023</span>      ISGetLocalSize(dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">_rembedding</a>, &amp;is_size);</div>
<div class="line"><span class="lineno"> 1024</span>      split_size_sum += is_size;</div>
<div class="line"><span class="lineno"> 1025</span>    }</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keywordflow">if</span> (dmlist)</div>
<div class="line"><span class="lineno"> 1027</span>    {</div>
<div class="line"><span class="lineno"> 1028</span>      ierr = PetscObjectReference((PetscObject)dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>);</div>
<div class="line"><span class="lineno"> 1029</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1030</span>      (*dmlist)[d] = dinfo.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a>;</div>
<div class="line"><span class="lineno"> 1031</span>    }</div>
<div class="line"><span class="lineno"> 1032</span>  }</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>  <span class="keywordflow">if</span> (islist &amp;&amp; libMesh::cast_int&lt;libMesh::numeric_index_type&gt;(split_size_sum) !=</div>
<div class="line"><span class="lineno"> 1035</span>                    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system().get_system_matrix().local_m())</div>
<div class="line"><span class="lineno"> 1036</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;Local split size sum &quot;</span>,</div>
<div class="line"><span class="lineno"> 1037</span>               libMesh::cast_int&lt;libMesh::numeric_index_type&gt;(split_size_sum),</div>
<div class="line"><span class="lineno"> 1038</span>               <span class="stringliteral">&quot; and local system matrix size &quot;</span>,</div>
<div class="line"><span class="lineno"> 1039</span>               dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system().get_system_matrix().local_m(),</div>
<div class="line"><span class="lineno"> 1040</span>               <span class="stringliteral">&quot; do not match. Did you forget a variable or block in one of your splits?&quot;</span>);</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1043</span>}</div>
<div class="ttc" id="aMooseError_8h_html_aa959168eed29caa7aaa85ffc1319a9ad"><div class="ttname"><a href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a></div><div class="ttdeci">void mooseError(Args &amp;&amp;... args)</div><div class="ttdoc">Emit an error message with the given stringified, concatenated args and terminate the application.</div><div class="ttdef"><b>Definition:</b> <a href="MooseError_8h_source.html#l00284">MooseError.h:284</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a3ce376b22cde9169f2430c75b4f70549"><div class="ttname"><a href="PetscDMMoose_8C.html#a3ce376b22cde9169f2430c75b4f70549">DMMooseGetEmbedding_Private</a></div><div class="ttdeci">static PetscErrorCode DMMooseGetEmbedding_Private(DM dm, IS *embedding)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00578">PetscDMMoose.C:578</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_aa4183220afc44231655273cbf1dd7aa9"><div class="ttname"><a href="PetscDMMoose_8C.html#aa4183220afc44231655273cbf1dd7aa9">DMCreateMoose</a></div><div class="ttdeci">PetscErrorCode DMCreateMoose(MPI_Comm comm, NonlinearSystemBase &amp;nl, DM *dm)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l02335">PetscDMMoose.C:2335</a></div></div>
<div class="ttc" id="aclassNonlinearSystemBase_html_a3c0de7457a42f5ed6463c5423aa726ac"><div class="ttname"><a href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">NonlinearSystemBase::nonlinearSolver</a></div><div class="ttdeci">virtual NonlinearSolver&lt; Number &gt; * nonlinearSolver()=0</div></div>
<div class="ttc" id="astructDM__Moose_1_1SplitInfo_html"><div class="ttname"><a href="structDM__Moose_1_1SplitInfo.html">DM_Moose::SplitInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00070">PetscDMMoose.C:71</a></div></div>
<div class="ttc" id="astructDM__Moose_1_1SplitInfo_html_a0b7d45dd0a879b39282c856fb8549b0b"><div class="ttname"><a href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">DM_Moose::SplitInfo::_rembedding</a></div><div class="ttdeci">IS _rembedding</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00073">PetscDMMoose.C:73</a></div></div>
<div class="ttc" id="astructDM__Moose_1_1SplitInfo_html_ac6454f9782659f0e4e1cf18255f6a86d"><div class="ttname"><a href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">DM_Moose::SplitInfo::_dm</a></div><div class="ttdeci">DM _dm</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00072">PetscDMMoose.C:72</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a2e86a3ab685161731f2dd6371b285a40"><div class="ttname"><a href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">DM_Moose::_splitlocs</a></div><div class="ttdeci">std::multimap&lt; std::string, unsigned int &gt; * _splitlocs</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00069">PetscDMMoose.C:69</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a586436ab26e3cc1b33a21cc8b24eedd8"><div class="ttname"><a href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">DM_Moose::_embedding</a></div><div class="ttdeci">IS _embedding</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00076">PetscDMMoose.C:76</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a8d0767a9e557de2334d2eec2d86c252c"><div class="ttname"><a href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">DM_Moose::_nl</a></div><div class="ttdeci">NonlinearSystemBase * _nl</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00037">PetscDMMoose.C:37</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>, and <a class="el" href="PetscDMMoose_8C_source.html#l01048">DMCreateDomainDecomposition_Moose()</a>.</p>

</div>
</div>
<a id="a071a4e00530ddba5c6484dda5689a29a" name="a071a4e00530ddba5c6484dda5689a29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a071a4e00530ddba5c6484dda5689a29a">&#9670;&#160;</a></span>DMCreateGlobalVector_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMCreateGlobalVector_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec *&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01281">1281</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1282</span>{</div>
<div class="line"><span class="lineno"> 1283</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1284</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 1285</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1288</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno"> 1289</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1290</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno"> 1291</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 1292</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno"> 1293</span>                     <span class="stringliteral">&quot;DM of type %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1294</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno"> 1295</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno"> 1296</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>)</div>
<div class="line"><span class="lineno"> 1297</span>    SETERRQ(PETSC_COMM_WORLD, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;No Moose system set for DM_Moose&quot;</span>);</div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>  NumericVector&lt;Number&gt; * nv = (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().solution).<a class="code hl_function" href="namespaceMooseUtils.html#aa0c20201660e1671ffc9cb847b6f8630">get</a>();</div>
<div class="line"><span class="lineno"> 1300</span>  PetscVector&lt;Number&gt; * pv = <span class="keyword">dynamic_cast&lt;</span>PetscVector&lt;Number&gt; *<span class="keyword">&gt;</span>(nv);</div>
<div class="line"><span class="lineno"> 1301</span>  Vec v = pv-&gt;vec();</div>
<div class="line"><span class="lineno"> 1302</span>  <span class="comment">/* Unfortunately, currently this does not produce a ghosted vector, so nonlinear subproblem solves</span></div>
<div class="line"><span class="lineno"> 1303</span><span class="comment">   aren&#39;t going to be easily available.</span></div>
<div class="line"><span class="lineno"> 1304</span><span class="comment">   Should work fine for getting vectors out for linear subproblem solvers. */</span></div>
<div class="line"><span class="lineno"> 1305</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>)</div>
<div class="line"><span class="lineno"> 1306</span>  {</div>
<div class="line"><span class="lineno"> 1307</span>    PetscInt n;</div>
<div class="line"><span class="lineno"> 1308</span>    ierr = VecCreate(((PetscObject)v)-&gt;comm, x);</div>
<div class="line"><span class="lineno"> 1309</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1310</span>    ierr = ISGetLocalSize(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>, &amp;n);</div>
<div class="line"><span class="lineno"> 1311</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1312</span>    ierr = VecSetSizes(*x, n, PETSC_DETERMINE);</div>
<div class="line"><span class="lineno"> 1313</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1314</span>    ierr = VecSetType(*x, ((PetscObject)v)-&gt;type_name);</div>
<div class="line"><span class="lineno"> 1315</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1316</span>    ierr = VecSetFromOptions(*x);</div>
<div class="line"><span class="lineno"> 1317</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1318</span>    ierr = VecSetUp(*x);</div>
<div class="line"><span class="lineno"> 1319</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1320</span>  }</div>
<div class="line"><span class="lineno"> 1321</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1322</span>  {</div>
<div class="line"><span class="lineno"> 1323</span>    ierr = VecDuplicate(v, x);</div>
<div class="line"><span class="lineno"> 1324</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1325</span>  }</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span><span class="preprocessor">#if PETSC_RELEASE_LESS_THAN(3, 13, 0)</span></div>
<div class="line"><span class="lineno"> 1328</span>  ierr = PetscObjectCompose((PetscObject)*x, <span class="stringliteral">&quot;DM&quot;</span>, (PetscObject)dm);</div>
<div class="line"><span class="lineno"> 1329</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1330</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1331</span>  ierr = VecSetDM(*x, dm);</div>
<div class="line"><span class="lineno"> 1332</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1333</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1334</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1335</span>}</div>
<div class="ttc" id="aclassNonlinearSystemBase_html_ae3198c3954c38cca4fdec7ff14b77852"><div class="ttname"><a href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">NonlinearSystemBase::system</a></div><div class="ttdeci">virtual System &amp; system() override</div><div class="ttdoc">Get the reference to the libMesh system.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearSystemBase_8h_source.html#l00625">NonlinearSystemBase.h:625</a></div></div>
<div class="ttc" id="anamespaceMooseUtils_html_aa0c20201660e1671ffc9cb847b6f8630"><div class="ttname"><a href="namespaceMooseUtils.html#aa0c20201660e1671ffc9cb847b6f8630">MooseUtils::get</a></div><div class="ttdeci">T * get(const std::unique_ptr&lt; T &gt; &amp;u)</div><div class="ttdoc">The MooseUtils::get() specializations are used to support making forwards-compatible code changes fro...</div><div class="ttdef"><b>Definition:</b> <a href="MooseUtils_8h_source.html#l01143">MooseUtils.h:1143</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>.</p>

</div>
</div>
<a id="a927e0d720611cd84e6a76e36a192bbee" name="a927e0d720611cd84e6a76e36a192bbee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a927e0d720611cd84e6a76e36a192bbee">&#9670;&#160;</a></span>DMCreateMatrix_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMCreateMatrix_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat *&#160;</td>
          <td class="paramname"><em>A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01340">1340</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1341</span>{</div>
<div class="line"><span class="lineno"> 1342</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1343</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 1344</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno"> 1345</span>  MatType type;</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1348</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno"> 1349</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1350</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno"> 1351</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 1352</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno"> 1353</span>                     <span class="stringliteral">&quot;DM of type %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1354</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno"> 1355</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno"> 1356</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>)</div>
<div class="line"><span class="lineno"> 1357</span>    SETERRQ(PETSC_COMM_WORLD, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;No Moose system set for DM_Moose&quot;</span>);</div>
<div class="line"><span class="lineno"> 1358</span>  ierr = DMGetMatType(dm, &amp;type);</div>
<div class="line"><span class="lineno"> 1359</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1362</span><span class="comment">   The simplest thing for now: compute the sparsity_pattern using dof_map and init the matrix using</span></div>
<div class="line"><span class="lineno"> 1363</span><span class="comment">   that info.</span></div>
<div class="line"><span class="lineno"> 1364</span><span class="comment">   TODO: compute sparsity restricted to this DM&#39;s blocks, variables and sides.</span></div>
<div class="line"><span class="lineno"> 1365</span><span class="comment">   Even fancier: compute the sparsity of the coupling of a contact secondary to the contact primary.</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="comment">   In any event, here we are in control of the matrix type and structure.</span></div>
<div class="line"><span class="lineno"> 1367</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1368</span>  DofMap &amp; dof_map = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map();</div>
<div class="line"><span class="lineno"> 1369</span>  PetscInt M, <a class="code hl_variable" href="namespaceCompileTimeDerivatives.html#a350f341c3e5f81678200ac55935d6ed2">N</a>, m, n;</div>
<div class="line"><span class="lineno"> 1370</span>  MPI_Comm comm;</div>
<div class="line"><span class="lineno"> 1371</span>  M = dof_map.n_dofs();</div>
<div class="line"><span class="lineno"> 1372</span>  <a class="code hl_variable" href="namespaceCompileTimeDerivatives.html#a350f341c3e5f81678200ac55935d6ed2">N</a> = M;</div>
<div class="line"><span class="lineno"> 1373</span>  m = <span class="keyword">static_cast&lt;</span>PetscInt<span class="keyword">&gt;</span>(dof_map.n_dofs_on_processor(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().processor_id()));</div>
<div class="line"><span class="lineno"> 1374</span>  n = m;</div>
<div class="line"><span class="lineno"> 1375</span>  ierr = PetscObjectGetComm((PetscObject)dm, &amp;comm);</div>
<div class="line"><span class="lineno"> 1376</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1377</span>  ierr = MatCreate(comm, A);</div>
<div class="line"><span class="lineno"> 1378</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1379</span>  ierr = MatSetSizes(*A, m, n, M, N);</div>
<div class="line"><span class="lineno"> 1380</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1381</span>  ierr = MatSetType(*A, type);</div>
<div class="line"><span class="lineno"> 1382</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1383</span>  <span class="comment">/* Set preallocation for the basic sparse matrix types (applies only if *A has the right type. */</span></div>
<div class="line"><span class="lineno"> 1384</span>  <span class="comment">/* For now we ignore blocksize issues, since BAIJ doesn&#39;t play well with field decomposition by</span></div>
<div class="line"><span class="lineno"> 1385</span><span class="comment">   * variable. */</span></div>
<div class="line"><span class="lineno"> 1386</span>  <span class="keyword">const</span> std::vector&lt;numeric_index_type&gt; &amp; n_nz = dof_map.get_n_nz();</div>
<div class="line"><span class="lineno"> 1387</span>  <span class="keyword">const</span> std::vector&lt;numeric_index_type&gt; &amp; n_oz = dof_map.get_n_oz();</div>
<div class="line"><span class="lineno"> 1388</span>  ierr = MatSeqAIJSetPreallocation(*A, 0, (PetscInt *)(n_nz.empty() ? NULL : &amp;n_nz[0]));</div>
<div class="line"><span class="lineno"> 1389</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1390</span>  ierr = MatMPIAIJSetPreallocation(*A,</div>
<div class="line"><span class="lineno"> 1391</span>                                   0,</div>
<div class="line"><span class="lineno"> 1392</span>                                   (PetscInt *)(n_nz.empty() ? NULL : &amp;n_nz[0]),</div>
<div class="line"><span class="lineno"> 1393</span>                                   0,</div>
<div class="line"><span class="lineno"> 1394</span>                                   (PetscInt *)(n_oz.empty() ? NULL : &amp;n_oz[0]));</div>
<div class="line"><span class="lineno"> 1395</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1396</span>  <span class="comment">/* TODO: set the prefix for *A and MatSetFromOptions(*A)? Might override the type and other</span></div>
<div class="line"><span class="lineno"> 1397</span><span class="comment">   * settings made here. */</span></div>
<div class="line"><span class="lineno"> 1398</span>  ierr = MatSetUp(*A);</div>
<div class="line"><span class="lineno"> 1399</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1400</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1401</span>}</div>
<div class="ttc" id="anamespaceCompileTimeDerivatives_html_a350f341c3e5f81678200ac55935d6ed2"><div class="ttname"><a href="namespaceCompileTimeDerivatives.html#a350f341c3e5f81678200ac55935d6ed2">CompileTimeDerivatives::N</a></div><div class="ttdeci">int N</div><div class="ttdef"><b>Definition:</b> <a href="CompileTimeDerivatives_8h_source.html#l00908">CompileTimeDerivatives.h:908</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>.</p>

</div>
</div>
<a id="aa4183220afc44231655273cbf1dd7aa9" name="aa4183220afc44231655273cbf1dd7aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4183220afc44231655273cbf1dd7aa9">&#9670;&#160;</a></span>DMCreateMoose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMCreateMoose </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp;&#160;</td>
          <td class="paramname"><em>nl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DM *&#160;</td>
          <td class="paramname"><em>dm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l02335">2335</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2336</span>{</div>
<div class="line"><span class="lineno"> 2337</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 2338</span> </div>
<div class="line"><span class="lineno"> 2339</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 2340</span>  ierr = DMCreate(comm, dm);</div>
<div class="line"><span class="lineno"> 2341</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2342</span>  ierr = DMSetType(*dm, DMMOOSE);</div>
<div class="line"><span class="lineno"> 2343</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2344</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#af2c67a27a0cda486dd76f80245b9da32">DMMooseSetNonlinearSystem</a>(*dm, nl);</div>
<div class="line"><span class="lineno"> 2345</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2346</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 2347</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_af2c67a27a0cda486dd76f80245b9da32"><div class="ttname"><a href="PetscDMMoose_8C.html#af2c67a27a0cda486dd76f80245b9da32">DMMooseSetNonlinearSystem</a></div><div class="ttdeci">PetscErrorCode DMMooseSetNonlinearSystem(DM dm, NonlinearSystemBase &amp;nl)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00237">PetscDMMoose.C:237</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l00905">DMCreateFieldDecomposition_Moose()</a>, and <a class="el" href="PetscSupport_8C_source.html#l00175">Moose::PetscSupport::petscSetupDM()</a>.</p>

</div>
</div>
<a id="a54ebebc39a474fd320f6b8435feaf456" name="a54ebebc39a474fd320f6b8435feaf456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ebebc39a474fd320f6b8435feaf456">&#9670;&#160;</a></span>DMDestroy_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMDestroy_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l02282">2282</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2283</span>{</div>
<div class="line"><span class="lineno"> 2284</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 2285</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 2286</span> </div>
<div class="line"><span class="lineno"> 2287</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 2288</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>)</div>
<div class="line"><span class="lineno"> 2289</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>;</div>
<div class="line"><span class="lineno"> 2290</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a>;</div>
<div class="line"><span class="lineno"> 2291</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a44977af2933b18dc8bfbc104aa93dd39">_var_names</a>;</div>
<div class="line"><span class="lineno"> 2292</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>)</div>
<div class="line"><span class="lineno"> 2293</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>;</div>
<div class="line"><span class="lineno"> 2294</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a>;</div>
<div class="line"><span class="lineno"> 2295</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab2f6f7f5520f773129ccac888187eea0">_block_names</a>;</div>
<div class="line"><span class="lineno"> 2296</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>)</div>
<div class="line"><span class="lineno"> 2297</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>;</div>
<div class="line"><span class="lineno"> 2298</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a>;</div>
<div class="line"><span class="lineno"> 2299</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a>;</div>
<div class="line"><span class="lineno"> 2300</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">_unsides</a>)</div>
<div class="line"><span class="lineno"> 2301</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">_unsides</a>;</div>
<div class="line"><span class="lineno"> 2302</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a>;</div>
<div class="line"><span class="lineno"> 2303</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a>;</div>
<div class="line"><span class="lineno"> 2304</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a>)</div>
<div class="line"><span class="lineno"> 2305</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a>;</div>
<div class="line"><span class="lineno"> 2306</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>;</div>
<div class="line"><span class="lineno"> 2307</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">_contact_displaced</a>;</div>
<div class="line"><span class="lineno"> 2308</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a>)</div>
<div class="line"><span class="lineno"> 2309</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a>;</div>
<div class="line"><span class="lineno"> 2310</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>;</div>
<div class="line"><span class="lineno"> 2311</span>  <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a>;</div>
<div class="line"><span class="lineno"> 2312</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>)</div>
<div class="line"><span class="lineno"> 2313</span>  {</div>
<div class="line"><span class="lineno"> 2314</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; sit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>))</div>
<div class="line"><span class="lineno"> 2315</span>    {</div>
<div class="line"><span class="lineno"> 2316</span>      ierr = DMDestroy(&amp;(sit.second._dm));</div>
<div class="line"><span class="lineno"> 2317</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2318</span>      ierr = ISDestroy(&amp;(sit.second._rembedding));</div>
<div class="line"><span class="lineno"> 2319</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2320</span>    }</div>
<div class="line"><span class="lineno"> 2321</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>;</div>
<div class="line"><span class="lineno"> 2322</span>  }</div>
<div class="line"><span class="lineno"> 2323</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>)</div>
<div class="line"><span class="lineno"> 2324</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>;</div>
<div class="line"><span class="lineno"> 2325</span>  ierr = ISDestroy(&amp;dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>);</div>
<div class="line"><span class="lineno"> 2326</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2327</span>  ierr = PetscFree(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 2328</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2329</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 2330</span>}</div>
<div class="ttc" id="astructDM__Moose_html_a23b14cf944006f17d87c5f2c62f34f83"><div class="ttname"><a href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">DM_Moose::_contacts</a></div><div class="ttdeci">std::set&lt; ContactName &gt; * _contacts</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00056">PetscDMMoose.C:56</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a325f1d6053884151bef6e9df298965bd"><div class="ttname"><a href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">DM_Moose::_sides</a></div><div class="ttdeci">std::set&lt; std::string &gt; * _sides</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00046">PetscDMMoose.C:46</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a4ebfd92bfe2809f8dafc4295757f4d24"><div class="ttname"><a href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">DM_Moose::_unsides</a></div><div class="ttdeci">std::set&lt; std::string &gt; * _unsides</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00049">PetscDMMoose.C:49</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a9e17b0e2a49aec19519419b018b6128e"><div class="ttname"><a href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">DM_Moose::_blocks</a></div><div class="ttdeci">std::set&lt; std::string &gt; * _blocks</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00042">PetscDMMoose.C:42</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a9e9f8c458c2ea80e1c0e8eaf3e2f979b"><div class="ttname"><a href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">DM_Moose::_uncontacts</a></div><div class="ttdeci">std::set&lt; ContactName &gt; * _uncontacts</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00058">PetscDMMoose.C:58</a></div></div>
<div class="ttc" id="astructDM__Moose_html_ab4e4ba741241e9aacbea5faa33cb8713"><div class="ttname"><a href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">DM_Moose::_vars</a></div><div class="ttdeci">std::set&lt; std::string &gt; * _vars</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00038">PetscDMMoose.C:38</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>.</p>

</div>
</div>
<a id="a1e7aa9aae99e3fccbf2075723da00d73" name="a1e7aa9aae99e3fccbf2075723da00d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7aa9aae99e3fccbf2075723da00d73">&#9670;&#160;</a></span>DMMooseFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMMooseFunction </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01066">1066</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1067</span>{</div>
<div class="line"><span class="lineno"> 1068</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1071</span>  libmesh_assert(x);</div>
<div class="line"><span class="lineno"> 1072</span>  libmesh_assert(r);</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>  <a class="code hl_class" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> * nl = NULL;</div>
<div class="line"><span class="lineno"> 1075</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#ae9a1af9e8b9cfb87be97c1670af50155">DMMooseGetNonlinearSystem</a>(dm, nl);</div>
<div class="line"><span class="lineno"> 1076</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1077</span>  PetscVector&lt;Number&gt; &amp; X_sys = *cast_ptr&lt;PetscVector&lt;Number&gt; *&gt;(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().solution.get());</div>
<div class="line"><span class="lineno"> 1078</span>  PetscVector&lt;Number&gt; X_global(x, nl-&gt;comm()), R(r, nl-&gt;comm());</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>  <span class="comment">// Use the system&#39;s update() to get a good local version of the</span></div>
<div class="line"><span class="lineno"> 1081</span>  <span class="comment">// parallel solution.  system.update() does change the residual vector,</span></div>
<div class="line"><span class="lineno"> 1082</span>  <span class="comment">// so there&#39;s no reason to swap PETSc&#39;s residual into the system for</span></div>
<div class="line"><span class="lineno"> 1083</span>  <span class="comment">// this step.</span></div>
<div class="line"><span class="lineno"> 1084</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno"> 1085</span>  nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().update();</div>
<div class="line"><span class="lineno"> 1086</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>  <span class="comment">// Enforce constraints (if any) exactly on the</span></div>
<div class="line"><span class="lineno"> 1089</span>  <span class="comment">// current_local_solution.  This is the solution vector that is</span></div>
<div class="line"><span class="lineno"> 1090</span>  <span class="comment">// actually used in the computation of the residual below, and is</span></div>
<div class="line"><span class="lineno"> 1091</span>  <span class="comment">// not locked by debug-enabled PETSc the way that &quot;x&quot; is.</span></div>
<div class="line"><span class="lineno"> 1092</span>  nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map().enforce_constraints_exactly(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>(),</div>
<div class="line"><span class="lineno"> 1093</span>                                                         nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get());</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>  <span class="comment">// Zero the residual vector before assembling</span></div>
<div class="line"><span class="lineno"> 1096</span>  R.zero();</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>  <span class="comment">// if the user has provided both function pointers and objects only the pointer</span></div>
<div class="line"><span class="lineno"> 1099</span>  <span class="comment">// will be used, so catch that as an error</span></div>
<div class="line"><span class="lineno"> 1100</span>  <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual &amp;&amp; nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_object)</div>
<div class="line"><span class="lineno"> 1101</span>  {</div>
<div class="line"><span class="lineno"> 1102</span>    std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1103</span>    err &lt;&lt; <span class="stringliteral">&quot;ERROR: cannot specifiy both a function and object to compute the Residual!&quot;</span></div>
<div class="line"><span class="lineno"> 1104</span>        &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1105</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1106</span>  }</div>
<div class="line"><span class="lineno"> 1107</span>  <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;matvec &amp;&amp; nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_and_jacobian_object)</div>
<div class="line"><span class="lineno"> 1108</span>  {</div>
<div class="line"><span class="lineno"> 1109</span>    std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1110</span>    err &lt;&lt; <span class="stringliteral">&quot;ERROR: cannot specifiy both a function and object to compute the combined Residual &amp; &quot;</span></div>
<div class="line"><span class="lineno"> 1111</span>           <span class="stringliteral">&quot;Jacobian!&quot;</span></div>
<div class="line"><span class="lineno"> 1112</span>        &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1113</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1114</span>  }</div>
<div class="line"><span class="lineno"> 1115</span>  <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual != NULL)</div>
<div class="line"><span class="lineno"> 1116</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual(</div>
<div class="line"><span class="lineno"> 1117</span>        *(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()), R, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1118</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_object != NULL)</div>
<div class="line"><span class="lineno"> 1119</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_object-&gt;residual(</div>
<div class="line"><span class="lineno"> 1120</span>        *(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()), R, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1121</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;matvec != NULL)</div>
<div class="line"><span class="lineno"> 1122</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;matvec(</div>
<div class="line"><span class="lineno"> 1123</span>        *(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()), &amp;R, NULL, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1124</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_and_jacobian_object != NULL)</div>
<div class="line"><span class="lineno"> 1125</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_and_jacobian_object-&gt;residual_and_jacobian(</div>
<div class="line"><span class="lineno"> 1126</span>        *(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()), &amp;R, NULL, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1127</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1128</span>  {</div>
<div class="line"><span class="lineno"> 1129</span>    std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1130</span>    err &lt;&lt; <span class="stringliteral">&quot;No suitable residual computation routine found&quot;</span>;</div>
<div class="line"><span class="lineno"> 1131</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1132</span>  }</div>
<div class="line"><span class="lineno"> 1133</span>  R.close();</div>
<div class="line"><span class="lineno"> 1134</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1135</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_ae9a1af9e8b9cfb87be97c1670af50155"><div class="ttname"><a href="PetscDMMoose_8C.html#ae9a1af9e8b9cfb87be97c1670af50155">DMMooseGetNonlinearSystem</a></div><div class="ttdeci">PetscErrorCode DMMooseGetNonlinearSystem(DM dm, NonlinearSystemBase *&amp;nl)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00471">PetscDMMoose.C:471</a></div></div>
<div class="ttc" id="aclassNonlinearSystemBase_html"><div class="ttname"><a href="classNonlinearSystemBase.html">NonlinearSystemBase</a></div><div class="ttdoc">Nonlinear system to be solved.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearSystemBase_8h_source.html#l00064">NonlinearSystemBase.h:65</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01140">SNESFunction_DMMoose()</a>.</p>

</div>
</div>
<a id="a0bca446bdde6877e421a094b8b3d5821" name="a0bca446bdde6877e421a094b8b3d5821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bca446bdde6877e421a094b8b3d5821">&#9670;&#160;</a></span>DMMooseGetBlocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetBlocks </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>block_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00189">189</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>{</div>
<div class="line"><span class="lineno">  191</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  192</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  195</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  196</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  197</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  198</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  199</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  200</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  201</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  202</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  203</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  204</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  205</span>  for (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a>))</div>
<div class="line"><span class="lineno">  206</span>    block_names.push_back(it.first);</div>
<div class="line"><span class="lineno">  207</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  208</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeee9bf554360670b7b972130c153ba39" name="aeee9bf554360670b7b972130c153ba39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee9bf554360670b7b972130c153ba39">&#9670;&#160;</a></span>DMMooseGetContacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetContacts </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>contact_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; PetscBool &gt; &amp;&#160;</td>
          <td class="paramname"><em>displaced</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00083">83</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>{</div>
<div class="line"><span class="lineno">   87</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">   88</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">   91</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">   92</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">   93</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">   94</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">   95</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">   96</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">   97</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">   98</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">   99</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  100</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  101</span>  for (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>))</div>
<div class="line"><span class="lineno">  102</span>  {</div>
<div class="line"><span class="lineno">  103</span>    contact_names.push_back(it.second);</div>
<div class="line"><span class="lineno">  104</span>    displaced.push_back((*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">_contact_displaced</a>)[it.second]);</div>
<div class="line"><span class="lineno">  105</span>  }</div>
<div class="line"><span class="lineno">  106</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  107</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ce376b22cde9169f2430c75b4f70549" name="a3ce376b22cde9169f2430c75b4f70549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ce376b22cde9169f2430c75b4f70549">&#9670;&#160;</a></span>DMMooseGetEmbedding_Private()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMMooseGetEmbedding_Private </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IS *&#160;</td>
          <td class="paramname"><em>embedding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00578">578</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  579</span>{</div>
<div class="line"><span class="lineno">  580</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  581</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  584</span>  if (!embedding)</div>
<div class="line"><span class="lineno">  585</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  586</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>)</div>
<div class="line"><span class="lineno">  587</span>  {</div>
<div class="line"><span class="lineno">  588</span>    <span class="comment">// The rules interpreting the coexistence of blocks (un)sides/(un)contacts are these</span></div>
<div class="line"><span class="lineno">  589</span>    <span class="comment">// [sides and contacts behave similarly, so &#39;sides&#39; means &#39;sides/contacts&#39;]</span></div>
<div class="line"><span class="lineno">  590</span>    <span class="comment">// [&#39;ANY&#39; means &#39;not NONE&#39; and covers &#39;ALL&#39; as well, unless there is a specific &#39;ALL&#39; clause,</span></div>
<div class="line"><span class="lineno">  591</span>    <span class="comment">// which overrides &#39;ANY&#39;; &#39;NOT ALL&#39; means not ALL and not NONE]</span></div>
<div class="line"><span class="lineno">  592</span>    <span class="comment">// [there are always some blocks, since by default &#39;ALL&#39; is assumed, unless it is overridden by</span></div>
<div class="line"><span class="lineno">  593</span>    <span class="comment">// a specific list, which implies ANY]</span></div>
<div class="line"><span class="lineno">  594</span>    <span class="comment">// In general,</span></div>
<div class="line"><span class="lineno">  595</span>    <span class="comment">// (1)  ALL blocks      and ANY sides are interpreted as the INTERSECTION of blocks and sides,</span></div>
<div class="line"><span class="lineno">  596</span>    <span class="comment">// equivalent to just the sides (since ALL blocks are assumed to be a cover).</span></div>
<div class="line"><span class="lineno">  597</span>    <span class="comment">// (2)  NOT ALL blocks  and ANY or NO sides are interpreted as the UNION of blocks and sides.</span></div>
<div class="line"><span class="lineno">  598</span>    <span class="comment">// (3a) ANY unsides and ANY blocks are interpreted as the DIFFERENCE of blocks and unsides.</span></div>
<div class="line"><span class="lineno">  599</span>    <span class="comment">// (3b) ANY unsides and ANY sides are interpreted as the DIFFERENCE of sides and unsides.</span></div>
<div class="line"><span class="lineno">  600</span>    <span class="comment">// (4)  NO  unsides means NO DIFFERENCE is needed.</span></div>
<div class="line"><span class="lineno">  601</span>    <span class="comment">// The result is easily computed by first computing the result of (1 &amp; 2) followed by difference</span></div>
<div class="line"><span class="lineno">  602</span>    <span class="comment">// with the result of (3 &amp; 4).</span></div>
<div class="line"><span class="lineno">  603</span>    <span class="comment">// To simply (1 &amp; 2) observe the following:</span></div>
<div class="line"><span class="lineno">  604</span>    <span class="comment">// - The intersection is computed only if ALL blocks and ANY sides, and the result is the sides,</span></div>
<div class="line"><span class="lineno">  605</span>    <span class="comment">// so block dofs do not need to be computed.</span></div>
<div class="line"><span class="lineno">  606</span>    <span class="comment">// - Otherwise the union is computed, and initially consists of the blocks&#39; dofs, to which the</span></div>
<div class="line"><span class="lineno">  607</span>    <span class="comment">// sides&#39; dofs are added, if ANY.</span></div>
<div class="line"><span class="lineno">  608</span>    <span class="comment">// - The result is called &#39;indices&#39;</span></div>
<div class="line"><span class="lineno">  609</span>    <span class="comment">// To satisfy (3 &amp; 4) simply cmpute subtrahend set &#39;unindices&#39; as all of the unsides&#39; dofs:</span></div>
<div class="line"><span class="lineno">  610</span>    <span class="comment">// Then take the set difference of &#39;indices&#39; and &#39;unindices&#39;, putting the result in &#39;dindices&#39;.</span></div>
<div class="line"><span class="lineno">  611</span>    <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aaf0046c8fb6176f703b02acb0dabc246">_all_vars</a> || !dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#abc5d370aa0cc5c9bd0a67e9fef498aad">_all_blocks</a> || !dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">_nosides</a> || !dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4333873e8a96dff347a65fde76743929">_nounsides</a> ||</div>
<div class="line"><span class="lineno">  612</span>        !dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">_nocontacts</a> || !dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a616bee6dd2708606a52763714df276de">_nouncontacts</a>)</div>
<div class="line"><span class="lineno">  613</span>    {</div>
<div class="line"><span class="lineno">  614</span>      DofMap &amp; dofmap = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map();</div>
<div class="line"><span class="lineno">  615</span>      <span class="comment">// Put this outside the lambda scope to avoid constant memory reallocation</span></div>
<div class="line"><span class="lineno">  616</span>      std::vector&lt;dof_id_type&gt; node_indices;</div>
<div class="line"><span class="lineno">  617</span>      <span class="keyword">auto</span> process_nodal_dof_indices =</div>
<div class="line"><span class="lineno">  618</span>          [&amp;dofmap, &amp;node_indices](<span class="keyword">const</span> Node &amp; node,</div>
<div class="line"><span class="lineno">  619</span>                                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var_num,</div>
<div class="line"><span class="lineno">  620</span>                                   std::set&lt;dof_id_type&gt; &amp; local_indices,</div>
<div class="line"><span class="lineno">  621</span>                                   std::set&lt;dof_id_type&gt; * <span class="keyword">const</span> nonlocal_indices = <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  622</span>      {</div>
<div class="line"><span class="lineno">  623</span>        dofmap.dof_indices(&amp;node, node_indices, var_num);</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> index : node_indices)</div>
<div class="line"><span class="lineno">  625</span>        {</div>
<div class="line"><span class="lineno">  626</span>          <span class="keywordflow">if</span> (index &gt;= dofmap.first_dof() &amp;&amp; index &lt; dofmap.end_dof())</div>
<div class="line"><span class="lineno">  627</span>            local_indices.insert(index);</div>
<div class="line"><span class="lineno">  628</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nonlocal_indices)</div>
<div class="line"><span class="lineno">  629</span>            nonlocal_indices-&gt;insert(index);</div>
<div class="line"><span class="lineno">  630</span>        }</div>
<div class="line"><span class="lineno">  631</span>      };</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>      <span class="keyword">auto</span> process_elem_dof_indices =</div>
<div class="line"><span class="lineno">  634</span>          [&amp;dofmap](<span class="keyword">const</span> std::vector&lt;dof_id_type&gt; &amp; elem_indices,</div>
<div class="line"><span class="lineno">  635</span>                    std::set&lt;dof_id_type&gt; &amp; local_indices,</div>
<div class="line"><span class="lineno">  636</span>                    std::set&lt;dof_id_type&gt; * <span class="keyword">const</span> nonlocal_indices = <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  637</span>      {</div>
<div class="line"><span class="lineno">  638</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> index : elem_indices)</div>
<div class="line"><span class="lineno">  639</span>        {</div>
<div class="line"><span class="lineno">  640</span>          <span class="keywordflow">if</span> (index &gt;= dofmap.first_dof() &amp;&amp; index &lt; dofmap.end_dof())</div>
<div class="line"><span class="lineno">  641</span>            local_indices.insert(index);</div>
<div class="line"><span class="lineno">  642</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nonlocal_indices)</div>
<div class="line"><span class="lineno">  643</span>            nonlocal_indices-&gt;insert(index);</div>
<div class="line"><span class="lineno">  644</span>        }</div>
<div class="line"><span class="lineno">  645</span>      };</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>      std::set&lt;dof_id_type&gt; indices;</div>
<div class="line"><span class="lineno">  648</span>      std::set&lt;dof_id_type&gt; unindices;</div>
<div class="line"><span class="lineno">  649</span>      std::set&lt;dof_id_type&gt; cached_indices;</div>
<div class="line"><span class="lineno">  650</span>      std::set&lt;dof_id_type&gt; cached_unindices;</div>
<div class="line"><span class="lineno">  651</span>      <span class="keyword">auto</span> &amp; lm_mesh = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_mesh();</div>
<div class="line"><span class="lineno">  652</span>      <span class="keyword">const</span> <span class="keyword">auto</span> &amp; node_to_elem_map = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#aa27c81fbc6a036f90366ab67ec5c5150">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#a2bbda3044e07b4bfb39b3628ffa72005">nodeToElemMap</a>();</div>
<div class="line"><span class="lineno">  653</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; vit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a>))</div>
<div class="line"><span class="lineno">  654</span>      {</div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v = vit.second;</div>
<div class="line"><span class="lineno">  656</span>        <span class="comment">// Iterate only over this DM&#39;s blocks.</span></div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#abc5d370aa0cc5c9bd0a67e9fef498aad">_all_blocks</a> || (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">_nosides</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">_nocontacts</a>))</div>
<div class="line"><span class="lineno">  658</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; bit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a>))</div>
<div class="line"><span class="lineno">  659</span>          {</div>
<div class="line"><span class="lineno">  660</span>            subdomain_id_type b = bit.second;</div>
<div class="line"><span class="lineno">  661</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : as_range(lm_mesh.active_local_subdomain_elements_begin(b),</div>
<div class="line"><span class="lineno">  662</span>                                              lm_mesh.active_local_subdomain_elements_end(b)))</div>
<div class="line"><span class="lineno">  663</span>            {</div>
<div class="line"><span class="lineno">  664</span>              <span class="comment">// Get the degree of freedom indices for the given variable off the current element.</span></div>
<div class="line"><span class="lineno">  665</span>              std::vector&lt;dof_id_type&gt; evindices;</div>
<div class="line"><span class="lineno">  666</span>              dofmap.dof_indices(elem, evindices, v);</div>
<div class="line"><span class="lineno">  667</span>              process_elem_dof_indices(evindices, indices);</div>
<div class="line"><span class="lineno">  668</span>            }</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>            <span class="comment">// Sometime, we own nodes but do not own the elements the nodes connected to</span></div>
<div class="line"><span class="lineno">  671</span>            {</div>
<div class="line"><span class="lineno">  672</span>              <span class="keywordtype">bool</span> is_on_current_block = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  673</span>              <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : lm_mesh.local_node_ptr_range())</div>
<div class="line"><span class="lineno">  674</span>              {</div>
<div class="line"><span class="lineno">  675</span>                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_comp = node-&gt;n_comp(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().number(), v);</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>                <span class="comment">// skip it if no dof</span></div>
<div class="line"><span class="lineno">  678</span>                <span class="keywordflow">if</span> (!n_comp)</div>
<div class="line"><span class="lineno">  679</span>                  <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>                <span class="keyword">auto</span> node_to_elem_pair = node_to_elem_map.find(node-&gt;id());</div>
<div class="line"><span class="lineno">  682</span>                is_on_current_block = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  683</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem_num : node_to_elem_pair-&gt;second)</div>
<div class="line"><span class="lineno">  684</span>                {</div>
<div class="line"><span class="lineno">  685</span>                  <span class="comment">// if one of incident elements belongs to a block, we consider</span></div>
<div class="line"><span class="lineno">  686</span>                  <span class="comment">// the node lives in the block</span></div>
<div class="line"><span class="lineno">  687</span>                  Elem &amp; neighbor_elem = lm_mesh.elem_ref(elem_num);</div>
<div class="line"><span class="lineno">  688</span>                  <span class="keywordflow">if</span> (neighbor_elem.subdomain_id() == b)</div>
<div class="line"><span class="lineno">  689</span>                  {</div>
<div class="line"><span class="lineno">  690</span>                    is_on_current_block = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  691</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  692</span>                  }</div>
<div class="line"><span class="lineno">  693</span>                }</div>
<div class="line"><span class="lineno">  694</span>                <span class="comment">// we add indices for the current block only</span></div>
<div class="line"><span class="lineno">  695</span>                <span class="keywordflow">if</span> (!is_on_current_block)</div>
<div class="line"><span class="lineno">  696</span>                  <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>                process_nodal_dof_indices(*node, v, indices);</div>
<div class="line"><span class="lineno">  699</span>              }</div>
<div class="line"><span class="lineno">  700</span>            }</div>
<div class="line"><span class="lineno">  701</span>          }</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>        <span class="comment">// Iterate over the sides from this split.</span></div>
<div class="line"><span class="lineno">  704</span>        <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a>-&gt;size())</div>
<div class="line"><span class="lineno">  705</span>        {</div>
<div class="line"><span class="lineno">  706</span>          <span class="comment">// For some reason the following may return an empty node list</span></div>
<div class="line"><span class="lineno">  707</span>          <span class="comment">// std::vector&lt;dof_id_type&gt; snodes;</span></div>
<div class="line"><span class="lineno">  708</span>          <span class="comment">// std::vector&lt;boundary_id_type&gt; sides;</span></div>
<div class="line"><span class="lineno">  709</span>          <span class="comment">// dmm-&gt;nl-&gt;system().get_mesh().get_boundary_info().build_node_list(snodes, sides);</span></div>
<div class="line"><span class="lineno">  710</span>          <span class="comment">// // FIXME: make an array of (snode,side) pairs, sort on side and use std::lower_bound</span></div>
<div class="line"><span class="lineno">  711</span>          <span class="comment">// from &lt;algorithm&gt;</span></div>
<div class="line"><span class="lineno">  712</span>          <span class="comment">// for (dof_id_type i = 0; i &lt; sides.size(); ++i) {</span></div>
<div class="line"><span class="lineno">  713</span>          <span class="comment">//   boundary_id_type s = sides[i];</span></div>
<div class="line"><span class="lineno">  714</span>          <span class="comment">//   if (!dmm-&gt;sidenames-&gt;count(s)) continue;</span></div>
<div class="line"><span class="lineno">  715</span>          <span class="comment">//  const Node&amp; node = dmm-&gt;nl-&gt;system().get_mesh().node_ref(snodes[i]);</span></div>
<div class="line"><span class="lineno">  716</span>          <span class="comment">//  // determine v&#39;s dof on node and insert into indices</span></div>
<div class="line"><span class="lineno">  717</span>          <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  718</span>          <a class="code hl_typedef" href="MooseMesh_8h.html#aca34636b05b0ef06c116ffa82e2c1725">ConstBndNodeRange</a> &amp; bnodes = *dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#ac71417f700a272ce0cb847f9b3f17a5a">getBoundaryNodeRange</a>();</div>
<div class="line"><span class="lineno">  719</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; bnode : bnodes)</div>
<div class="line"><span class="lineno">  720</span>          {</div>
<div class="line"><span class="lineno">  721</span>            <a class="code hl_typedef" href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a> boundary_id = bnode-&gt;_bnd_id;</div>
<div class="line"><span class="lineno">  722</span>            <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a>-&gt;find(boundary_id) == dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a>-&gt;end())</div>
<div class="line"><span class="lineno">  723</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>            <span class="keyword">const</span> Node * node = bnode-&gt;_node;</div>
<div class="line"><span class="lineno">  726</span>            process_nodal_dof_indices(*node, v, indices);</div>
<div class="line"><span class="lineno">  727</span>          }</div>
<div class="line"><span class="lineno">  728</span>        }</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>        <span class="comment">// Iterate over the sides excluded from this split.</span></div>
<div class="line"><span class="lineno">  731</span>        <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a>-&gt;size())</div>
<div class="line"><span class="lineno">  732</span>        {</div>
<div class="line"><span class="lineno">  733</span>          <a class="code hl_typedef" href="MooseMesh_8h.html#aca34636b05b0ef06c116ffa82e2c1725">ConstBndNodeRange</a> &amp; bnodes = *dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#ac71417f700a272ce0cb847f9b3f17a5a">getBoundaryNodeRange</a>();</div>
<div class="line"><span class="lineno">  734</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; bnode : bnodes)</div>
<div class="line"><span class="lineno">  735</span>          {</div>
<div class="line"><span class="lineno">  736</span>            <a class="code hl_typedef" href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a> boundary_id = bnode-&gt;_bnd_id;</div>
<div class="line"><span class="lineno">  737</span>            <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a>-&gt;find(boundary_id) == dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a>-&gt;end())</div>
<div class="line"><span class="lineno">  738</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  739</span>            <span class="keyword">const</span> Node * node = bnode-&gt;_node;</div>
<div class="line"><span class="lineno">  740</span>            process_nodal_dof_indices(*node, v, unindices);</div>
<div class="line"><span class="lineno">  741</span>          }</div>
<div class="line"><span class="lineno">  742</span>        }</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>        <span class="keyword">auto</span> process_contact_all_nodes =</div>
<div class="line"><span class="lineno">  745</span>            [dmm, process_nodal_dof_indices, v](<span class="keyword">const</span> <span class="keyword">auto</span> &amp; contact_names,</div>
<div class="line"><span class="lineno">  746</span>                                                <span class="keyword">auto</span> &amp; indices_to_insert_to)</div>
<div class="line"><span class="lineno">  747</span>        {</div>
<div class="line"><span class="lineno">  748</span>          std::set&lt;boundary_id_type&gt; bc_id_set;</div>
<div class="line"><span class="lineno">  749</span>          <span class="comment">// loop over contacts</span></div>
<div class="line"><span class="lineno">  750</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [contact_bid_pair, contact_bname_pair] : contact_names)</div>
<div class="line"><span class="lineno">  751</span>          {</div>
<div class="line"><span class="lineno">  752</span>            libmesh_ignore(contact_bname_pair);</div>
<div class="line"><span class="lineno">  753</span>            bc_id_set.insert(contact_bid_pair.first);  <span class="comment">// primary</span></div>
<div class="line"><span class="lineno">  754</span>            bc_id_set.insert(contact_bid_pair.second); <span class="comment">// secondary</span></div>
<div class="line"><span class="lineno">  755</span>          }</div>
<div class="line"><span class="lineno">  756</span>          <span class="comment">// loop over boundary elements</span></div>
<div class="line"><span class="lineno">  757</span>          <a class="code hl_typedef" href="MooseMesh_8h.html#a86bc6f604ad1807e5f51af45fba4527b">ConstBndElemRange</a> &amp; range = *dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#aa27c81fbc6a036f90366ab67ec5c5150">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#af1de40e02fed751f162268afda4468f0">getBoundaryElementRange</a>();</div>
<div class="line"><span class="lineno">  758</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; belem : range)</div>
<div class="line"><span class="lineno">  759</span>          {</div>
<div class="line"><span class="lineno">  760</span>            <span class="keyword">const</span> Elem * elem_bdry = belem-&gt;_elem;</div>
<div class="line"><span class="lineno">  761</span>            <span class="keyword">const</span> <span class="keyword">auto</span> side = belem-&gt;_side;</div>
<div class="line"><span class="lineno">  762</span>            <a class="code hl_typedef" href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a> boundary_id = belem-&gt;_bnd_id;</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>            <span class="keywordflow">if</span> (bc_id_set.find(boundary_id) == bc_id_set.end())</div>
<div class="line"><span class="lineno">  765</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> node_idx : elem_bdry-&gt;node_index_range())</div>
<div class="line"><span class="lineno">  768</span>              <span class="keywordflow">if</span> (elem_bdry-&gt;is_node_on_side(node_idx, side))</div>
<div class="line"><span class="lineno">  769</span>                process_nodal_dof_indices(elem_bdry-&gt;node_ref(node_idx), v, indices_to_insert_to);</div>
<div class="line"><span class="lineno">  770</span>          }</div>
<div class="line"><span class="lineno">  771</span>        };</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>        <span class="keyword">auto</span> process_contact_some_nodes =</div>
<div class="line"><span class="lineno">  774</span>            [dmm, process_nodal_dof_indices, v, &amp;dofmap, &amp;lm_mesh, process_elem_dof_indices](</div>
<div class="line"><span class="lineno">  775</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp; contact_names,</div>
<div class="line"><span class="lineno">  776</span>                <span class="keyword">auto</span> &amp; indices_to_insert_to,</div>
<div class="line"><span class="lineno">  777</span>                <span class="keyword">auto</span> &amp; nonlocal_indices_to_insert_to)</div>
<div class="line"><span class="lineno">  778</span>        {</div>
<div class="line"><span class="lineno">  779</span>          std::vector&lt;dof_id_type&gt; evindices;</div>
<div class="line"><span class="lineno">  780</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; it : contact_names)</div>
<div class="line"><span class="lineno">  781</span>          {</div>
<div class="line"><span class="lineno">  782</span>            PetscBool displaced = (*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a>)[it.second];</div>
<div class="line"><span class="lineno">  783</span>            <a class="code hl_class" href="classPenetrationLocator.html">PenetrationLocator</a> * locator;</div>
<div class="line"><span class="lineno">  784</span>            if (displaced)</div>
<div class="line"><span class="lineno">  785</span>            {</div>
<div class="line"><span class="lineno">  786</span>              std::shared_ptr&lt;DisplacedProblem&gt; displaced_problem =</div>
<div class="line"><span class="lineno">  787</span>                  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a5abab421d4d44867d8fe32d8864f68bd">getDisplacedProblem</a>();</div>
<div class="line"><span class="lineno">  788</span>              <span class="keywordflow">if</span> (!displaced_problem)</div>
<div class="line"><span class="lineno">  789</span>              {</div>
<div class="line"><span class="lineno">  790</span>                std::ostringstream err;</div>
<div class="line"><span class="lineno">  791</span>                err &lt;&lt; <span class="stringliteral">&quot;Cannot use a displaced uncontact (&quot;</span> &lt;&lt; it.second.first &lt;&lt; <span class="stringliteral">&quot;,&quot;</span></div>
<div class="line"><span class="lineno">  792</span>                    &lt;&lt; it.second.second &lt;&lt; <span class="stringliteral">&quot;) with an undisplaced problem&quot;</span>;</div>
<div class="line"><span class="lineno">  793</span>                <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno">  794</span>              }</div>
<div class="line"><span class="lineno">  795</span>              locator = displaced_problem-&gt;geomSearchData()._penetration_locators[it.first];</div>
<div class="line"><span class="lineno">  796</span>            }</div>
<div class="line"><span class="lineno">  797</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  798</span>              locator = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a6594bc2a311210e038cabb57de287784">geomSearchData</a>().<a class="code hl_variable" href="classGeometricSearchData.html#a600305136aabda040eede2c5513fb864">_penetration_locators</a>[it.first];</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>            evindices.clear();</div>
<div class="line"><span class="lineno">  801</span>            <span class="comment">// penetration locator</span></div>
<div class="line"><span class="lineno">  802</span>            <span class="keyword">auto</span> lend = locator-&gt;_penetration_info.end();</div>
<div class="line"><span class="lineno">  803</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> lit = locator-&gt;_penetration_info.begin(); lit != lend; ++lit)</div>
<div class="line"><span class="lineno">  804</span>            {</div>
<div class="line"><span class="lineno">  805</span>              <span class="keyword">const</span> dof_id_type secondary_node_num = lit-&gt;first;</div>
<div class="line"><span class="lineno">  806</span>              <a class="code hl_class" href="classPenetrationInfo.html">PenetrationInfo</a> * pinfo = lit-&gt;second;</div>
<div class="line"><span class="lineno">  807</span>              <span class="keywordflow">if</span> (pinfo &amp;&amp; pinfo-&gt;<a class="code hl_function" href="classPenetrationInfo.html#ab74f6822f49072c16b21c24e59020b0b">isCaptured</a>())</div>
<div class="line"><span class="lineno">  808</span>              {</div>
<div class="line"><span class="lineno">  809</span>                Node &amp; secondary_node = lm_mesh.node_ref(secondary_node_num);</div>
<div class="line"><span class="lineno">  810</span>                process_nodal_dof_indices(</div>
<div class="line"><span class="lineno">  811</span>                    secondary_node, v, indices_to_insert_to, &amp;nonlocal_indices_to_insert_to);</div>
<div class="line"><span class="lineno">  812</span> </div>
<div class="line"><span class="lineno">  813</span>                <span class="comment">// indices for primary element</span></div>
<div class="line"><span class="lineno">  814</span>                evindices.clear();</div>
<div class="line"><span class="lineno">  815</span>                <span class="keyword">const</span> Elem * primary_side = pinfo-&gt;<a class="code hl_variable" href="classPenetrationInfo.html#a06dc594bc99461c618e5fa2230c90c16">_side</a>;</div>
<div class="line"><span class="lineno">  816</span>                dofmap.dof_indices(primary_side, evindices, v);</div>
<div class="line"><span class="lineno">  817</span>                process_elem_dof_indices(</div>
<div class="line"><span class="lineno">  818</span>                    evindices, indices_to_insert_to, &amp;nonlocal_indices_to_insert_to);</div>
<div class="line"><span class="lineno">  819</span>              } <span class="comment">// if pinfo</span></div>
<div class="line"><span class="lineno">  820</span>            }   <span class="comment">// for penetration</span></div>
<div class="line"><span class="lineno">  821</span>          }     <span class="comment">// for contact name</span></div>
<div class="line"><span class="lineno">  822</span>        };</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>        <span class="comment">// Include all nodes on the contact surfaces</span></div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>-&gt;size() &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">_include_all_contact_nodes</a>)</div>
<div class="line"><span class="lineno">  826</span>          process_contact_all_nodes(*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>, indices);</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>        <span class="comment">// Iterate over the contacts included in this split.</span></div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>-&gt;size() &amp;&amp; !(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">_include_all_contact_nodes</a>))</div>
<div class="line"><span class="lineno">  830</span>          process_contact_some_nodes(*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>, indices, cached_indices);</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>        <span class="comment">// Exclude all nodes on the contact surfaces</span></div>
<div class="line"><span class="lineno">  833</span>        <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>-&gt;size() &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">_include_all_contact_nodes</a>)</div>
<div class="line"><span class="lineno">  834</span>          process_contact_all_nodes(*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>, unindices);</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>        <span class="comment">// Iterate over the contacts excluded from this split.</span></div>
<div class="line"><span class="lineno">  837</span>        <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>-&gt;size() &amp;&amp; !(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">_include_all_contact_nodes</a>))</div>
<div class="line"><span class="lineno">  838</span>          process_contact_some_nodes(*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>, unindices, cached_unindices);</div>
<div class="line"><span class="lineno">  839</span>      } <span class="comment">// variables</span></div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>      std::vector&lt;dof_id_type&gt; local_vec_indices(cached_indices.size());</div>
<div class="line"><span class="lineno">  842</span>      std::copy(cached_indices.begin(), cached_indices.end(), local_vec_indices.begin());</div>
<div class="line"><span class="lineno">  843</span>      <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>-&gt;size() &amp;&amp; !(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">_include_all_contact_nodes</a>))</div>
<div class="line"><span class="lineno">  844</span>        dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#aa27c81fbc6a036f90366ab67ec5c5150">mesh</a>().comm().allgather(local_vec_indices, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  845</span>      <span class="comment">// insert indices</span></div>
<div class="line"><span class="lineno">  846</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dof : local_vec_indices)</div>
<div class="line"><span class="lineno">  847</span>        <span class="keywordflow">if</span> (dof &gt;= dofmap.first_dof() &amp;&amp; dof &lt; dofmap.end_dof())</div>
<div class="line"><span class="lineno">  848</span>          indices.insert(dof);</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>      local_vec_indices.clear();</div>
<div class="line"><span class="lineno">  851</span>      local_vec_indices.resize(cached_unindices.size());</div>
<div class="line"><span class="lineno">  852</span>      std::copy(cached_unindices.begin(), cached_unindices.end(), local_vec_indices.begin());</div>
<div class="line"><span class="lineno">  853</span>      <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>-&gt;size() &amp;&amp; !(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">_include_all_contact_nodes</a>))</div>
<div class="line"><span class="lineno">  854</span>        dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#aa27c81fbc6a036f90366ab67ec5c5150">mesh</a>().comm().allgather(local_vec_indices, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  855</span>      <span class="comment">// insert unindices</span></div>
<div class="line"><span class="lineno">  856</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dof : local_vec_indices)</div>
<div class="line"><span class="lineno">  857</span>        <span class="keywordflow">if</span> (dof &gt;= dofmap.first_dof() &amp;&amp; dof &lt; dofmap.end_dof())</div>
<div class="line"><span class="lineno">  858</span>          unindices.insert(dof);</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>      std::set&lt;dof_id_type&gt; dindices;</div>
<div class="line"><span class="lineno">  861</span>      std::set_difference(indices.begin(),</div>
<div class="line"><span class="lineno">  862</span>                          indices.end(),</div>
<div class="line"><span class="lineno">  863</span>                          unindices.begin(),</div>
<div class="line"><span class="lineno">  864</span>                          unindices.end(),</div>
<div class="line"><span class="lineno">  865</span>                          std::inserter(dindices, dindices.end()));</div>
<div class="line"><span class="lineno">  866</span>      PetscInt * darray;</div>
<div class="line"><span class="lineno">  867</span>      ierr = PetscMalloc(<span class="keyword">sizeof</span>(PetscInt) * dindices.size(), &amp;darray);</div>
<div class="line"><span class="lineno">  868</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  869</span>      dof_id_type i = 0;</div>
<div class="line"><span class="lineno">  870</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dof : dindices)</div>
<div class="line"><span class="lineno">  871</span>      {</div>
<div class="line"><span class="lineno">  872</span>        darray[i] = dof;</div>
<div class="line"><span class="lineno">  873</span>        ++i;</div>
<div class="line"><span class="lineno">  874</span>      }</div>
<div class="line"><span class="lineno">  875</span>      ierr = ISCreateGeneral(</div>
<div class="line"><span class="lineno">  876</span>          ((PetscObject)dm)-&gt;comm, dindices.size(), darray, PETSC_OWN_POINTER, &amp;dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>);</div>
<div class="line"><span class="lineno">  877</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  878</span>    }</div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  880</span>    {</div>
<div class="line"><span class="lineno">  881</span>      <span class="comment">// if (dmm-&gt;allblocks &amp;&amp; dmm-&gt;allvars &amp;&amp; dmm-&gt;nosides &amp;&amp; dmm-&gt;nounsides &amp;&amp; dmm-&gt;nocontacts &amp;&amp;</span></div>
<div class="line"><span class="lineno">  882</span>      <span class="comment">// dmm-&gt;nouncontacts)</span></div>
<div class="line"><span class="lineno">  883</span>      <span class="comment">// DMCreateGlobalVector is defined()</span></div>
<div class="line"><span class="lineno">  884</span>      Vec v;</div>
<div class="line"><span class="lineno">  885</span>      PetscInt low, high;</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>      ierr = DMCreateGlobalVector(dm, &amp;v);</div>
<div class="line"><span class="lineno">  888</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  889</span>      ierr = VecGetOwnershipRange(v, &amp;low, &amp;high);</div>
<div class="line"><span class="lineno">  890</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  891</span>      ierr = ISCreateStride(((PetscObject)dm)-&gt;comm, (high - low), low, 1, &amp;dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>);</div>
<div class="line"><span class="lineno">  892</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  893</span>    }</div>
<div class="line"><span class="lineno">  894</span>  }</div>
<div class="line"><span class="lineno">  895</span>  ierr = PetscObjectReference((PetscObject)(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>));</div>
<div class="line"><span class="lineno">  896</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  897</span>  *embedding = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>;</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  900</span>}</div>
<div class="ttc" id="aAutomaticMortarGeneration_8h_html_acdf40e62836d2c708e17f9e204b0f877"><div class="ttname"><a href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a></div><div class="ttdeci">boundary_id_type BoundaryID</div><div class="ttdef"><b>Definition:</b> <a href="AutomaticMortarGeneration_8h_source.html#l00049">AutomaticMortarGeneration.h:49</a></div></div>
<div class="ttc" id="aMooseMesh_8h_html_a86bc6f604ad1807e5f51af45fba4527b"><div class="ttname"><a href="MooseMesh_8h.html#a86bc6f604ad1807e5f51af45fba4527b">ConstBndElemRange</a></div><div class="ttdeci">StoredRange&lt; MooseMesh::const_bnd_elem_iterator, const BndElement * &gt; ConstBndElemRange</div><div class="ttdef"><b>Definition:</b> <a href="MooseMesh_8h_source.html#l01997">MooseMesh.h:1997</a></div></div>
<div class="ttc" id="aMooseMesh_8h_html_aca34636b05b0ef06c116ffa82e2c1725"><div class="ttname"><a href="MooseMesh_8h.html#aca34636b05b0ef06c116ffa82e2c1725">ConstBndNodeRange</a></div><div class="ttdeci">StoredRange&lt; MooseMesh::const_bnd_node_iterator, const BndNode * &gt; ConstBndNodeRange</div><div class="ttdoc">Some useful StoredRange typedefs.</div><div class="ttdef"><b>Definition:</b> <a href="MooseMesh_8h_source.html#l01996">MooseMesh.h:1996</a></div></div>
<div class="ttc" id="aclassFEProblemBase_html_a5abab421d4d44867d8fe32d8864f68bd"><div class="ttname"><a href="classFEProblemBase.html#a5abab421d4d44867d8fe32d8864f68bd">FEProblemBase::getDisplacedProblem</a></div><div class="ttdeci">virtual std::shared_ptr&lt; const DisplacedProblem &gt; getDisplacedProblem() const</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8h_source.html#l01414">FEProblemBase.h:1414</a></div></div>
<div class="ttc" id="aclassFEProblemBase_html_a6594bc2a311210e038cabb57de287784"><div class="ttname"><a href="classFEProblemBase.html#a6594bc2a311210e038cabb57de287784">FEProblemBase::geomSearchData</a></div><div class="ttdeci">virtual GeometricSearchData &amp; geomSearchData() override</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8h_source.html#l01454">FEProblemBase.h:1454</a></div></div>
<div class="ttc" id="aclassFEProblemBase_html_aa27c81fbc6a036f90366ab67ec5c5150"><div class="ttname"><a href="classFEProblemBase.html#aa27c81fbc6a036f90366ab67ec5c5150">FEProblemBase::mesh</a></div><div class="ttdeci">virtual MooseMesh &amp; mesh() override</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8h_source.html#l00154">FEProblemBase.h:154</a></div></div>
<div class="ttc" id="aclassGeometricSearchData_html_a600305136aabda040eede2c5513fb864"><div class="ttname"><a href="classGeometricSearchData.html#a600305136aabda040eede2c5513fb864">GeometricSearchData::_penetration_locators</a></div><div class="ttdeci">std::map&lt; std::pair&lt; BoundaryID, BoundaryID &gt;, PenetrationLocator * &gt; _penetration_locators</div><div class="ttdef"><b>Definition:</b> <a href="GeometricSearchData_8h_source.html#l00100">GeometricSearchData.h:100</a></div></div>
<div class="ttc" id="aclassMooseMesh_html_a2bbda3044e07b4bfb39b3628ffa72005"><div class="ttname"><a href="classMooseMesh.html#a2bbda3044e07b4bfb39b3628ffa72005">MooseMesh::nodeToElemMap</a></div><div class="ttdeci">const std::map&lt; dof_id_type, std::vector&lt; dof_id_type &gt; &gt; &amp; nodeToElemMap()</div><div class="ttdoc">If not already created, creates a map from every node to all elements to which they are connected.</div><div class="ttdef"><b>Definition:</b> <a href="MooseMesh_8C_source.html#l00975">MooseMesh.C:975</a></div></div>
<div class="ttc" id="aclassMooseMesh_html_ac71417f700a272ce0cb847f9b3f17a5a"><div class="ttname"><a href="classMooseMesh.html#ac71417f700a272ce0cb847f9b3f17a5a">MooseMesh::getBoundaryNodeRange</a></div><div class="ttdeci">StoredRange&lt; MooseMesh::const_bnd_node_iterator, const BndNode * &gt; * getBoundaryNodeRange()</div><div class="ttdef"><b>Definition:</b> <a href="MooseMesh_8C_source.html#l01086">MooseMesh.C:1086</a></div></div>
<div class="ttc" id="aclassMooseMesh_html_af1de40e02fed751f162268afda4468f0"><div class="ttname"><a href="classMooseMesh.html#af1de40e02fed751f162268afda4468f0">MooseMesh::getBoundaryElementRange</a></div><div class="ttdeci">StoredRange&lt; MooseMesh::const_bnd_elem_iterator, const BndElement * &gt; * getBoundaryElementRange()</div><div class="ttdef"><b>Definition:</b> <a href="MooseMesh_8C_source.html#l01100">MooseMesh.C:1100</a></div></div>
<div class="ttc" id="aclassNonlinearSystemBase_html_a6e59acdf55439b22d290b4a0e54e0bfd"><div class="ttname"><a href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">NonlinearSystemBase::_fe_problem</a></div><div class="ttdeci">FEProblemBase &amp; _fe_problem</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearSystemBase_8h_source.html#l00677">NonlinearSystemBase.h:677</a></div></div>
<div class="ttc" id="aclassPenetrationInfo_html"><div class="ttname"><a href="classPenetrationInfo.html">PenetrationInfo</a></div><div class="ttdoc">Data structure used to hold penetration information.</div><div class="ttdef"><b>Definition:</b> <a href="PenetrationInfo_8h_source.html#l00029">PenetrationInfo.h:30</a></div></div>
<div class="ttc" id="aclassPenetrationInfo_html_a06dc594bc99461c618e5fa2230c90c16"><div class="ttname"><a href="classPenetrationInfo.html#a06dc594bc99461c618e5fa2230c90c16">PenetrationInfo::_side</a></div><div class="ttdeci">const Elem * _side</div><div class="ttdef"><b>Definition:</b> <a href="PenetrationInfo_8h_source.html#l00073">PenetrationInfo.h:73</a></div></div>
<div class="ttc" id="aclassPenetrationInfo_html_ab74f6822f49072c16b21c24e59020b0b"><div class="ttname"><a href="classPenetrationInfo.html#ab74f6822f49072c16b21c24e59020b0b">PenetrationInfo::isCaptured</a></div><div class="ttdeci">bool isCaptured() const</div><div class="ttdef"><b>Definition:</b> <a href="PenetrationInfo_8h_source.html#l00064">PenetrationInfo.h:64</a></div></div>
<div class="ttc" id="aclassPenetrationLocator_html"><div class="ttname"><a href="classPenetrationLocator.html">PenetrationLocator</a></div><div class="ttdef"><b>Definition:</b> <a href="PenetrationLocator_8h_source.html#l00027">PenetrationLocator.h:28</a></div></div>
<div class="ttc" id="aclassSystemBase_html_a4a0fa9314a8887c4823c62f8b84e3710"><div class="ttname"><a href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">SystemBase::mesh</a></div><div class="ttdeci">virtual MooseMesh &amp; mesh()</div><div class="ttdef"><b>Definition:</b> <a href="SystemBase_8h_source.html#l00096">SystemBase.h:96</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a05caeae59b6095a46489cc8ae26f0a0e"><div class="ttname"><a href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">DM_Moose::_nocontacts</a></div><div class="ttdeci">bool _nocontacts</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00062">PetscDMMoose.C:62</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a4333873e8a96dff347a65fde76743929"><div class="ttname"><a href="structDM__Moose.html#a4333873e8a96dff347a65fde76743929">DM_Moose::_nounsides</a></div><div class="ttdeci">bool _nounsides</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00053">PetscDMMoose.C:53</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a616bee6dd2708606a52763714df276de"><div class="ttname"><a href="structDM__Moose.html#a616bee6dd2708606a52763714df276de">DM_Moose::_nouncontacts</a></div><div class="ttdeci">bool _nouncontacts</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00063">PetscDMMoose.C:63</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a68f3b135de165b804184474f338b5e3c"><div class="ttname"><a href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">DM_Moose::_nosides</a></div><div class="ttdeci">bool _nosides</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00052">PetscDMMoose.C:52</a></div></div>
<div class="ttc" id="astructDM__Moose_html_a7e6f07c0f41845d5e02f8b18938a5a37"><div class="ttname"><a href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">DM_Moose::_include_all_contact_nodes</a></div><div class="ttdeci">bool _include_all_contact_nodes</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00064">PetscDMMoose.C:64</a></div></div>
<div class="ttc" id="astructDM__Moose_html_aaf0046c8fb6176f703b02acb0dabc246"><div class="ttname"><a href="structDM__Moose.html#aaf0046c8fb6176f703b02acb0dabc246">DM_Moose::_all_vars</a></div><div class="ttdeci">bool _all_vars</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00041">PetscDMMoose.C:41</a></div></div>
<div class="ttc" id="astructDM__Moose_html_abc5d370aa0cc5c9bd0a67e9fef498aad"><div class="ttname"><a href="structDM__Moose.html#abc5d370aa0cc5c9bd0a67e9fef498aad">DM_Moose::_all_blocks</a></div><div class="ttdeci">bool _all_blocks</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00045">PetscDMMoose.C:45</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l00905">DMCreateFieldDecomposition_Moose()</a>, and <a class="el" href="PetscDMMoose_8C_source.html#l01842">DMSetUp_Moose()</a>.</p>

</div>
</div>
<a id="abdb51bfc3062d4278c5e9092d0019d43" name="abdb51bfc3062d4278c5e9092d0019d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdb51bfc3062d4278c5e9092d0019d43">&#9670;&#160;</a></span>DMMooseGetMeshBlocks_Private()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMMooseGetMeshBlocks_Private </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; subdomain_id_type &gt; &amp;&#160;</td>
          <td class="paramname"><em>blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01541">1541</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1542</span>{</div>
<div class="line"><span class="lineno"> 1543</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1544</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 1545</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1548</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno"> 1549</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1550</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno"> 1551</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 1552</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno"> 1553</span>                     <span class="stringliteral">&quot;DM of type %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1554</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno"> 1555</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno"> 1556</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>)</div>
<div class="line"><span class="lineno"> 1557</span>    SETERRQ(PETSC_COMM_WORLD, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;No Moose system set for DM_Moose&quot;</span>);</div>
<div class="line"><span class="lineno"> 1558</span> </div>
<div class="line"><span class="lineno"> 1559</span>  <span class="keyword">const</span> MeshBase &amp; mesh = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_mesh();</div>
<div class="line"><span class="lineno"> 1560</span>  <span class="comment">/* The following effectively is a verbatim copy of MeshBase::n_subdomains(). */</span></div>
<div class="line"><span class="lineno"> 1561</span>  <span class="comment">// This requires an inspection on every processor</span></div>
<div class="line"><span class="lineno"> 1562</span>  libmesh_parallel_only(mesh.comm());</div>
<div class="line"><span class="lineno"> 1563</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><span class="lineno"> 1564</span>    blocks.insert(elem-&gt;subdomain_id());</div>
<div class="line"><span class="lineno"> 1565</span>  <span class="comment">// Some subdomains may only live on other processors</span></div>
<div class="line"><span class="lineno"> 1566</span>  mesh.comm().set_union(blocks);</div>
<div class="line"><span class="lineno"> 1567</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1568</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>, and <a class="el" href="PetscDMMoose_8C_source.html#l01573">DMSetUp_Moose_Pre()</a>.</p>

</div>
</div>
<a id="ae9a1af9e8b9cfb87be97c1670af50155" name="ae9a1af9e8b9cfb87be97c1670af50155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a1af9e8b9cfb87be97c1670af50155">&#9670;&#160;</a></span>DMMooseGetNonlinearSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetNonlinearSystem </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> *&amp;&#160;</td>
          <td class="paramname"><em>nl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00471">471</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  472</span>{</div>
<div class="line"><span class="lineno">  473</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  474</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  477</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  478</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  479</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  481</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  482</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  483</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  484</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  485</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  486</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno">  487</span>  nl = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>;</div>
<div class="line"><span class="lineno">  488</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  489</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01066">DMMooseFunction()</a>, <a class="el" href="PetscDMMoose_8C_source.html#l01154">DMMooseJacobian()</a>, and <a class="el" href="PetscDMMoose_8C_source.html#l01252">DMVariableBounds_Moose()</a>.</p>

</div>
</div>
<a id="abc81dcfd38f8934ae0dbb1d7dc734182" name="abc81dcfd38f8934ae0dbb1d7dc734182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc81dcfd38f8934ae0dbb1d7dc734182">&#9670;&#160;</a></span>DMMooseGetSides()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetSides </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>side_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00141">141</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  142</span>{</div>
<div class="line"><span class="lineno">  143</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  144</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  147</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  148</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  149</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  150</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  151</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  152</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  153</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  154</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  155</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  156</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  157</span>  for (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a>))</div>
<div class="line"><span class="lineno">  158</span>    side_names.push_back(it.first);</div>
<div class="line"><span class="lineno">  159</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  160</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a98d92b1bc09bff4864959cb52759d76a" name="a98d92b1bc09bff4864959cb52759d76a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d92b1bc09bff4864959cb52759d76a">&#9670;&#160;</a></span>DMMooseGetSplitNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetSplitNames </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>split_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00545">545</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  546</span>{</div>
<div class="line"><span class="lineno">  547</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  548</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  551</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  552</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  553</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  554</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  555</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  556</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  557</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  558</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  559</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  560</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno">  561</span>  <span class="keywordflow">if</span> (!dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  562</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;DM not set up&quot;</span>);</div>
<div class="line"><span class="lineno">  563</span>  split_names.clear();</div>
<div class="line"><span class="lineno">  564</span>  split_names.reserve(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>-&gt;size());</div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>-&gt;size())</div>
<div class="line"><span class="lineno">  566</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; lit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>))</div>
<div class="line"><span class="lineno">  567</span>    {</div>
<div class="line"><span class="lineno">  568</span>      std::string sname = lit.first;</div>
<div class="line"><span class="lineno">  569</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sloc = lit.second;</div>
<div class="line"><span class="lineno">  570</span>      split_names[sloc] = sname;</div>
<div class="line"><span class="lineno">  571</span>    }</div>
<div class="line"><span class="lineno">  572</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  573</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acae743703de87b44dd98514370818661" name="acae743703de87b44dd98514370818661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae743703de87b44dd98514370818661">&#9670;&#160;</a></span>DMMooseGetUnContacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetUnContacts </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>uncontact_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; PetscBool &gt; &amp;&#160;</td>
          <td class="paramname"><em>displaced</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00112">112</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>{</div>
<div class="line"><span class="lineno">  116</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  117</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  120</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  121</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  122</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  124</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  125</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  126</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  127</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  128</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  130</span>  for (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>))</div>
<div class="line"><span class="lineno">  131</span>  {</div>
<div class="line"><span class="lineno">  132</span>    uncontact_names.push_back(it.second);</div>
<div class="line"><span class="lineno">  133</span>    displaced.push_back((*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a>)[it.second]);</div>
<div class="line"><span class="lineno">  134</span>  }</div>
<div class="line"><span class="lineno">  135</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  136</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cd715b962430b56685c6ad4b6fbf6e1" name="a5cd715b962430b56685c6ad4b6fbf6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd715b962430b56685c6ad4b6fbf6e1">&#9670;&#160;</a></span>DMMooseGetUnSides()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetUnSides </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>side_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00165">165</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>{</div>
<div class="line"><span class="lineno">  167</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  168</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  171</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  172</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  173</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  174</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  175</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  176</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  177</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  178</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  179</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  180</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  181</span>  for (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a>))</div>
<div class="line"><span class="lineno">  182</span>    side_names.push_back(it.first);</div>
<div class="line"><span class="lineno">  183</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  184</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae26691036014ce4cbb8a63d437ad145" name="aae26691036014ce4cbb8a63d437ad145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae26691036014ce4cbb8a63d437ad145">&#9670;&#160;</a></span>DMMooseGetVariables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseGetVariables </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>var_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00213">213</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>{</div>
<div class="line"><span class="lineno">  215</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  216</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  219</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  220</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  221</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  223</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  224</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  225</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  226</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  227</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  228</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno">  229</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a>))</div>
<div class="line"><span class="lineno">  230</span>    var_names.push_back(it.first);</div>
<div class="line"><span class="lineno">  231</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  232</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac07314ff5337943c2adcabc875686229" name="ac07314ff5337943c2adcabc875686229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07314ff5337943c2adcabc875686229">&#9670;&#160;</a></span>DMMooseJacobian()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMMooseJacobian </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>jac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>pc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01154">1154</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1155</span>{</div>
<div class="line"><span class="lineno"> 1156</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1157</span>  <a class="code hl_class" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> * nl = NULL;</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1160</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#ae9a1af9e8b9cfb87be97c1670af50155">DMMooseGetNonlinearSystem</a>(dm, nl);</div>
<div class="line"><span class="lineno"> 1161</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1162</span> </div>
<div class="line"><span class="lineno"> 1163</span>  PetscMatrix&lt;Number&gt; the_pc(pc, nl-&gt;comm());</div>
<div class="line"><span class="lineno"> 1164</span>  PetscMatrix&lt;Number&gt; Jac(jac, nl-&gt;comm());</div>
<div class="line"><span class="lineno"> 1165</span>  PetscVector&lt;Number&gt; &amp; X_sys = *cast_ptr&lt;PetscVector&lt;Number&gt; *&gt;(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().solution.get());</div>
<div class="line"><span class="lineno"> 1166</span>  PetscVector&lt;Number&gt; X_global(x, nl-&gt;comm());</div>
<div class="line"><span class="lineno"> 1167</span> </div>
<div class="line"><span class="lineno"> 1168</span>  <span class="comment">// Set the dof maps</span></div>
<div class="line"><span class="lineno"> 1169</span>  the_pc.attach_dof_map(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map());</div>
<div class="line"><span class="lineno"> 1170</span>  Jac.attach_dof_map(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map());</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>  <span class="comment">// Use the system&#39;s update() to get a good local version of the</span></div>
<div class="line"><span class="lineno"> 1173</span>  <span class="comment">// parallel solution.  system.update() does change the Jacobian, so</span></div>
<div class="line"><span class="lineno"> 1174</span>  <span class="comment">// there&#39;s no reason to swap PETSc&#39;s Jacobian into the system for</span></div>
<div class="line"><span class="lineno"> 1175</span>  <span class="comment">// this step.</span></div>
<div class="line"><span class="lineno"> 1176</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno"> 1177</span>  nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().update();</div>
<div class="line"><span class="lineno"> 1178</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span>  <span class="comment">// Enforce constraints (if any) exactly on the</span></div>
<div class="line"><span class="lineno"> 1181</span>  <span class="comment">// current_local_solution.  This is the solution vector that is</span></div>
<div class="line"><span class="lineno"> 1182</span>  <span class="comment">// actually used in the computation of the Jacobian below, and is</span></div>
<div class="line"><span class="lineno"> 1183</span>  <span class="comment">// not locked by debug-enabled PETSc the way that &quot;x&quot; is.</span></div>
<div class="line"><span class="lineno"> 1184</span>  nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map().enforce_constraints_exactly(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>(),</div>
<div class="line"><span class="lineno"> 1185</span>                                                         nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get());</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>  <span class="comment">// Zero out the preconditioner before computing the Jacobian.</span></div>
<div class="line"><span class="lineno"> 1188</span>  the_pc.zero();</div>
<div class="line"><span class="lineno"> 1189</span> </div>
<div class="line"><span class="lineno"> 1190</span>  <span class="comment">// if the user has provided both function pointers and objects only the pointer</span></div>
<div class="line"><span class="lineno"> 1191</span>  <span class="comment">// will be used, so catch that as an error</span></div>
<div class="line"><span class="lineno"> 1192</span>  <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;jacobian &amp;&amp; nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;jacobian_object)</div>
<div class="line"><span class="lineno"> 1193</span>  {</div>
<div class="line"><span class="lineno"> 1194</span>    std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1195</span>    err &lt;&lt; <span class="stringliteral">&quot;ERROR: cannot specifiy both a function and object to compute the Jacobian!&quot;</span></div>
<div class="line"><span class="lineno"> 1196</span>        &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1197</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1198</span>  }</div>
<div class="line"><span class="lineno"> 1199</span>  <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;matvec &amp;&amp; nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_and_jacobian_object)</div>
<div class="line"><span class="lineno"> 1200</span>  {</div>
<div class="line"><span class="lineno"> 1201</span>    std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1202</span>    err &lt;&lt; <span class="stringliteral">&quot;ERROR: cannot specifiy both a function and object to compute the combined Residual &amp; &quot;</span></div>
<div class="line"><span class="lineno"> 1203</span>           <span class="stringliteral">&quot;Jacobian!&quot;</span></div>
<div class="line"><span class="lineno"> 1204</span>        &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1205</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1206</span>  }</div>
<div class="line"><span class="lineno"> 1207</span>  <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;jacobian != NULL)</div>
<div class="line"><span class="lineno"> 1208</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;jacobian(</div>
<div class="line"><span class="lineno"> 1209</span>        *(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()), the_pc, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1210</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;jacobian_object != NULL)</div>
<div class="line"><span class="lineno"> 1211</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;jacobian_object-&gt;jacobian(</div>
<div class="line"><span class="lineno"> 1212</span>        *(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()), the_pc, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1213</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;matvec != NULL)</div>
<div class="line"><span class="lineno"> 1214</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;matvec(*(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()),</div>
<div class="line"><span class="lineno"> 1215</span>                                  NULL,</div>
<div class="line"><span class="lineno"> 1216</span>                                  &amp;the_pc,</div>
<div class="line"><span class="lineno"> 1217</span>                                  nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1218</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_and_jacobian_object != NULL)</div>
<div class="line"><span class="lineno"> 1219</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;residual_and_jacobian_object-&gt;residual_and_jacobian(</div>
<div class="line"><span class="lineno"> 1220</span>        *(nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().current_local_solution.get()),</div>
<div class="line"><span class="lineno"> 1221</span>        NULL,</div>
<div class="line"><span class="lineno"> 1222</span>        &amp;the_pc,</div>
<div class="line"><span class="lineno"> 1223</span>        nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1224</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1225</span>  {</div>
<div class="line"><span class="lineno"> 1226</span>    std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1227</span>    err &lt;&lt; <span class="stringliteral">&quot;No suitable Jacobian routine or object&quot;</span>;</div>
<div class="line"><span class="lineno"> 1228</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1229</span>  }</div>
<div class="line"><span class="lineno"> 1230</span>  the_pc.close();</div>
<div class="line"><span class="lineno"> 1231</span>  Jac.close();</div>
<div class="line"><span class="lineno"> 1232</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1233</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01238">SNESJacobian_DMMoose()</a>.</p>

</div>
</div>
<a id="a43b04a5a2bca1e62e1bcc64d4a5a4e7b" name="a43b04a5a2bca1e62e1bcc64d4a5a4e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b04a5a2bca1e62e1bcc64d4a5a4e7b">&#9670;&#160;</a></span>DMMooseRegisterAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseRegisterAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l02469">2469</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2470</span>{</div>
<div class="line"><span class="lineno"> 2471</span>  <span class="keyword">static</span> PetscBool DMMooseRegisterAllCalled = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 2472</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 2473</span> </div>
<div class="line"><span class="lineno"> 2474</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 2475</span>  <span class="keywordflow">if</span> (!DMMooseRegisterAllCalled)</div>
<div class="line"><span class="lineno"> 2476</span>  {</div>
<div class="line"><span class="lineno"> 2477</span>    ierr = DMRegister(DMMOOSE, <a class="code hl_function" href="PetscDMMoose_8C.html#a67e6542c34086ed3a27883356f134e67">DMCreate_Moose</a>);</div>
<div class="line"><span class="lineno"> 2478</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2479</span>    DMMooseRegisterAllCalled = PETSC_TRUE;</div>
<div class="line"><span class="lineno"> 2480</span>  }</div>
<div class="line"><span class="lineno"> 2481</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 2482</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_a67e6542c34086ed3a27883356f134e67"><div class="ttname"><a href="PetscDMMoose_8C.html#a67e6542c34086ed3a27883356f134e67">DMCreate_Moose</a></div><div class="ttdeci">PetscErrorCode DMCreate_Moose(DM dm)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l02353">PetscDMMoose.C:2353</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscSupport_8C_source.html#l00175">Moose::PetscSupport::petscSetupDM()</a>.</p>

</div>
</div>
<a id="a7ac53e8e6c481d83e861471c90341fa6" name="a7ac53e8e6c481d83e861471c90341fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ac53e8e6c481d83e861471c90341fa6">&#9670;&#160;</a></span>DMMooseReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseReset </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01809">1809</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1810</span>{</div>
<div class="line"><span class="lineno"> 1811</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1812</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 1813</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno"> 1814</span> </div>
<div class="line"><span class="lineno"> 1815</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1816</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno"> 1817</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1818</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno"> 1819</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1820</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>)</div>
<div class="line"><span class="lineno"> 1821</span>    SETERRQ(PETSC_COMM_WORLD, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;No Moose system set for DM_Moose&quot;</span>);</div>
<div class="line"><span class="lineno"> 1822</span>  ierr = ISDestroy(&amp;dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a586436ab26e3cc1b33a21cc8b24eedd8">_embedding</a>);</div>
<div class="line"><span class="lineno"> 1823</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1824</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>))</div>
<div class="line"><span class="lineno"> 1825</span>  {</div>
<div class="line"><span class="lineno"> 1826</span>    <a class="code hl_struct" href="structDM__Moose_1_1SplitInfo.html">DM_Moose::SplitInfo</a> &amp; <a class="code hl_function" href="namespaceMooseUtils.html#abb6b6c127ceede9727cf038ce2770ce0">split</a> = it.second;</div>
<div class="line"><span class="lineno"> 1827</span>    ierr = ISDestroy(&amp;<a class="code hl_function" href="namespaceMooseUtils.html#abb6b6c127ceede9727cf038ce2770ce0">split</a>._rembedding);</div>
<div class="line"><span class="lineno"> 1828</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1829</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceMooseUtils.html#abb6b6c127ceede9727cf038ce2770ce0">split</a>._dm)</div>
<div class="line"><span class="lineno"> 1830</span>    {</div>
<div class="line"><span class="lineno"> 1831</span>      ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a7ac53e8e6c481d83e861471c90341fa6">DMMooseReset</a>(<a class="code hl_function" href="namespaceMooseUtils.html#abb6b6c127ceede9727cf038ce2770ce0">split</a>._dm);</div>
<div class="line"><span class="lineno"> 1832</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1833</span>    }</div>
<div class="line"><span class="lineno"> 1834</span>  }</div>
<div class="line"><span class="lineno"> 1835</span>  dm-&gt;setupcalled = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 1836</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1837</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_a7ac53e8e6c481d83e861471c90341fa6"><div class="ttname"><a href="PetscDMMoose_8C.html#a7ac53e8e6c481d83e861471c90341fa6">DMMooseReset</a></div><div class="ttdeci">PetscErrorCode DMMooseReset(DM dm)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01809">PetscDMMoose.C:1809</a></div></div>
<div class="ttc" id="anamespaceMooseUtils_html_abb6b6c127ceede9727cf038ce2770ce0"><div class="ttname"><a href="namespaceMooseUtils.html#abb6b6c127ceede9727cf038ce2770ce0">MooseUtils::split</a></div><div class="ttdeci">std::vector&lt; std::string &gt; split(const std::string &amp;str, const std::string &amp;delimiter, std::size_t max_count)</div><div class="ttdoc">Python like split functions for strings.</div><div class="ttdef"><b>Definition:</b> <a href="MooseUtils_8C_source.html#l01145">MooseUtils.C:1145</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01809">DMMooseReset()</a>, and <a class="el" href="PetscDMMoose_8C_source.html#l02415">SNESUpdateDMMoose()</a>.</p>

</div>
</div>
<a id="a692cb56bdfa5c7cf2373a49c46f8b34b" name="a692cb56bdfa5c7cf2373a49c46f8b34b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692cb56bdfa5c7cf2373a49c46f8b34b">&#9670;&#160;</a></span>DMMooseSetBlocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetBlocks </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00305">305</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  306</span>{</div>
<div class="line"><span class="lineno">  307</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  308</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  309</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  312</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  313</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  314</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  315</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  316</span>    LIBMESH_SETERRQ2(PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  317</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  318</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  319</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  320</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  321</span>  <span class="keywordflow">if</span> (dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  322</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;Not for an already setup DM&quot;</span>);</div>
<div class="line"><span class="lineno">  323</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>)</div>
<div class="line"><span class="lineno">  324</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>;</div>
<div class="line"><span class="lineno">  325</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a> = <span class="keyword">new</span> std::set&lt;std::string&gt;(blocks);</div>
<div class="line"><span class="lineno">  326</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  327</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="abaf0d06f68f862211d0faddee5b4030d" name="abaf0d06f68f862211d0faddee5b4030d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf0d06f68f862211d0faddee5b4030d">&#9670;&#160;</a></span>DMMooseSetContacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetContacts </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; PetscBool &gt; &amp;&#160;</td>
          <td class="paramname"><em>displaced</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00386">386</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  389</span>{</div>
<div class="line"><span class="lineno">  390</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  391</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  392</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  395</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  396</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  397</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  398</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  399</span>    LIBMESH_SETERRQ2(PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  400</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  401</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  402</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  403</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  404</span>  <span class="keywordflow">if</span> (dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  405</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;Not for an already setup DM&quot;</span>);</div>
<div class="line"><span class="lineno">  406</span>  <span class="keywordflow">if</span> (contacts.size() != displaced.size())</div>
<div class="line"><span class="lineno">  407</span>    LIBMESH_SETERRQ2(PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  408</span>                     PETSC_ERR_ARG_SIZ,</div>
<div class="line"><span class="lineno">  409</span>                     <span class="stringliteral">&quot;Nonmatching sizes of the contact and displaced arrays: %&quot;</span> LIBMESH_PETSCINT_FMT</div>
<div class="line"><span class="lineno">  410</span>                     <span class="stringliteral">&quot; != %&quot;</span> LIBMESH_PETSCINT_FMT,</div>
<div class="line"><span class="lineno">  411</span>                     <span class="keyword">static_cast&lt;</span>PetscInt<span class="keyword">&gt;</span>(contacts.size()),</div>
<div class="line"><span class="lineno">  412</span>                     <span class="keyword">static_cast&lt;</span>PetscInt<span class="keyword">&gt;</span>(displaced.size()));</div>
<div class="line"><span class="lineno">  413</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a>)</div>
<div class="line"><span class="lineno">  414</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a>;</div>
<div class="line"><span class="lineno">  415</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">_contact_displaced</a>-&gt;clear();</div>
<div class="line"><span class="lineno">  416</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a> = <span class="keyword">new</span> std::set&lt;DM_Moose::ContactName&gt;();</div>
<div class="line"><span class="lineno">  417</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; contacts.size(); ++i)</div>
<div class="line"><span class="lineno">  418</span>  {</div>
<div class="line"><span class="lineno">  419</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a>-&gt;insert(contacts[i]);</div>
<div class="line"><span class="lineno">  420</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">_contact_displaced</a>-&gt;insert(std::make_pair(contacts[i], displaced[i]));</div>
<div class="line"><span class="lineno">  421</span>  }</div>
<div class="line"><span class="lineno">  422</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  423</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="af2c67a27a0cda486dd76f80245b9da32" name="af2c67a27a0cda486dd76f80245b9da32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2c67a27a0cda486dd76f80245b9da32">&#9670;&#160;</a></span>DMMooseSetNonlinearSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetNonlinearSystem </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp;&#160;</td>
          <td class="paramname"><em>nl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00237">237</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  238</span>{</div>
<div class="line"><span class="lineno">  239</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  240</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  243</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  244</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  245</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  246</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  247</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  248</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  249</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  250</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  251</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  252</span>  <span class="keywordflow">if</span> (dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  253</span>    SETERRQ(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  254</span>            PETSC_ERR_ARG_WRONGSTATE,</div>
<div class="line"><span class="lineno">  255</span>            <span class="stringliteral">&quot;Cannot reset the NonlinearSystem after DM has been set up.&quot;</span>);</div>
<div class="line"><span class="lineno">  256</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno">  257</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a> = &amp;nl;</div>
<div class="line"><span class="lineno">  258</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  259</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02335">DMCreateMoose()</a>.</p>

</div>
</div>
<a id="aa615f2cb27665ffac7d0960554cc1279" name="aa615f2cb27665ffac7d0960554cc1279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa615f2cb27665ffac7d0960554cc1279">&#9670;&#160;</a></span>DMMooseSetSides()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetSides </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>sides</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00332">332</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  333</span>{</div>
<div class="line"><span class="lineno">  334</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  335</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  336</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  339</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  340</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  341</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  342</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  343</span>    LIBMESH_SETERRQ2(PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  344</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  345</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  346</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  347</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  348</span>  <span class="keywordflow">if</span> (dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  349</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;Not for an already setup DM&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>)</div>
<div class="line"><span class="lineno">  351</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>;</div>
<div class="line"><span class="lineno">  352</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a> = <span class="keyword">new</span> std::set&lt;std::string&gt;(sides);</div>
<div class="line"><span class="lineno">  353</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  354</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="a5868769fd4c8f47c2441ce1e16ddb801" name="a5868769fd4c8f47c2441ce1e16ddb801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5868769fd4c8f47c2441ce1e16ddb801">&#9670;&#160;</a></span>DMMooseSetSplitNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetSplitNames </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>split_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00494">494</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  495</span>{</div>
<div class="line"><span class="lineno">  496</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  497</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  500</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  501</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  502</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  503</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  504</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno">  505</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  506</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  507</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  508</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  509</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>)</div>
<div class="line"><span class="lineno">  512</span>  {</div>
<div class="line"><span class="lineno">  513</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; it : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>))</div>
<div class="line"><span class="lineno">  514</span>    {</div>
<div class="line"><span class="lineno">  515</span>      ierr = DMDestroy(&amp;(it.second._dm));</div>
<div class="line"><span class="lineno">  516</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  517</span>      ierr = ISDestroy(&amp;(it.second._rembedding));</div>
<div class="line"><span class="lineno">  518</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  519</span>    }</div>
<div class="line"><span class="lineno">  520</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>;</div>
<div class="line"><span class="lineno">  521</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno">  522</span>  }</div>
<div class="line"><span class="lineno">  523</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>)</div>
<div class="line"><span class="lineno">  524</span>  {</div>
<div class="line"><span class="lineno">  525</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>;</div>
<div class="line"><span class="lineno">  526</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno">  527</span>  }</div>
<div class="line"><span class="lineno">  528</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a> = <span class="keyword">new</span> std::map&lt;std::string, DM_Moose::SplitInfo&gt;();</div>
<div class="line"><span class="lineno">  529</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a> = <span class="keyword">new</span> std::multimap&lt;std::string, unsigned int&gt;();</div>
<div class="line"><span class="lineno">  530</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; split_names.size(); ++i)</div>
<div class="line"><span class="lineno">  531</span>  {</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_struct" href="structDM__Moose_1_1SplitInfo.html">DM_Moose::SplitInfo</a> info;</div>
<div class="line"><span class="lineno">  533</span>    info.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#ac6454f9782659f0e4e1cf18255f6a86d">_dm</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno">  534</span>    info.<a class="code hl_variable" href="structDM__Moose_1_1SplitInfo.html#a0b7d45dd0a879b39282c856fb8549b0b">_rembedding</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno">  535</span>    std::string name = split_names[i];</div>
<div class="line"><span class="lineno">  536</span>    (*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a85c5236295531e271dbe17065e546f07">_splits</a>)[name] = info;</div>
<div class="line"><span class="lineno">  537</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>-&gt;insert(std::make_pair(name, i));</div>
<div class="line"><span class="lineno">  538</span>  }</div>
<div class="line"><span class="lineno">  539</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  540</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="a3db64b959e1d1112cd306dd01b9e669c" name="a3db64b959e1d1112cd306dd01b9e669c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3db64b959e1d1112cd306dd01b9e669c">&#9670;&#160;</a></span>DMMooseSetUnContacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetUnContacts </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>uncontacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; PetscBool &gt; &amp;&#160;</td>
          <td class="paramname"><em>displaced</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00428">428</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  431</span>{</div>
<div class="line"><span class="lineno">  432</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  433</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  434</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  437</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  438</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  439</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  440</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  441</span>    LIBMESH_SETERRQ2(PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  442</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  443</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  444</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  445</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  446</span>  <span class="keywordflow">if</span> (dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  447</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;Not for an already setup DM&quot;</span>);</div>
<div class="line"><span class="lineno">  448</span>  <span class="keywordflow">if</span> (uncontacts.size() != displaced.size())</div>
<div class="line"><span class="lineno">  449</span>    LIBMESH_SETERRQ2(</div>
<div class="line"><span class="lineno">  450</span>        PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  451</span>        PETSC_ERR_ARG_SIZ,</div>
<div class="line"><span class="lineno">  452</span>        <span class="stringliteral">&quot;Nonmatching sizes of the uncontact and displaced arrays: %&quot;</span> LIBMESH_PETSCINT_FMT</div>
<div class="line"><span class="lineno">  453</span>        <span class="stringliteral">&quot; != %&quot;</span> LIBMESH_PETSCINT_FMT,</div>
<div class="line"><span class="lineno">  454</span>        <span class="keyword">static_cast&lt;</span>PetscInt<span class="keyword">&gt;</span>(uncontacts.size()),</div>
<div class="line"><span class="lineno">  455</span>        <span class="keyword">static_cast&lt;</span>PetscInt<span class="keyword">&gt;</span>(displaced.size()));</div>
<div class="line"><span class="lineno">  456</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a>)</div>
<div class="line"><span class="lineno">  457</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a>;</div>
<div class="line"><span class="lineno">  458</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a>-&gt;clear();</div>
<div class="line"><span class="lineno">  459</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a> = <span class="keyword">new</span> std::set&lt;DM_Moose::ContactName&gt;();</div>
<div class="line"><span class="lineno">  460</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; uncontacts.size(); ++i)</div>
<div class="line"><span class="lineno">  461</span>  {</div>
<div class="line"><span class="lineno">  462</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a>-&gt;insert(uncontacts[i]);</div>
<div class="line"><span class="lineno">  463</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a>-&gt;insert(std::make_pair(uncontacts[i], displaced[i]));</div>
<div class="line"><span class="lineno">  464</span>  }</div>
<div class="line"><span class="lineno">  465</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  466</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="a8bafa74db7bb58200fff8b0d6ac69618" name="a8bafa74db7bb58200fff8b0d6ac69618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bafa74db7bb58200fff8b0d6ac69618">&#9670;&#160;</a></span>DMMooseSetUnSides()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetUnSides </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>unsides</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00359">359</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>{</div>
<div class="line"><span class="lineno">  361</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  362</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  363</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  366</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  367</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  368</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  369</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  370</span>    LIBMESH_SETERRQ2(PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  371</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  372</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  373</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  374</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  375</span>  <span class="keywordflow">if</span> (dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  376</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;Not for an already setup DM&quot;</span>);</div>
<div class="line"><span class="lineno">  377</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>)</div>
<div class="line"><span class="lineno">  378</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>;</div>
<div class="line"><span class="lineno">  379</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">_unsides</a> = <span class="keyword">new</span> std::set&lt;std::string&gt;(unsides);</div>
<div class="line"><span class="lineno">  380</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  381</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="ae6f2d03fe71db2b55eacd3ba5cb086d4" name="ae6f2d03fe71db2b55eacd3ba5cb086d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f2d03fe71db2b55eacd3ba5cb086d4">&#9670;&#160;</a></span>DMMooseSetVariables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMMooseSetVariables </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l00264">264</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  265</span>{</div>
<div class="line"><span class="lineno">  266</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  267</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno">  268</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  271</span>  PetscValidHeaderSpecific(dm, DM_CLASSID, 1);</div>
<div class="line"><span class="lineno">  272</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno">  273</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  274</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno">  275</span>    LIBMESH_SETERRQ2(PETSC_COMM_SELF,</div>
<div class="line"><span class="lineno">  276</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno">  277</span>                     <span class="stringliteral">&quot;Got DM oftype %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno">  278</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno">  279</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno">  280</span>  <span class="keywordflow">if</span> (dm-&gt;setupcalled)</div>
<div class="line"><span class="lineno">  281</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;Not for an already setup DM&quot;</span>);</div>
<div class="line"><span class="lineno">  282</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>)</div>
<div class="line"><span class="lineno">  283</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>;</div>
<div class="line"><span class="lineno">  284</span>  std::set&lt;std::string&gt; processed_vars;</div>
<div class="line"><span class="lineno">  285</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; var_name : vars)</div>
<div class="line"><span class="lineno">  286</span>  {</div>
<div class="line"><span class="lineno">  287</span>    <span class="keyword">const</span> <span class="keyword">auto</span> * <span class="keyword">const</span> var =</div>
<div class="line"><span class="lineno">  288</span>        dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#aa8667a04e5bd1c16a29bab3b335627bf">hasVariable</a>(var_name)</div>
<div class="line"><span class="lineno">  289</span>            ? <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classMooseVariableBase.html">MooseVariableBase</a> *<span class="keyword">&gt;</span>(&amp;dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a40c6da2ad2e5cfbabe72fb63ae65df43">getVariable</a>(0, var_name))</div>
<div class="line"><span class="lineno">  290</span>            : <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classMooseVariableBase.html">MooseVariableBase</a> *<span class="keyword">&gt;</span>(&amp;dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a9583030550adcc2e5b1ad0b906f85051">getScalarVariable</a>(0, var_name));</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">if</span> (var-&gt;isArray())</div>
<div class="line"><span class="lineno">  292</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> i : make_range(var-&gt;count()))</div>
<div class="line"><span class="lineno">  293</span>        processed_vars.insert(<a class="code hl_function" href="classSubProblem.html#a737d501c6f32c051a450403e7bc16a48">SubProblem::arrayVariableComponent</a>(var_name, i));</div>
<div class="line"><span class="lineno">  294</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  295</span>      processed_vars.insert(var_name);</div>
<div class="line"><span class="lineno">  296</span>  }</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a> = <span class="keyword">new</span> std::set&lt;std::string&gt;(std::move(processed_vars));</div>
<div class="line"><span class="lineno">  299</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  300</span>}</div>
<div class="ttc" id="aclassMooseVariableBase_html"><div class="ttname"><a href="classMooseVariableBase.html">MooseVariableBase</a></div><div class="ttdef"><b>Definition:</b> <a href="MooseVariableBase_8h_source.html#l00035">MooseVariableBase.h:39</a></div></div>
<div class="ttc" id="aclassSubProblem_html_a737d501c6f32c051a450403e7bc16a48"><div class="ttname"><a href="classSubProblem.html#a737d501c6f32c051a450403e7bc16a48">SubProblem::arrayVariableComponent</a></div><div class="ttdeci">static std::string arrayVariableComponent(const std::string &amp;var_name, unsigned int i)</div><div class="ttdoc">Returns the variable name of a component of an array variable.</div><div class="ttdef"><b>Definition:</b> <a href="SubProblem_8h_source.html#l00261">SubProblem.h:261</a></div></div>
<div class="ttc" id="aclassSystemBase_html_a40c6da2ad2e5cfbabe72fb63ae65df43"><div class="ttname"><a href="classSystemBase.html#a40c6da2ad2e5cfbabe72fb63ae65df43">SystemBase::getVariable</a></div><div class="ttdeci">MooseVariableFieldBase &amp; getVariable(THREAD_ID tid, const std::string &amp;var_name) const</div><div class="ttdoc">Gets a reference to a variable of with specified name.</div><div class="ttdef"><b>Definition:</b> <a href="SystemBase_8C_source.html#l00079">SystemBase.C:79</a></div></div>
<div class="ttc" id="aclassSystemBase_html_a9583030550adcc2e5b1ad0b906f85051"><div class="ttname"><a href="classSystemBase.html#a9583030550adcc2e5b1ad0b906f85051">SystemBase::getScalarVariable</a></div><div class="ttdeci">virtual MooseVariableScalar &amp; getScalarVariable(THREAD_ID tid, const std::string &amp;var_name) const</div><div class="ttdoc">Gets a reference to a scalar variable with specified number.</div><div class="ttdef"><b>Definition:</b> <a href="SystemBase_8C_source.html#l00134">SystemBase.C:134</a></div></div>
<div class="ttc" id="aclassSystemBase_html_aa8667a04e5bd1c16a29bab3b335627bf"><div class="ttname"><a href="classSystemBase.html#aa8667a04e5bd1c16a29bab3b335627bf">SystemBase::hasVariable</a></div><div class="ttdeci">virtual bool hasVariable(const std::string &amp;var_name) const</div><div class="ttdoc">Query a system for a variable.</div><div class="ttdef"><b>Definition:</b> <a href="SystemBase_8C_source.html#l00800">SystemBase.C:800</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="aaa35b1b2019fad4bed2d760fe25fab47" name="aaa35b1b2019fad4bed2d760fe25fab47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa35b1b2019fad4bed2d760fe25fab47">&#9670;&#160;</a></span>DMSetFromOptions_Moose() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DMSetFromOptions_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscOptionItems *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>.</p>

</div>
</div>
<a id="a0583c82266227211b63eccac1f904f67" name="a0583c82266227211b63eccac1f904f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0583c82266227211b63eccac1f904f67">&#9670;&#160;</a></span>DMSetFromOptions_Moose() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode DM dm PetscErrorCode DMSetFromOptions_Moose </td>
          <td>(</td>
          <td class="paramtype">PetscOptions *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01921">1921</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1923</span>{</div>
<div class="line"><span class="lineno"> 1924</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1925</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno"> 1926</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno"> 1927</span> </div>
<div class="line"><span class="lineno"> 1928</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1929</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno"> 1930</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1931</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno"> 1932</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 1933</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno"> 1934</span>                     <span class="stringliteral">&quot;DM of type %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1935</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno"> 1936</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno"> 1937</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>)</div>
<div class="line"><span class="lineno"> 1938</span>    SETERRQ(PETSC_COMM_WORLD, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;No Moose system set for DM_Moose&quot;</span>);</div>
<div class="line"><span class="lineno"> 1939</span><span class="comment">// PETSc changed macro definitions in 3.18; the former correct usage</span></div>
<div class="line"><span class="lineno"> 1940</span><span class="comment">// is now a compiler error and the new usage is now a compiler</span></div>
<div class="line"><span class="lineno"> 1941</span><span class="comment">// warning.</span></div>
<div class="line"><span class="lineno"> 1942</span><span class="preprocessor">#if !PETSC_VERSION_LESS_THAN(3, 18, 0)</span></div>
<div class="line"><span class="lineno"> 1943</span>  PetscOptionsBegin(((PetscObject)dm)-&gt;comm, ((PetscObject)dm)-&gt;prefix, <span class="stringliteral">&quot;DMMoose options&quot;</span>, <span class="stringliteral">&quot;DM&quot;</span>);</div>
<div class="line"><span class="lineno"> 1944</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1945</span>  ierr = PetscOptionsBegin(</div>
<div class="line"><span class="lineno"> 1946</span>      ((PetscObject)dm)-&gt;comm, ((PetscObject)dm)-&gt;prefix, <span class="stringliteral">&quot;DMMoose options&quot;</span>, <span class="stringliteral">&quot;DM&quot;</span>);</div>
<div class="line"><span class="lineno"> 1947</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1948</span>  std::string opt, help;</div>
<div class="line"><span class="lineno"> 1949</span>  PetscInt maxvars = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map().n_variables();</div>
<div class="line"><span class="lineno"> 1950</span>  <span class="keywordtype">char</span> ** vars;</div>
<div class="line"><span class="lineno"> 1951</span>  std::set&lt;std::string&gt; varset;</div>
<div class="line"><span class="lineno"> 1952</span>  PetscInt nvars = maxvars;</div>
<div class="line"><span class="lineno"> 1953</span>  ierr = PetscMalloc(maxvars * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *), &amp;vars);</div>
<div class="line"><span class="lineno"> 1954</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1955</span>  opt = <span class="stringliteral">&quot;-dm_moose_vars&quot;</span>;</div>
<div class="line"><span class="lineno"> 1956</span>  help = <span class="stringliteral">&quot;Variables in DMMoose&quot;</span>;</div>
<div class="line"><span class="lineno"> 1957</span>  ierr = PetscOptionsStringArray(</div>
<div class="line"><span class="lineno"> 1958</span>      opt.c_str(), help.c_str(), <span class="stringliteral">&quot;DMMooseSetVars&quot;</span>, vars, &amp;nvars, LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 1959</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1960</span>  <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; nvars; ++i)</div>
<div class="line"><span class="lineno"> 1961</span>  {</div>
<div class="line"><span class="lineno"> 1962</span>    varset.insert(std::string(vars[i]));</div>
<div class="line"><span class="lineno"> 1963</span>    ierr = PetscFree(vars[i]);</div>
<div class="line"><span class="lineno"> 1964</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1965</span>  }</div>
<div class="line"><span class="lineno"> 1966</span>  ierr = PetscFree(vars);</div>
<div class="line"><span class="lineno"> 1967</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1968</span>  <span class="keywordflow">if</span> (varset.size())</div>
<div class="line"><span class="lineno"> 1969</span>  {</div>
<div class="line"><span class="lineno"> 1970</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#ae6f2d03fe71db2b55eacd3ba5cb086d4">DMMooseSetVariables</a>(dm, varset);</div>
<div class="line"><span class="lineno"> 1971</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1972</span>  }</div>
<div class="line"><span class="lineno"> 1973</span>  <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1974</span>  std::set&lt;subdomain_id_type&gt; meshblocks;</div>
<div class="line"><span class="lineno"> 1975</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#abdb51bfc3062d4278c5e9092d0019d43">DMMooseGetMeshBlocks_Private</a>(dm, meshblocks);</div>
<div class="line"><span class="lineno"> 1976</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1977</span>  PetscInt maxblocks = meshblocks.size();</div>
<div class="line"><span class="lineno"> 1978</span>  <span class="keywordtype">char</span> ** blocks;</div>
<div class="line"><span class="lineno"> 1979</span>  ierr = PetscMalloc(maxblocks * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *), &amp;blocks);</div>
<div class="line"><span class="lineno"> 1980</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1981</span>  std::set&lt;std::string&gt; blockset;</div>
<div class="line"><span class="lineno"> 1982</span>  PetscInt nblocks = maxblocks;</div>
<div class="line"><span class="lineno"> 1983</span>  opt = <span class="stringliteral">&quot;-dm_moose_blocks&quot;</span>;</div>
<div class="line"><span class="lineno"> 1984</span>  help = <span class="stringliteral">&quot;Blocks in DMMoose&quot;</span>;</div>
<div class="line"><span class="lineno"> 1985</span>  ierr = PetscOptionsStringArray(</div>
<div class="line"><span class="lineno"> 1986</span>      opt.c_str(), help.c_str(), <span class="stringliteral">&quot;DMMooseSetBlocks&quot;</span>, blocks, &amp;nblocks, LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 1987</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1988</span>  <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; nblocks; ++i)</div>
<div class="line"><span class="lineno"> 1989</span>  {</div>
<div class="line"><span class="lineno"> 1990</span>    blockset.insert(std::string(blocks[i]));</div>
<div class="line"><span class="lineno"> 1991</span>    ierr = PetscFree(blocks[i]);</div>
<div class="line"><span class="lineno"> 1992</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1993</span>  }</div>
<div class="line"><span class="lineno"> 1994</span>  ierr = PetscFree(blocks);</div>
<div class="line"><span class="lineno"> 1995</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1996</span>  <span class="keywordflow">if</span> (blockset.size())</div>
<div class="line"><span class="lineno"> 1997</span>  {</div>
<div class="line"><span class="lineno"> 1998</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a692cb56bdfa5c7cf2373a49c46f8b34b">DMMooseSetBlocks</a>(dm, blockset);</div>
<div class="line"><span class="lineno"> 1999</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2000</span>  }</div>
<div class="line"><span class="lineno"> 2001</span>  PetscInt maxsides = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_mesh().get_boundary_info().get_boundary_ids().size();</div>
<div class="line"><span class="lineno"> 2002</span>  <span class="keywordtype">char</span> ** sides;</div>
<div class="line"><span class="lineno"> 2003</span>  ierr = PetscMalloc(maxsides * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *), &amp;sides);</div>
<div class="line"><span class="lineno"> 2004</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2005</span>  PetscInt nsides = maxsides;</div>
<div class="line"><span class="lineno"> 2006</span>  std::set&lt;std::string&gt; sideset;</div>
<div class="line"><span class="lineno"> 2007</span>  opt = <span class="stringliteral">&quot;-dm_moose_sides&quot;</span>;</div>
<div class="line"><span class="lineno"> 2008</span>  help = <span class="stringliteral">&quot;Sides to include in DMMoose&quot;</span>;</div>
<div class="line"><span class="lineno"> 2009</span>  ierr = PetscOptionsStringArray(</div>
<div class="line"><span class="lineno"> 2010</span>      opt.c_str(), help.c_str(), <span class="stringliteral">&quot;DMMooseSetSides&quot;</span>, sides, &amp;nsides, LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2011</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2012</span>  <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; nsides; ++i)</div>
<div class="line"><span class="lineno"> 2013</span>  {</div>
<div class="line"><span class="lineno"> 2014</span>    sideset.insert(std::string(sides[i]));</div>
<div class="line"><span class="lineno"> 2015</span>    ierr = PetscFree(sides[i]);</div>
<div class="line"><span class="lineno"> 2016</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2017</span>  }</div>
<div class="line"><span class="lineno"> 2018</span>  <span class="keywordflow">if</span> (sideset.size())</div>
<div class="line"><span class="lineno"> 2019</span>  {</div>
<div class="line"><span class="lineno"> 2020</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#aa615f2cb27665ffac7d0960554cc1279">DMMooseSetSides</a>(dm, sideset);</div>
<div class="line"><span class="lineno"> 2021</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2022</span>  }</div>
<div class="line"><span class="lineno"> 2023</span>  opt = <span class="stringliteral">&quot;-dm_moose_unsides&quot;</span>;</div>
<div class="line"><span class="lineno"> 2024</span>  help = <span class="stringliteral">&quot;Sides to exclude from DMMoose&quot;</span>;</div>
<div class="line"><span class="lineno"> 2025</span>  nsides = maxsides;</div>
<div class="line"><span class="lineno"> 2026</span>  ierr = PetscOptionsStringArray(</div>
<div class="line"><span class="lineno"> 2027</span>      opt.c_str(), help.c_str(), <span class="stringliteral">&quot;DMMooseSetUnSides&quot;</span>, sides, &amp;nsides, LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2028</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2029</span>  sideset.clear();</div>
<div class="line"><span class="lineno"> 2030</span>  <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; nsides; ++i)</div>
<div class="line"><span class="lineno"> 2031</span>  {</div>
<div class="line"><span class="lineno"> 2032</span>    sideset.insert(std::string(sides[i]));</div>
<div class="line"><span class="lineno"> 2033</span>    ierr = PetscFree(sides[i]);</div>
<div class="line"><span class="lineno"> 2034</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2035</span>  }</div>
<div class="line"><span class="lineno"> 2036</span>  <span class="keywordflow">if</span> (sideset.size())</div>
<div class="line"><span class="lineno"> 2037</span>  {</div>
<div class="line"><span class="lineno"> 2038</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a8bafa74db7bb58200fff8b0d6ac69618">DMMooseSetUnSides</a>(dm, sideset);</div>
<div class="line"><span class="lineno"> 2039</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2040</span>  }</div>
<div class="line"><span class="lineno"> 2041</span>  ierr = PetscFree(sides);</div>
<div class="line"><span class="lineno"> 2042</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2043</span>  PetscInt maxcontacts = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a6594bc2a311210e038cabb57de287784">geomSearchData</a>().<a class="code hl_variable" href="classGeometricSearchData.html#a600305136aabda040eede2c5513fb864">_penetration_locators</a>.size();</div>
<div class="line"><span class="lineno"> 2044</span>  std::shared_ptr&lt;DisplacedProblem&gt; displaced_problem = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a5abab421d4d44867d8fe32d8864f68bd">getDisplacedProblem</a>();</div>
<div class="line"><span class="lineno"> 2045</span>  <span class="keywordflow">if</span> (displaced_problem)</div>
<div class="line"><span class="lineno"> 2046</span>    maxcontacts = PetscMax(</div>
<div class="line"><span class="lineno"> 2047</span>        maxcontacts, (PetscInt)displaced_problem-&gt;geomSearchData()._penetration_locators.size());</div>
<div class="line"><span class="lineno"> 2048</span> </div>
<div class="line"><span class="lineno"> 2049</span>  std::vector&lt;DM_Moose::ContactName&gt; contacts;</div>
<div class="line"><span class="lineno"> 2050</span>  std::vector&lt;PetscBool&gt; contact_displaced;</div>
<div class="line"><span class="lineno"> 2051</span>  PetscInt ncontacts = 0;</div>
<div class="line"><span class="lineno"> 2052</span>  opt = <span class="stringliteral">&quot;-dm_moose_ncontacts&quot;</span>;</div>
<div class="line"><span class="lineno"> 2053</span>  help =</div>
<div class="line"><span class="lineno"> 2054</span>      <span class="stringliteral">&quot;Number of contacts to include in DMMoose.  For each &lt;n&gt; &lt; &quot;</span></div>
<div class="line"><span class="lineno"> 2055</span>      <span class="stringliteral">&quot;dm_moose_contacts\n\t-dm_moose_contact_&lt;n&gt; is a comma-separated &lt;primary&gt;,&lt;secondary&gt; pair &quot;</span></div>
<div class="line"><span class="lineno"> 2056</span>      <span class="stringliteral">&quot;defining the contact surfaces&quot;</span></div>
<div class="line"><span class="lineno"> 2057</span>      <span class="stringliteral">&quot;\t-dm_moose_contact_&lt;n&gt;_displaced &lt;bool&gt; determines whether the contact is defined on &quot;</span></div>
<div class="line"><span class="lineno"> 2058</span>      <span class="stringliteral">&quot;the displaced mesh or not&quot;</span>;</div>
<div class="line"><span class="lineno"> 2059</span>  ierr = PetscOptionsInt(opt.c_str(),</div>
<div class="line"><span class="lineno"> 2060</span>                         help.c_str(),</div>
<div class="line"><span class="lineno"> 2061</span>                         <span class="stringliteral">&quot;DMMooseSetContacts&quot;</span>,</div>
<div class="line"><span class="lineno"> 2062</span>                         ncontacts,</div>
<div class="line"><span class="lineno"> 2063</span>                         &amp;ncontacts,</div>
<div class="line"><span class="lineno"> 2064</span>                         LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2065</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2066</span>  <span class="keywordflow">if</span> (ncontacts &gt; maxcontacts)</div>
<div class="line"><span class="lineno"> 2067</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 2068</span>                     PETSC_ERR_ARG_SIZ,</div>
<div class="line"><span class="lineno"> 2069</span>                     <span class="stringliteral">&quot;Number of requested contacts %&quot;</span> LIBMESH_PETSCINT_FMT</div>
<div class="line"><span class="lineno"> 2070</span>                     <span class="stringliteral">&quot; exceeds the maximum number of contacts %&quot;</span> LIBMESH_PETSCINT_FMT,</div>
<div class="line"><span class="lineno"> 2071</span>                     ncontacts,</div>
<div class="line"><span class="lineno"> 2072</span>                     maxcontacts);</div>
<div class="line"><span class="lineno"> 2073</span>  <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; ncontacts; ++i)</div>
<div class="line"><span class="lineno"> 2074</span>  {</div>
<div class="line"><span class="lineno"> 2075</span>    {</div>
<div class="line"><span class="lineno"> 2076</span>      <span class="keywordtype">char</span> * primary_secondary[2];</div>
<div class="line"><span class="lineno"> 2077</span>      PetscInt sz = 2;</div>
<div class="line"><span class="lineno"> 2078</span>      std::ostringstream oopt, ohelp;</div>
<div class="line"><span class="lineno"> 2079</span>      oopt &lt;&lt; <span class="stringliteral">&quot;-dm_moose_contact_&quot;</span> &lt;&lt; i;</div>
<div class="line"><span class="lineno"> 2080</span>      ohelp &lt;&lt; <span class="stringliteral">&quot;Primary and secondary for contact &quot;</span> &lt;&lt; i;</div>
<div class="line"><span class="lineno"> 2081</span>      ierr = PetscOptionsStringArray(oopt.str().c_str(),</div>
<div class="line"><span class="lineno"> 2082</span>                                     ohelp.str().c_str(),</div>
<div class="line"><span class="lineno"> 2083</span>                                     <span class="stringliteral">&quot;DMMooseSetContacts&quot;</span>,</div>
<div class="line"><span class="lineno"> 2084</span>                                     primary_secondary,</div>
<div class="line"><span class="lineno"> 2085</span>                                     &amp;sz,</div>
<div class="line"><span class="lineno"> 2086</span>                                     LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2087</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2088</span>      <span class="keywordflow">if</span> (sz != 2)</div>
<div class="line"><span class="lineno"> 2089</span>        LIBMESH_SETERRQ2(</div>
<div class="line"><span class="lineno"> 2090</span>            ((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 2091</span>            PETSC_ERR_ARG_SIZ,</div>
<div class="line"><span class="lineno"> 2092</span>            <span class="stringliteral">&quot;Expected 2 sideset IDs (primary &amp; secondary) for contact %&quot;</span> LIBMESH_PETSCINT_FMT</div>
<div class="line"><span class="lineno"> 2093</span>            <span class="stringliteral">&quot;, got %&quot;</span> LIBMESH_PETSCINT_FMT <span class="stringliteral">&quot; instead&quot;</span>,</div>
<div class="line"><span class="lineno"> 2094</span>            i,</div>
<div class="line"><span class="lineno"> 2095</span>            sz);</div>
<div class="line"><span class="lineno"> 2096</span>      contacts.push_back(<a class="code hl_typedef" href="structDM__Moose.html#ab53b21225595cdb50a2611b1f12bbab6">DM_Moose::ContactName</a>(std::string(primary_secondary[0]),</div>
<div class="line"><span class="lineno"> 2097</span>                                               std::string(primary_secondary[1])));</div>
<div class="line"><span class="lineno"> 2098</span>      ierr = PetscFree(primary_secondary[0]);</div>
<div class="line"><span class="lineno"> 2099</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2100</span>      ierr = PetscFree(primary_secondary[1]);</div>
<div class="line"><span class="lineno"> 2101</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2102</span>    }</div>
<div class="line"><span class="lineno"> 2103</span>    {</div>
<div class="line"><span class="lineno"> 2104</span>      PetscBool displaced = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 2105</span>      std::ostringstream oopt, ohelp;</div>
<div class="line"><span class="lineno"> 2106</span>      oopt &lt;&lt; <span class="stringliteral">&quot;-dm_moose_contact_&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;_displaced&quot;</span>;</div>
<div class="line"><span class="lineno"> 2107</span>      ohelp &lt;&lt; <span class="stringliteral">&quot;Whether contact &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; is determined using displaced mesh or not&quot;</span>;</div>
<div class="line"><span class="lineno"> 2108</span>      ierr = PetscOptionsBool(oopt.str().c_str(),</div>
<div class="line"><span class="lineno"> 2109</span>                              ohelp.str().c_str(),</div>
<div class="line"><span class="lineno"> 2110</span>                              <span class="stringliteral">&quot;DMMooseSetContacts&quot;</span>,</div>
<div class="line"><span class="lineno"> 2111</span>                              PETSC_FALSE,</div>
<div class="line"><span class="lineno"> 2112</span>                              &amp;displaced,</div>
<div class="line"><span class="lineno"> 2113</span>                              LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2114</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2115</span>      contact_displaced.push_back(displaced);</div>
<div class="line"><span class="lineno"> 2116</span>    }</div>
<div class="line"><span class="lineno"> 2117</span>  }</div>
<div class="line"><span class="lineno"> 2118</span>  <span class="keywordflow">if</span> (contacts.size())</div>
<div class="line"><span class="lineno"> 2119</span>  {</div>
<div class="line"><span class="lineno"> 2120</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#abaf0d06f68f862211d0faddee5b4030d">DMMooseSetContacts</a>(dm, contacts, contact_displaced);</div>
<div class="line"><span class="lineno"> 2121</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2122</span>  }</div>
<div class="line"><span class="lineno"> 2123</span>  {</div>
<div class="line"><span class="lineno"> 2124</span>    std::ostringstream oopt, ohelp;</div>
<div class="line"><span class="lineno"> 2125</span>    PetscBool is_include_all_nodes;</div>
<div class="line"><span class="lineno"> 2126</span>    oopt &lt;&lt; <span class="stringliteral">&quot;-dm_moose_includeAllContactNodes&quot;</span>;</div>
<div class="line"><span class="lineno"> 2127</span>    ohelp &lt;&lt; <span class="stringliteral">&quot;Whether to include all nodes on the contact surfaces into the subsolver&quot;</span>;</div>
<div class="line"><span class="lineno"> 2128</span>    ierr = PetscOptionsBool(oopt.str().c_str(),</div>
<div class="line"><span class="lineno"> 2129</span>                            ohelp.str().c_str(),</div>
<div class="line"><span class="lineno"> 2130</span>                            <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2131</span>                            PETSC_FALSE,</div>
<div class="line"><span class="lineno"> 2132</span>                            &amp;is_include_all_nodes,</div>
<div class="line"><span class="lineno"> 2133</span>                            LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2134</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2135</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7e6f07c0f41845d5e02f8b18938a5a37">_include_all_contact_nodes</a> = is_include_all_nodes;</div>
<div class="line"><span class="lineno"> 2136</span>  }</div>
<div class="line"><span class="lineno"> 2137</span>  std::vector&lt;DM_Moose::ContactName&gt; uncontacts;</div>
<div class="line"><span class="lineno"> 2138</span>  std::vector&lt;PetscBool&gt; uncontact_displaced;</div>
<div class="line"><span class="lineno"> 2139</span>  PetscInt nuncontacts = 0;</div>
<div class="line"><span class="lineno"> 2140</span>  opt = <span class="stringliteral">&quot;-dm_moose_nuncontacts&quot;</span>;</div>
<div class="line"><span class="lineno"> 2141</span>  help =</div>
<div class="line"><span class="lineno"> 2142</span>      <span class="stringliteral">&quot;Number of contacts to exclude from DMMoose.  For each &lt;n&gt; &lt; &quot;</span></div>
<div class="line"><span class="lineno"> 2143</span>      <span class="stringliteral">&quot;dm_moose_contacts\n\t-dm_moose_contact_&lt;n&gt; is a comma-separated &lt;primary&gt;,&lt;secondary&gt; pair &quot;</span></div>
<div class="line"><span class="lineno"> 2144</span>      <span class="stringliteral">&quot;defining the contact surfaces&quot;</span></div>
<div class="line"><span class="lineno"> 2145</span>      <span class="stringliteral">&quot;\t-dm_moose_contact_&lt;n&gt;_displaced &lt;bool&gt; determines whether the contact is defined on &quot;</span></div>
<div class="line"><span class="lineno"> 2146</span>      <span class="stringliteral">&quot;the displaced mesh or not&quot;</span>;</div>
<div class="line"><span class="lineno"> 2147</span>  ierr = PetscOptionsInt(opt.c_str(),</div>
<div class="line"><span class="lineno"> 2148</span>                         help.c_str(),</div>
<div class="line"><span class="lineno"> 2149</span>                         <span class="stringliteral">&quot;DMMooseSetUnContacts&quot;</span>,</div>
<div class="line"><span class="lineno"> 2150</span>                         nuncontacts,</div>
<div class="line"><span class="lineno"> 2151</span>                         &amp;nuncontacts,</div>
<div class="line"><span class="lineno"> 2152</span>                         LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2153</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2154</span>  <span class="keywordflow">if</span> (nuncontacts &gt; maxcontacts)</div>
<div class="line"><span class="lineno"> 2155</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 2156</span>                     PETSC_ERR_ARG_SIZ,</div>
<div class="line"><span class="lineno"> 2157</span>                     <span class="stringliteral">&quot;Number of requested uncontacts %&quot;</span> LIBMESH_PETSCINT_FMT</div>
<div class="line"><span class="lineno"> 2158</span>                     <span class="stringliteral">&quot; exceeds the maximum number of contacts %&quot;</span> LIBMESH_PETSCINT_FMT,</div>
<div class="line"><span class="lineno"> 2159</span>                     nuncontacts,</div>
<div class="line"><span class="lineno"> 2160</span>                     maxcontacts);</div>
<div class="line"><span class="lineno"> 2161</span>  <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; nuncontacts; ++i)</div>
<div class="line"><span class="lineno"> 2162</span>  {</div>
<div class="line"><span class="lineno"> 2163</span>    {</div>
<div class="line"><span class="lineno"> 2164</span>      <span class="keywordtype">char</span> * primary_secondary[2];</div>
<div class="line"><span class="lineno"> 2165</span>      PetscInt sz = 2;</div>
<div class="line"><span class="lineno"> 2166</span>      std::ostringstream oopt, ohelp;</div>
<div class="line"><span class="lineno"> 2167</span>      oopt &lt;&lt; <span class="stringliteral">&quot;-dm_moose_uncontact_&quot;</span> &lt;&lt; i;</div>
<div class="line"><span class="lineno"> 2168</span>      ohelp &lt;&lt; <span class="stringliteral">&quot;Primary and secondary for uncontact &quot;</span> &lt;&lt; i;</div>
<div class="line"><span class="lineno"> 2169</span>      ierr = PetscOptionsStringArray(oopt.str().c_str(),</div>
<div class="line"><span class="lineno"> 2170</span>                                     ohelp.str().c_str(),</div>
<div class="line"><span class="lineno"> 2171</span>                                     <span class="stringliteral">&quot;DMMooseSetUnContacts&quot;</span>,</div>
<div class="line"><span class="lineno"> 2172</span>                                     primary_secondary,</div>
<div class="line"><span class="lineno"> 2173</span>                                     &amp;sz,</div>
<div class="line"><span class="lineno"> 2174</span>                                     LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2175</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2176</span>      <span class="keywordflow">if</span> (sz != 2)</div>
<div class="line"><span class="lineno"> 2177</span>        LIBMESH_SETERRQ2(</div>
<div class="line"><span class="lineno"> 2178</span>            ((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 2179</span>            PETSC_ERR_ARG_SIZ,</div>
<div class="line"><span class="lineno"> 2180</span>            <span class="stringliteral">&quot;Expected 2 sideset IDs (primary &amp; secondary) for uncontact %&quot;</span> LIBMESH_PETSCINT_FMT</div>
<div class="line"><span class="lineno"> 2181</span>            <span class="stringliteral">&quot;, got %&quot;</span> LIBMESH_PETSCINT_FMT <span class="stringliteral">&quot; instead&quot;</span>,</div>
<div class="line"><span class="lineno"> 2182</span>            i,</div>
<div class="line"><span class="lineno"> 2183</span>            sz);</div>
<div class="line"><span class="lineno"> 2184</span>      uncontacts.push_back(<a class="code hl_typedef" href="structDM__Moose.html#ab53b21225595cdb50a2611b1f12bbab6">DM_Moose::ContactName</a>(std::string(primary_secondary[0]),</div>
<div class="line"><span class="lineno"> 2185</span>                                                 std::string(primary_secondary[1])));</div>
<div class="line"><span class="lineno"> 2186</span>      ierr = PetscFree(primary_secondary[0]);</div>
<div class="line"><span class="lineno"> 2187</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2188</span>      ierr = PetscFree(primary_secondary[1]);</div>
<div class="line"><span class="lineno"> 2189</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2190</span>    }</div>
<div class="line"><span class="lineno"> 2191</span>    {</div>
<div class="line"><span class="lineno"> 2192</span>      PetscBool displaced = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 2193</span>      std::ostringstream oopt, ohelp;</div>
<div class="line"><span class="lineno"> 2194</span>      oopt &lt;&lt; <span class="stringliteral">&quot;-dm_moose_uncontact_&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;_displaced&quot;</span>;</div>
<div class="line"><span class="lineno"> 2195</span>      ohelp &lt;&lt; <span class="stringliteral">&quot;Whether uncontact &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; is determined using displaced mesh or not&quot;</span>;</div>
<div class="line"><span class="lineno"> 2196</span>      ierr = PetscOptionsBool(oopt.str().c_str(),</div>
<div class="line"><span class="lineno"> 2197</span>                              ohelp.str().c_str(),</div>
<div class="line"><span class="lineno"> 2198</span>                              <span class="stringliteral">&quot;DMMooseSetUnContact&quot;</span>,</div>
<div class="line"><span class="lineno"> 2199</span>                              PETSC_FALSE,</div>
<div class="line"><span class="lineno"> 2200</span>                              &amp;displaced,</div>
<div class="line"><span class="lineno"> 2201</span>                              LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2202</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2203</span>      uncontact_displaced.push_back(displaced);</div>
<div class="line"><span class="lineno"> 2204</span>    }</div>
<div class="line"><span class="lineno"> 2205</span>  }</div>
<div class="line"><span class="lineno"> 2206</span>  <span class="keywordflow">if</span> (uncontacts.size())</div>
<div class="line"><span class="lineno"> 2207</span>  {</div>
<div class="line"><span class="lineno"> 2208</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a3db64b959e1d1112cd306dd01b9e669c">DMMooseSetUnContacts</a>(dm, uncontacts, uncontact_displaced);</div>
<div class="line"><span class="lineno"> 2209</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2210</span>  }</div>
<div class="line"><span class="lineno"> 2211</span> </div>
<div class="line"><span class="lineno"> 2212</span>  PetscInt nsplits = 0;</div>
<div class="line"><span class="lineno"> 2213</span>  <span class="comment">/* Insert the usage of -dm_moose_fieldsplit_names into this help message, since the following</span></div>
<div class="line"><span class="lineno"> 2214</span><span class="comment">   * if-clause might never fire, if -help is requested. */</span></div>
<div class="line"><span class="lineno"> 2215</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> * fdhelp = <span class="stringliteral">&quot;Number of named fieldsplits defined by the DM.\n\</span></div>
<div class="line"><span class="lineno"> 2216</span><span class="stringliteral">                \tNames of fieldsplits are defined by -dm_moose_fieldsplit_names &lt;splitname1&gt; &lt;splitname2&gt; ...\n\</span></div>
<div class="line"><span class="lineno"> 2217</span><span class="stringliteral">                \tEach split can be configured with its own variables, blocks and sides, as any DMMoose&quot;</span>;</div>
<div class="line"><span class="lineno"> 2218</span>  ierr = PetscOptionsInt(</div>
<div class="line"><span class="lineno"> 2219</span>      <span class="stringliteral">&quot;-dm_moose_nfieldsplits&quot;</span>, fdhelp, <span class="stringliteral">&quot;DMMooseSetSplitNames&quot;</span>, nsplits, &amp;nsplits, NULL);</div>
<div class="line"><span class="lineno"> 2220</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2221</span>  <span class="keywordflow">if</span> (nsplits)</div>
<div class="line"><span class="lineno"> 2222</span>  {</div>
<div class="line"><span class="lineno"> 2223</span>    PetscInt nnsplits = nsplits;</div>
<div class="line"><span class="lineno"> 2224</span>    std::vector&lt;std::string&gt; split_names;</div>
<div class="line"><span class="lineno"> 2225</span>    <span class="keywordtype">char</span> ** splitnames;</div>
<div class="line"><span class="lineno"> 2226</span>    ierr = PetscMalloc(nsplits * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *), &amp;splitnames);</div>
<div class="line"><span class="lineno"> 2227</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2228</span>    ierr = PetscOptionsStringArray(<span class="stringliteral">&quot;-dm_moose_fieldsplit_names&quot;</span>,</div>
<div class="line"><span class="lineno"> 2229</span>                                   <span class="stringliteral">&quot;Names of fieldsplits defined by the DM&quot;</span>,</div>
<div class="line"><span class="lineno"> 2230</span>                                   <span class="stringliteral">&quot;DMMooseSetSplitNames&quot;</span>,</div>
<div class="line"><span class="lineno"> 2231</span>                                   splitnames,</div>
<div class="line"><span class="lineno"> 2232</span>                                   &amp;nnsplits,</div>
<div class="line"><span class="lineno"> 2233</span>                                   LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2234</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2235</span>    <span class="keywordflow">if</span> (!nnsplits)</div>
<div class="line"><span class="lineno"> 2236</span>    {</div>
<div class="line"><span class="lineno"> 2237</span>      <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; nsplits; ++i)</div>
<div class="line"><span class="lineno"> 2238</span>      {</div>
<div class="line"><span class="lineno"> 2239</span>        std::ostringstream s;</div>
<div class="line"><span class="lineno"> 2240</span>        s &lt;&lt; i;</div>
<div class="line"><span class="lineno"> 2241</span>        split_names.push_back(s.str());</div>
<div class="line"><span class="lineno"> 2242</span>      }</div>
<div class="line"><span class="lineno"> 2243</span>    }</div>
<div class="line"><span class="lineno"> 2244</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nsplits != nnsplits)</div>
<div class="line"><span class="lineno"> 2245</span>      LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 2246</span>                       PETSC_ERR_ARG_SIZ,</div>
<div class="line"><span class="lineno"> 2247</span>                       <span class="stringliteral">&quot;Expected %&quot;</span> LIBMESH_PETSCINT_FMT</div>
<div class="line"><span class="lineno"> 2248</span>                       <span class="stringliteral">&quot; fieldsplit names, got %&quot;</span> LIBMESH_PETSCINT_FMT <span class="stringliteral">&quot; instead&quot;</span>,</div>
<div class="line"><span class="lineno"> 2249</span>                       nsplits,</div>
<div class="line"><span class="lineno"> 2250</span>                       nnsplits);</div>
<div class="line"><span class="lineno"> 2251</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2252</span>    {</div>
<div class="line"><span class="lineno"> 2253</span>      <span class="keywordflow">for</span> (PetscInt i = 0; i &lt; nsplits; ++i)</div>
<div class="line"><span class="lineno"> 2254</span>      {</div>
<div class="line"><span class="lineno"> 2255</span>        split_names.push_back(std::string(splitnames[i]));</div>
<div class="line"><span class="lineno"> 2256</span>        ierr = PetscFree(splitnames[i]);</div>
<div class="line"><span class="lineno"> 2257</span>        CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2258</span>      }</div>
<div class="line"><span class="lineno"> 2259</span>    }</div>
<div class="line"><span class="lineno"> 2260</span>    ierr = PetscFree(splitnames);</div>
<div class="line"><span class="lineno"> 2261</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2262</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a5868769fd4c8f47c2441ce1e16ddb801">DMMooseSetSplitNames</a>(dm, split_names);</div>
<div class="line"><span class="lineno"> 2263</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2264</span>  }</div>
<div class="line"><span class="lineno"> 2265</span>  ierr = PetscOptionsBool(<span class="stringliteral">&quot;-dm_moose_print_embedding&quot;</span>,</div>
<div class="line"><span class="lineno"> 2266</span>                          <span class="stringliteral">&quot;Print IS embedding DM&#39;s dofs&quot;</span>,</div>
<div class="line"><span class="lineno"> 2267</span>                          <span class="stringliteral">&quot;DMMoose&quot;</span>,</div>
<div class="line"><span class="lineno"> 2268</span>                          dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7082fe273879cedc9094165b08bc8122">_print_embedding</a>,</div>
<div class="line"><span class="lineno"> 2269</span>                          &amp;dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7082fe273879cedc9094165b08bc8122">_print_embedding</a>,</div>
<div class="line"><span class="lineno"> 2270</span>                          LIBMESH_PETSC_NULLPTR);</div>
<div class="line"><span class="lineno"> 2271</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2272</span>  PetscOptionsEnd();</div>
<div class="line"><span class="lineno"> 2273</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a4161dcb1788f761e9b835d1c7133c46d">DMSetUp_Moose_Pre</a>(dm);</div>
<div class="line"><span class="lineno"> 2274</span>  CHKERRQ(ierr); <span class="comment">/* Need some preliminary set up because, strangely enough, DMView() is called in</span></div>
<div class="line"><span class="lineno"> 2275</span><span class="comment">                    DMSetFromOptions(). */</span></div>
<div class="line"><span class="lineno"> 2276</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 2277</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_a3db64b959e1d1112cd306dd01b9e669c"><div class="ttname"><a href="PetscDMMoose_8C.html#a3db64b959e1d1112cd306dd01b9e669c">DMMooseSetUnContacts</a></div><div class="ttdeci">PetscErrorCode DMMooseSetUnContacts(DM dm, const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;uncontacts, const std::vector&lt; PetscBool &gt; &amp;displaced)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00428">PetscDMMoose.C:428</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a4161dcb1788f761e9b835d1c7133c46d"><div class="ttname"><a href="PetscDMMoose_8C.html#a4161dcb1788f761e9b835d1c7133c46d">DMSetUp_Moose_Pre</a></div><div class="ttdeci">static PetscErrorCode DMSetUp_Moose_Pre(DM dm)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01573">PetscDMMoose.C:1573</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a5868769fd4c8f47c2441ce1e16ddb801"><div class="ttname"><a href="PetscDMMoose_8C.html#a5868769fd4c8f47c2441ce1e16ddb801">DMMooseSetSplitNames</a></div><div class="ttdeci">PetscErrorCode DMMooseSetSplitNames(DM dm, const std::vector&lt; std::string &gt; &amp;split_names)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00494">PetscDMMoose.C:494</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a692cb56bdfa5c7cf2373a49c46f8b34b"><div class="ttname"><a href="PetscDMMoose_8C.html#a692cb56bdfa5c7cf2373a49c46f8b34b">DMMooseSetBlocks</a></div><div class="ttdeci">PetscErrorCode DMMooseSetBlocks(DM dm, const std::set&lt; std::string &gt; &amp;blocks)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00305">PetscDMMoose.C:305</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a8bafa74db7bb58200fff8b0d6ac69618"><div class="ttname"><a href="PetscDMMoose_8C.html#a8bafa74db7bb58200fff8b0d6ac69618">DMMooseSetUnSides</a></div><div class="ttdeci">PetscErrorCode DMMooseSetUnSides(DM dm, const std::set&lt; std::string &gt; &amp;unsides)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00359">PetscDMMoose.C:359</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_aa615f2cb27665ffac7d0960554cc1279"><div class="ttname"><a href="PetscDMMoose_8C.html#aa615f2cb27665ffac7d0960554cc1279">DMMooseSetSides</a></div><div class="ttdeci">PetscErrorCode DMMooseSetSides(DM dm, const std::set&lt; std::string &gt; &amp;sides)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00332">PetscDMMoose.C:332</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_abaf0d06f68f862211d0faddee5b4030d"><div class="ttname"><a href="PetscDMMoose_8C.html#abaf0d06f68f862211d0faddee5b4030d">DMMooseSetContacts</a></div><div class="ttdeci">PetscErrorCode DMMooseSetContacts(DM dm, const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;contacts, const std::vector&lt; PetscBool &gt; &amp;displaced)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00386">PetscDMMoose.C:386</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_abdb51bfc3062d4278c5e9092d0019d43"><div class="ttname"><a href="PetscDMMoose_8C.html#abdb51bfc3062d4278c5e9092d0019d43">DMMooseGetMeshBlocks_Private</a></div><div class="ttdeci">static PetscErrorCode DMMooseGetMeshBlocks_Private(DM dm, std::set&lt; subdomain_id_type &gt; &amp;blocks)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01541">PetscDMMoose.C:1541</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_ae6f2d03fe71db2b55eacd3ba5cb086d4"><div class="ttname"><a href="PetscDMMoose_8C.html#ae6f2d03fe71db2b55eacd3ba5cb086d4">DMMooseSetVariables</a></div><div class="ttdeci">PetscErrorCode DMMooseSetVariables(DM dm, const std::set&lt; std::string &gt; &amp;vars)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00264">PetscDMMoose.C:264</a></div></div>
<div class="ttc" id="astructDM__Moose_html_ab53b21225595cdb50a2611b1f12bbab6"><div class="ttname"><a href="structDM__Moose.html#ab53b21225595cdb50a2611b1f12bbab6">DM_Moose::ContactName</a></div><div class="ttdeci">std::pair&lt; std::string, std::string &gt; ContactName</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00054">PetscDMMoose.C:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7af09d9cbe1e7d8c48ecba64e172da88" name="a7af09d9cbe1e7d8c48ecba64e172da88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af09d9cbe1e7d8c48ecba64e172da88">&#9670;&#160;</a></span>DMSetUp_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMSetUp_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01842">1842</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1843</span>{</div>
<div class="line"><span class="lineno"> 1844</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1845</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 1846</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno"> 1847</span> </div>
<div class="line"><span class="lineno"> 1848</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1849</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno"> 1850</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1851</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno"> 1852</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 1853</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno"> 1854</span>                     <span class="stringliteral">&quot;DM of type %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1855</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno"> 1856</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno"> 1857</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>)</div>
<div class="line"><span class="lineno"> 1858</span>    SETERRQ(PETSC_COMM_WORLD, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;No Moose system set for DM_Moose&quot;</span>);</div>
<div class="line"><span class="lineno"> 1859</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7082fe273879cedc9094165b08bc8122">_print_embedding</a>)</div>
<div class="line"><span class="lineno"> 1860</span>  {</div>
<div class="line"><span class="lineno"> 1861</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *name, *prefix;</div>
<div class="line"><span class="lineno"> 1862</span>    IS embedding;</div>
<div class="line"><span class="lineno"> 1863</span> </div>
<div class="line"><span class="lineno"> 1864</span>    ierr = PetscObjectGetName((PetscObject)dm, &amp;name);</div>
<div class="line"><span class="lineno"> 1865</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1866</span>    ierr = PetscObjectGetOptionsPrefix((PetscObject)dm, &amp;prefix);</div>
<div class="line"><span class="lineno"> 1867</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1868</span>    ierr = PetscViewerASCIIPrintf(PETSC_VIEWER_STDOUT_(((PetscObject)dm)-&gt;comm),</div>
<div class="line"><span class="lineno"> 1869</span>                                  <span class="stringliteral">&quot;DM Moose with name %s and prefix %s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1870</span>                                  name,</div>
<div class="line"><span class="lineno"> 1871</span>                                  prefix);</div>
<div class="line"><span class="lineno"> 1872</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1873</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aaf0046c8fb6176f703b02acb0dabc246">_all_vars</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#abc5d370aa0cc5c9bd0a67e9fef498aad">_all_blocks</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">_nosides</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4333873e8a96dff347a65fde76743929">_nounsides</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1874</span>        dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">_nocontacts</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a616bee6dd2708606a52763714df276de">_nouncontacts</a>)</div>
<div class="line"><span class="lineno"> 1875</span>    {</div>
<div class="line"><span class="lineno"> 1876</span>      ierr = PetscViewerASCIIPrintf(PETSC_VIEWER_STDOUT_(((PetscObject)dm)-&gt;comm),</div>
<div class="line"><span class="lineno"> 1877</span>                                    <span class="stringliteral">&quot;\thas a trivial embedding\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1878</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1879</span>    }</div>
<div class="line"><span class="lineno"> 1880</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1881</span>    {</div>
<div class="line"><span class="lineno"> 1882</span>      ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a3ce376b22cde9169f2430c75b4f70549">DMMooseGetEmbedding_Private</a>(dm, &amp;embedding);</div>
<div class="line"><span class="lineno"> 1883</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1884</span>      ierr = PetscViewerASCIIPrintf(PETSC_VIEWER_STDOUT_(((PetscObject)dm)-&gt;comm),</div>
<div class="line"><span class="lineno"> 1885</span>                                    <span class="stringliteral">&quot;\thas embedding defined by IS:\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1886</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1887</span>      ierr = ISView(embedding, PETSC_VIEWER_STDOUT_(((PetscObject)dm)-&gt;comm));</div>
<div class="line"><span class="lineno"> 1888</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1889</span>      ierr = ISDestroy(&amp;embedding);</div>
<div class="line"><span class="lineno"> 1890</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1891</span>    }</div>
<div class="line"><span class="lineno"> 1892</span>  }</div>
<div class="line"><span class="lineno"> 1893</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1894</span><span class="comment">   Do not evaluate function, Jacobian or bounds for an embedded DM -- the subproblem might not have</span></div>
<div class="line"><span class="lineno"> 1895</span><span class="comment">   enough information for that.</span></div>
<div class="line"><span class="lineno"> 1896</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1897</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aaf0046c8fb6176f703b02acb0dabc246">_all_vars</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#abc5d370aa0cc5c9bd0a67e9fef498aad">_all_blocks</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">_nosides</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4333873e8a96dff347a65fde76743929">_nounsides</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">_nocontacts</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1898</span>      dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a616bee6dd2708606a52763714df276de">_nouncontacts</a>)</div>
<div class="line"><span class="lineno"> 1899</span>  {</div>
<div class="line"><span class="lineno"> 1900</span>    ierr = DMSNESSetFunction(dm, <a class="code hl_function" href="PetscDMMoose_8C.html#a44cd3b845b456208b941920ad6fc4658">SNESFunction_DMMoose</a>, (<span class="keywordtype">void</span> *)dm);</div>
<div class="line"><span class="lineno"> 1901</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1902</span>    ierr = DMSNESSetJacobian(dm, <a class="code hl_function" href="PetscDMMoose_8C.html#a31871a488f32853e9f81e06ea08f4eb9">SNESJacobian_DMMoose</a>, (<span class="keywordtype">void</span> *)dm);</div>
<div class="line"><span class="lineno"> 1903</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1904</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;bounds || dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;bounds_object)</div>
<div class="line"><span class="lineno"> 1905</span>      ierr = DMSetVariableBounds(dm, <a class="code hl_function" href="PetscDMMoose_8C.html#a2f578ab0fd2f47345658909f5f061bd1">DMVariableBounds_Moose</a>);</div>
<div class="line"><span class="lineno"> 1906</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1907</span>  }</div>
<div class="line"><span class="lineno"> 1908</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1909</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_a2f578ab0fd2f47345658909f5f061bd1"><div class="ttname"><a href="PetscDMMoose_8C.html#a2f578ab0fd2f47345658909f5f061bd1">DMVariableBounds_Moose</a></div><div class="ttdeci">static PetscErrorCode DMVariableBounds_Moose(DM dm, Vec xl, Vec xu)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01252">PetscDMMoose.C:1252</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a31871a488f32853e9f81e06ea08f4eb9"><div class="ttname"><a href="PetscDMMoose_8C.html#a31871a488f32853e9f81e06ea08f4eb9">SNESJacobian_DMMoose</a></div><div class="ttdeci">static PetscErrorCode SNESJacobian_DMMoose(SNES, Vec x, Mat jac, Mat pc, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01238">PetscDMMoose.C:1238</a></div></div>
<div class="ttc" id="aPetscDMMoose_8C_html_a44cd3b845b456208b941920ad6fc4658"><div class="ttname"><a href="PetscDMMoose_8C.html#a44cd3b845b456208b941920ad6fc4658">SNESFunction_DMMoose</a></div><div class="ttdeci">static PetscErrorCode SNESFunction_DMMoose(SNES, Vec x, Vec r, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01140">PetscDMMoose.C:1140</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>.</p>

</div>
</div>
<a id="a4161dcb1788f761e9b835d1c7133c46d" name="a4161dcb1788f761e9b835d1c7133c46d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4161dcb1788f761e9b835d1c7133c46d">&#9670;&#160;</a></span>DMSetUp_Moose_Pre()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMSetUp_Moose_Pre </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01573">1573</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1574</span>{</div>
<div class="line"><span class="lineno"> 1575</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1576</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)(dm-&gt;data);</div>
<div class="line"><span class="lineno"> 1577</span>  PetscBool ismoose;</div>
<div class="line"><span class="lineno"> 1578</span> </div>
<div class="line"><span class="lineno"> 1579</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1580</span>  ierr = PetscObjectTypeCompare((PetscObject)dm, DMMOOSE, &amp;ismoose);</div>
<div class="line"><span class="lineno"> 1581</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1582</span>  <span class="keywordflow">if</span> (!ismoose)</div>
<div class="line"><span class="lineno"> 1583</span>    LIBMESH_SETERRQ2(((PetscObject)dm)-&gt;comm,</div>
<div class="line"><span class="lineno"> 1584</span>                     PETSC_ERR_ARG_WRONG,</div>
<div class="line"><span class="lineno"> 1585</span>                     <span class="stringliteral">&quot;DM of type %s, not of type %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1586</span>                     ((PetscObject)dm)-&gt;type_name,</div>
<div class="line"><span class="lineno"> 1587</span>                     DMMOOSE);</div>
<div class="line"><span class="lineno"> 1588</span>  <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>)</div>
<div class="line"><span class="lineno"> 1589</span>    SETERRQ(PETSC_COMM_WORLD, PETSC_ERR_ARG_WRONGSTATE, <span class="stringliteral">&quot;No Moose system set for DM_Moose&quot;</span>);</div>
<div class="line"><span class="lineno"> 1590</span> </div>
<div class="line"><span class="lineno"> 1591</span>  <span class="comment">/* Set up variables, blocks and sides. */</span></div>
<div class="line"><span class="lineno"> 1592</span>  DofMap &amp; dofmap = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_dof_map();</div>
<div class="line"><span class="lineno"> 1593</span>  <span class="comment">/* libMesh mesh */</span></div>
<div class="line"><span class="lineno"> 1594</span>  <span class="keyword">const</span> MeshBase &amp; mesh = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().get_mesh();</div>
<div class="line"><span class="lineno"> 1595</span> </div>
<div class="line"><span class="lineno"> 1596</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">_nosides</a> = PETSC_TRUE;</div>
<div class="line"><span class="lineno"> 1597</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1598</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1599</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>)</div>
<div class="line"><span class="lineno"> 1600</span>  {</div>
<div class="line"><span class="lineno"> 1601</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">_nosides</a> = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 1602</span>    std::set&lt;BoundaryID&gt; ids;</div>
<div class="line"><span class="lineno"> 1603</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; name : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>))</div>
<div class="line"><span class="lineno"> 1604</span>    {</div>
<div class="line"><span class="lineno"> 1605</span>      boundary_id_type <span class="keywordtype">id</span> = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#a909967cc554c464a58a89a83437ac760">getBoundaryID</a>(name);</div>
<div class="line"><span class="lineno"> 1606</span>      dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a>-&gt;insert(std::make_pair(<span class="keywordtype">id</span>, name));</div>
<div class="line"><span class="lineno"> 1607</span>      dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a>-&gt;insert(std::make_pair(name, <span class="keywordtype">id</span>));</div>
<div class="line"><span class="lineno"> 1608</span>    }</div>
<div class="line"><span class="lineno"> 1609</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a>;</div>
<div class="line"><span class="lineno"> 1610</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a325f1d6053884151bef6e9df298965bd">_sides</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno"> 1611</span>  }</div>
<div class="line"><span class="lineno"> 1612</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4333873e8a96dff347a65fde76743929">_nounsides</a> = PETSC_TRUE;</div>
<div class="line"><span class="lineno"> 1613</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1614</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1615</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">_unsides</a>)</div>
<div class="line"><span class="lineno"> 1616</span>  {</div>
<div class="line"><span class="lineno"> 1617</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4333873e8a96dff347a65fde76743929">_nounsides</a> = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 1618</span>    std::set&lt;BoundaryID&gt; ids;</div>
<div class="line"><span class="lineno"> 1619</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; name : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">_unsides</a>))</div>
<div class="line"><span class="lineno"> 1620</span>    {</div>
<div class="line"><span class="lineno"> 1621</span>      boundary_id_type <span class="keywordtype">id</span> = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#a909967cc554c464a58a89a83437ac760">getBoundaryID</a>(name);</div>
<div class="line"><span class="lineno"> 1622</span>      dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a>-&gt;insert(std::make_pair(<span class="keywordtype">id</span>, name));</div>
<div class="line"><span class="lineno"> 1623</span>      dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a>-&gt;insert(std::make_pair(name, <span class="keywordtype">id</span>));</div>
<div class="line"><span class="lineno"> 1624</span>    }</div>
<div class="line"><span class="lineno"> 1625</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">_unsides</a>;</div>
<div class="line"><span class="lineno"> 1626</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a4ebfd92bfe2809f8dafc4295757f4d24">_unsides</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno"> 1627</span>  }</div>
<div class="line"><span class="lineno"> 1628</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">_nocontacts</a> = PETSC_TRUE;</div>
<div class="line"><span class="lineno"> 1629</span> </div>
<div class="line"><span class="lineno"> 1630</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a>)</div>
<div class="line"><span class="lineno"> 1631</span>  {</div>
<div class="line"><span class="lineno"> 1632</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">_nocontacts</a> = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 1633</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; cpair : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a23b14cf944006f17d87c5f2c62f34f83">_contacts</a>))</div>
<div class="line"><span class="lineno"> 1634</span>    {</div>
<div class="line"><span class="lineno"> 1635</span>      <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno"> 1636</span>      {</div>
<div class="line"><span class="lineno"> 1637</span>        <span class="keywordflow">if</span> ((*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">_contact_displaced</a>)[cpair])</div>
<div class="line"><span class="lineno"> 1638</span>          dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a5abab421d4d44867d8fe32d8864f68bd">getDisplacedProblem</a>()-&gt;geomSearchData().getPenetrationLocator(</div>
<div class="line"><span class="lineno"> 1639</span>              cpair.first, cpair.second);</div>
<div class="line"><span class="lineno"> 1640</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1641</span>          dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a6594bc2a311210e038cabb57de287784">geomSearchData</a>().<a class="code hl_function" href="classGeometricSearchData.html#a9f0926bb18a06f1a4963ae66cd4961dc">getPenetrationLocator</a>(cpair.first, cpair.second);</div>
<div class="line"><span class="lineno"> 1642</span>      }</div>
<div class="line"><span class="lineno"> 1643</span>      <span class="keywordflow">catch</span> (...)</div>
<div class="line"><span class="lineno"> 1644</span>      {</div>
<div class="line"><span class="lineno"> 1645</span>        std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1646</span>        err &lt;&lt; <span class="stringliteral">&quot;Problem retrieving contact for PenetrationLocator with primary &quot;</span> &lt;&lt; cpair.first</div>
<div class="line"><span class="lineno"> 1647</span>            &lt;&lt; <span class="stringliteral">&quot; and secondary &quot;</span> &lt;&lt; cpair.second;</div>
<div class="line"><span class="lineno"> 1648</span>        <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1649</span>      }</div>
<div class="line"><span class="lineno"> 1650</span>      <a class="code hl_typedef" href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a> primary_id = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#a909967cc554c464a58a89a83437ac760">getBoundaryID</a>(cpair.first);</div>
<div class="line"><span class="lineno"> 1651</span>      <a class="code hl_typedef" href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a> secondary_id = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#a909967cc554c464a58a89a83437ac760">getBoundaryID</a>(cpair.second);</div>
<div class="line"><span class="lineno"> 1652</span>      <a class="code hl_typedef" href="structDM__Moose.html#aa80a618f7e7a40fe9466401bf732d8ff">DM_Moose::ContactID</a> cid(primary_id, secondary_id);</div>
<div class="line"><span class="lineno"> 1653</span>      dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>-&gt;insert(std::make_pair(cid, cpair));</div>
<div class="line"><span class="lineno"> 1654</span>    }</div>
<div class="line"><span class="lineno"> 1655</span>  }</div>
<div class="line"><span class="lineno"> 1656</span> </div>
<div class="line"><span class="lineno"> 1657</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a616bee6dd2708606a52763714df276de">_nouncontacts</a> = PETSC_TRUE;</div>
<div class="line"><span class="lineno"> 1658</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a>)</div>
<div class="line"><span class="lineno"> 1659</span>  {</div>
<div class="line"><span class="lineno"> 1660</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a616bee6dd2708606a52763714df276de">_nouncontacts</a> = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 1661</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; cpair : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e9f8c458c2ea80e1c0e8eaf3e2f979b">_uncontacts</a>))</div>
<div class="line"><span class="lineno"> 1662</span>    {</div>
<div class="line"><span class="lineno"> 1663</span>      <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno"> 1664</span>      {</div>
<div class="line"><span class="lineno"> 1665</span>        <span class="keywordflow">if</span> ((*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a>)[cpair])</div>
<div class="line"><span class="lineno"> 1666</span>          dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a5abab421d4d44867d8fe32d8864f68bd">getDisplacedProblem</a>()-&gt;geomSearchData().getPenetrationLocator(</div>
<div class="line"><span class="lineno"> 1667</span>              cpair.first, cpair.second);</div>
<div class="line"><span class="lineno"> 1668</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1669</span>          dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_variable" href="classNonlinearSystemBase.html#a6e59acdf55439b22d290b4a0e54e0bfd">_fe_problem</a>.<a class="code hl_function" href="classFEProblemBase.html#a6594bc2a311210e038cabb57de287784">geomSearchData</a>().<a class="code hl_function" href="classGeometricSearchData.html#a9f0926bb18a06f1a4963ae66cd4961dc">getPenetrationLocator</a>(cpair.first, cpair.second);</div>
<div class="line"><span class="lineno"> 1670</span>      }</div>
<div class="line"><span class="lineno"> 1671</span>      <span class="keywordflow">catch</span> (...)</div>
<div class="line"><span class="lineno"> 1672</span>      {</div>
<div class="line"><span class="lineno"> 1673</span>        std::ostringstream err;</div>
<div class="line"><span class="lineno"> 1674</span>        err &lt;&lt; <span class="stringliteral">&quot;Problem retrieving uncontact for PenetrationLocator with primary &quot;</span> &lt;&lt; cpair.first</div>
<div class="line"><span class="lineno"> 1675</span>            &lt;&lt; <span class="stringliteral">&quot; and secondary &quot;</span> &lt;&lt; cpair.second;</div>
<div class="line"><span class="lineno"> 1676</span>        <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(err.str());</div>
<div class="line"><span class="lineno"> 1677</span>      }</div>
<div class="line"><span class="lineno"> 1678</span>      <a class="code hl_typedef" href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a> primary_id = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#a909967cc554c464a58a89a83437ac760">getBoundaryID</a>(cpair.first);</div>
<div class="line"><span class="lineno"> 1679</span>      <a class="code hl_typedef" href="AutomaticMortarGeneration_8h.html#acdf40e62836d2c708e17f9e204b0f877">BoundaryID</a> secondary_id = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classSystemBase.html#a4a0fa9314a8887c4823c62f8b84e3710">mesh</a>().<a class="code hl_function" href="classMooseMesh.html#a909967cc554c464a58a89a83437ac760">getBoundaryID</a>(cpair.second);</div>
<div class="line"><span class="lineno"> 1680</span>      <a class="code hl_typedef" href="structDM__Moose.html#aa80a618f7e7a40fe9466401bf732d8ff">DM_Moose::ContactID</a> cid(primary_id, secondary_id);</div>
<div class="line"><span class="lineno"> 1681</span>      dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>-&gt;insert(std::make_pair(cid, cpair));</div>
<div class="line"><span class="lineno"> 1682</span>    }</div>
<div class="line"><span class="lineno"> 1683</span>  }</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1686</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a44977af2933b18dc8bfbc104aa93dd39">_var_names</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1687</span>  <span class="comment">// FIXME: would be nice to invert this nested loop structure so we could iterate over the</span></div>
<div class="line"><span class="lineno"> 1688</span>  <span class="comment">// potentially smaller dmm-&gt;vars,</span></div>
<div class="line"><span class="lineno"> 1689</span>  <span class="comment">// but checking against dofmap.variable would still require a linear search, hence, no win.  Would</span></div>
<div class="line"><span class="lineno"> 1690</span>  <span class="comment">// be nice to endow dofmap.variable</span></div>
<div class="line"><span class="lineno"> 1691</span>  <span class="comment">// with a fast search capability.</span></div>
<div class="line"><span class="lineno"> 1692</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v = 0; v &lt; dofmap.n_variables(); ++v)</div>
<div class="line"><span class="lineno"> 1693</span>  {</div>
<div class="line"><span class="lineno"> 1694</span>    std::string vname = dofmap.variable(v).name();</div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>-&gt;size() &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>-&gt;find(vname) == dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>-&gt;end())</div>
<div class="line"><span class="lineno"> 1696</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1697</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a>-&gt;insert(std::pair&lt;std::string, unsigned int&gt;(vname, v));</div>
<div class="line"><span class="lineno"> 1698</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a44977af2933b18dc8bfbc104aa93dd39">_var_names</a>-&gt;insert(std::pair&lt;unsigned int, std::string&gt;(v, vname));</div>
<div class="line"><span class="lineno"> 1699</span>  }</div>
<div class="line"><span class="lineno"> 1700</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a>-&gt;size() == dofmap.n_variables())</div>
<div class="line"><span class="lineno"> 1701</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aaf0046c8fb6176f703b02acb0dabc246">_all_vars</a> = PETSC_TRUE;</div>
<div class="line"><span class="lineno"> 1702</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1703</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aaf0046c8fb6176f703b02acb0dabc246">_all_vars</a> = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 1704</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>)</div>
<div class="line"><span class="lineno"> 1705</span>  {</div>
<div class="line"><span class="lineno"> 1706</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a>;</div>
<div class="line"><span class="lineno"> 1707</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab4e4ba741241e9aacbea5faa33cb8713">_vars</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno"> 1708</span>  }</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1711</span>  dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab2f6f7f5520f773129ccac888187eea0">_block_names</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 1712</span>  std::set&lt;subdomain_id_type&gt; blocks;</div>
<div class="line"><span class="lineno"> 1713</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#abdb51bfc3062d4278c5e9092d0019d43">DMMooseGetMeshBlocks_Private</a>(dm, blocks);</div>
<div class="line"><span class="lineno"> 1714</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1715</span>  <span class="keywordflow">if</span> (blocks.empty())</div>
<div class="line"><span class="lineno"> 1716</span>    SETERRQ(((PetscObject)dm)-&gt;comm, PETSC_ERR_PLIB, <span class="stringliteral">&quot;No mesh blocks found.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; bid : blocks)</div>
<div class="line"><span class="lineno"> 1719</span>  {</div>
<div class="line"><span class="lineno"> 1720</span>    std::string bname = mesh.subdomain_name(bid);</div>
<div class="line"><span class="lineno"> 1721</span>    <span class="keywordflow">if</span> (!bname.length())</div>
<div class="line"><span class="lineno"> 1722</span>    {</div>
<div class="line"><span class="lineno"> 1723</span>      <span class="comment">// Block names are currently implemented for Exodus II meshes</span></div>
<div class="line"><span class="lineno"> 1724</span>      <span class="comment">// only, so we might have to make up our own block names and</span></div>
<div class="line"><span class="lineno"> 1725</span>      <span class="comment">// maintain our own mapping of block ids to names.</span></div>
<div class="line"><span class="lineno"> 1726</span>      std::ostringstream ss;</div>
<div class="line"><span class="lineno"> 1727</span>      ss &lt;&lt; bid;</div>
<div class="line"><span class="lineno"> 1728</span>      bname = ss.str();</div>
<div class="line"><span class="lineno"> 1729</span>    }</div>
<div class="line"><span class="lineno"> 1730</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a68f3b135de165b804184474f338b5e3c">_nosides</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a05caeae59b6095a46489cc8ae26f0a0e">_nocontacts</a>)</div>
<div class="line"><span class="lineno"> 1731</span>    {</div>
<div class="line"><span class="lineno"> 1732</span>      <span class="comment">// If no sides and no contacts have been specified, by default (null or empty dmm-&gt;blocks) all</span></div>
<div class="line"><span class="lineno"> 1733</span>      <span class="comment">// blocks are included in the split Thus, skip this block only if it is explicitly excluded</span></div>
<div class="line"><span class="lineno"> 1734</span>      <span class="comment">// from a nonempty dmm-&gt;blocks.</span></div>
<div class="line"><span class="lineno"> 1735</span>      <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;size() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1736</span>          (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;find(bname) ==</div>
<div class="line"><span class="lineno"> 1737</span>               dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;end() &amp;&amp; <span class="comment">// We should allow users to use subdomain IDs</span></div>
<div class="line"><span class="lineno"> 1738</span>           dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;find(std::to_string(bid)) == dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;end()))</div>
<div class="line"><span class="lineno"> 1739</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1740</span>    }</div>
<div class="line"><span class="lineno"> 1741</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1742</span>    {</div>
<div class="line"><span class="lineno"> 1743</span>      <span class="comment">// If sides or contacts have been specified, only the explicitly-specified blocks (those in</span></div>
<div class="line"><span class="lineno"> 1744</span>      <span class="comment">// dmm-&gt;blocks, if it&#39;s non-null) are in the split. Thus, include this block only if it is</span></div>
<div class="line"><span class="lineno"> 1745</span>      <span class="comment">// explicitly specified in a nonempty dmm-&gt;blocks. Equivalently, skip this block if</span></div>
<div class="line"><span class="lineno"> 1746</span>      <span class="comment">// dmm-&gt;blocks is dmm-&gt;blocks is null or empty or excludes this block.</span></div>
<div class="line"><span class="lineno"> 1747</span>      <span class="keywordflow">if</span> (!dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a> || !dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;size() ||</div>
<div class="line"><span class="lineno"> 1748</span>          (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;find(bname) ==</div>
<div class="line"><span class="lineno"> 1749</span>               dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;end() <span class="comment">// We should allow users to use subdomain IDs</span></div>
<div class="line"><span class="lineno"> 1750</span>           &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;find(std::to_string(bid)) == dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>-&gt;end()))</div>
<div class="line"><span class="lineno"> 1751</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1752</span>    }</div>
<div class="line"><span class="lineno"> 1753</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a>-&gt;insert(std::make_pair(bname, bid));</div>
<div class="line"><span class="lineno"> 1754</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab2f6f7f5520f773129ccac888187eea0">_block_names</a>-&gt;insert(std::make_pair(bid, bname));</div>
<div class="line"><span class="lineno"> 1755</span>  }</div>
<div class="line"><span class="lineno"> 1756</span> </div>
<div class="line"><span class="lineno"> 1757</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a>-&gt;size() == blocks.size())</div>
<div class="line"><span class="lineno"> 1758</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#abc5d370aa0cc5c9bd0a67e9fef498aad">_all_blocks</a> = PETSC_TRUE;</div>
<div class="line"><span class="lineno"> 1759</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1760</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#abc5d370aa0cc5c9bd0a67e9fef498aad">_all_blocks</a> = PETSC_FALSE;</div>
<div class="line"><span class="lineno"> 1761</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>)</div>
<div class="line"><span class="lineno"> 1762</span>  {</div>
<div class="line"><span class="lineno"> 1763</span>    <span class="keyword">delete</span> dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a>;</div>
<div class="line"><span class="lineno"> 1764</span>    dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a9e17b0e2a49aec19519419b018b6128e">_blocks</a> = LIBMESH_PETSC_NULLPTR;</div>
<div class="line"><span class="lineno"> 1765</span>  }</div>
<div class="line"><span class="lineno"> 1766</span> </div>
<div class="line"><span class="lineno"> 1767</span>  std::string name = dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a8d0767a9e557de2334d2eec2d86c252c">_nl</a>-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>().name();</div>
<div class="line"><span class="lineno"> 1768</span>  name += <span class="stringliteral">&quot;_vars&quot;</span>;</div>
<div class="line"><span class="lineno"> 1769</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; vit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a44977af2933b18dc8bfbc104aa93dd39">_var_names</a>))</div>
<div class="line"><span class="lineno"> 1770</span>    name += <span class="stringliteral">&quot;_&quot;</span> + vit.second;</div>
<div class="line"><span class="lineno"> 1771</span> </div>
<div class="line"><span class="lineno"> 1772</span>  name += <span class="stringliteral">&quot;_blocks&quot;</span>;</div>
<div class="line"><span class="lineno"> 1773</span> </div>
<div class="line"><span class="lineno"> 1774</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; bit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ab2f6f7f5520f773129ccac888187eea0">_block_names</a>))</div>
<div class="line"><span class="lineno"> 1775</span>    name += <span class="stringliteral">&quot;_&quot;</span> + bit.second;</div>
<div class="line"><span class="lineno"> 1776</span> </div>
<div class="line"><span class="lineno"> 1777</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1778</span>  {</div>
<div class="line"><span class="lineno"> 1779</span>    name += <span class="stringliteral">&quot;_sides&quot;</span>;</div>
<div class="line"><span class="lineno"> 1780</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; sit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a332c4308f4613615c835f941ed5ebdfb">_side_names</a>))</div>
<div class="line"><span class="lineno"> 1781</span>      name += <span class="stringliteral">&quot;_&quot;</span> + sit.second;</div>
<div class="line"><span class="lineno"> 1782</span>  }</div>
<div class="line"><span class="lineno"> 1783</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1784</span>  {</div>
<div class="line"><span class="lineno"> 1785</span>    name += <span class="stringliteral">&quot;_unsides&quot;</span>;</div>
<div class="line"><span class="lineno"> 1786</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; sit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a6538262bba9a045c97218e46332d366a">_unside_names</a>))</div>
<div class="line"><span class="lineno"> 1787</span>      name += <span class="stringliteral">&quot;_&quot;</span> + sit.second;</div>
<div class="line"><span class="lineno"> 1788</span>  }</div>
<div class="line"><span class="lineno"> 1789</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1790</span>  {</div>
<div class="line"><span class="lineno"> 1791</span>    name += <span class="stringliteral">&quot;_contacts&quot;</span>;</div>
<div class="line"><span class="lineno"> 1792</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; cit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>))</div>
<div class="line"><span class="lineno"> 1793</span>      name += <span class="stringliteral">&quot;_primary_&quot;</span> + cit.second.first + <span class="stringliteral">&quot;_secondary_&quot;</span> + cit.second.second;</div>
<div class="line"><span class="lineno"> 1794</span>  }</div>
<div class="line"><span class="lineno"> 1795</span>  <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1796</span>  {</div>
<div class="line"><span class="lineno"> 1797</span>    name += <span class="stringliteral">&quot;_uncontacts&quot;</span>;</div>
<div class="line"><span class="lineno"> 1798</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; cit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>))</div>
<div class="line"><span class="lineno"> 1799</span>      name += <span class="stringliteral">&quot;_primary_&quot;</span> + cit.second.first + <span class="stringliteral">&quot;_secondary_&quot;</span> + cit.second.second;</div>
<div class="line"><span class="lineno"> 1800</span>  }</div>
<div class="line"><span class="lineno"> 1801</span>  ierr = PetscObjectSetName((PetscObject)dm, name.c_str());</div>
<div class="line"><span class="lineno"> 1802</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1803</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1804</span>}</div>
<div class="ttc" id="aclassGeometricSearchData_html_a9f0926bb18a06f1a4963ae66cd4961dc"><div class="ttname"><a href="classGeometricSearchData.html#a9f0926bb18a06f1a4963ae66cd4961dc">GeometricSearchData::getPenetrationLocator</a></div><div class="ttdeci">PenetrationLocator &amp; getPenetrationLocator(const BoundaryName &amp;primary, const BoundaryName &amp;secondary, Order order=FIRST)</div><div class="ttdef"><b>Definition:</b> <a href="GeometricSearchData_8C_source.html#l00150">GeometricSearchData.C:150</a></div></div>
<div class="ttc" id="aclassMooseMesh_html_a909967cc554c464a58a89a83437ac760"><div class="ttname"><a href="classMooseMesh.html#a909967cc554c464a58a89a83437ac760">MooseMesh::getBoundaryID</a></div><div class="ttdeci">BoundaryID getBoundaryID(const BoundaryName &amp;boundary_name) const</div><div class="ttdoc">Get the associated BoundaryID for the boundary name.</div><div class="ttdef"><b>Definition:</b> <a href="MooseMesh_8C_source.html#l01464">MooseMesh.C:1464</a></div></div>
<div class="ttc" id="astructDM__Moose_html_aa80a618f7e7a40fe9466401bf732d8ff"><div class="ttname"><a href="structDM__Moose.html#aa80a618f7e7a40fe9466401bf732d8ff">DM_Moose::ContactID</a></div><div class="ttdeci">std::pair&lt; BoundaryID, BoundaryID &gt; ContactID</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l00055">PetscDMMoose.C:55</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01921">DMSetFromOptions_Moose()</a>.</p>

</div>
</div>
<a id="a2f578ab0fd2f47345658909f5f061bd1" name="a2f578ab0fd2f47345658909f5f061bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f578ab0fd2f47345658909f5f061bd1">&#9670;&#160;</a></span>DMVariableBounds_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMVariableBounds_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>xl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>xu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01252">1252</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1253</span>{</div>
<div class="line"><span class="lineno"> 1254</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1255</span>  <a class="code hl_class" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> * nl = NULL;</div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1258</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#ae9a1af9e8b9cfb87be97c1670af50155">DMMooseGetNonlinearSystem</a>(dm, nl);</div>
<div class="line"><span class="lineno"> 1259</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>  PetscVector&lt;Number&gt; XL(xl, nl-&gt;comm());</div>
<div class="line"><span class="lineno"> 1262</span>  PetscVector&lt;Number&gt; XU(xu, nl-&gt;comm());</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>  ierr = VecSet(xl, PETSC_NINFINITY);</div>
<div class="line"><span class="lineno"> 1265</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1266</span>  ierr = VecSet(xu, PETSC_INFINITY);</div>
<div class="line"><span class="lineno"> 1267</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1268</span>  <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;bounds != NULL)</div>
<div class="line"><span class="lineno"> 1269</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;bounds(XL, XU, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1270</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;bounds_object != NULL)</div>
<div class="line"><span class="lineno"> 1271</span>    nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;bounds_object-&gt;bounds(XL, XU, nl-&gt;<a class="code hl_function" href="classNonlinearSystemBase.html#a3c0de7457a42f5ed6463c5423aa726ac">nonlinearSolver</a>()-&gt;system());</div>
<div class="line"><span class="lineno"> 1272</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1273</span>    SETERRQ(</div>
<div class="line"><span class="lineno"> 1274</span>        ((PetscObject)dm)-&gt;comm, PETSC_ERR_ARG_WRONG, <span class="stringliteral">&quot;No bounds calculation in this Moose object&quot;</span>);</div>
<div class="line"><span class="lineno"> 1275</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1276</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01842">DMSetUp_Moose()</a>.</p>

</div>
</div>
<a id="a2f19e1e068fef636f9c11f6a769c175b" name="a2f19e1e068fef636f9c11f6a769c175b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f19e1e068fef636f9c11f6a769c175b">&#9670;&#160;</a></span>DMView_Moose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode DMView_Moose </td>
          <td>(</td>
          <td class="paramtype">DM&#160;</td>
          <td class="paramname"><em>dm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscViewer&#160;</td>
          <td class="paramname"><em>viewer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01406">1406</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1407</span>{</div>
<div class="line"><span class="lineno"> 1408</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1409</span>  PetscBool isascii;</div>
<div class="line"><span class="lineno"> 1410</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *name, *prefix;</div>
<div class="line"><span class="lineno"> 1411</span>  <a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> * dmm = (<a class="code hl_struct" href="structDM__Moose.html">DM_Moose</a> *)dm-&gt;data;</div>
<div class="line"><span class="lineno"> 1412</span> </div>
<div class="line"><span class="lineno"> 1413</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1414</span>  ierr = PetscObjectTypeCompare((PetscObject)viewer, PETSCVIEWERASCII, &amp;isascii);</div>
<div class="line"><span class="lineno"> 1415</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1416</span>  <span class="keywordflow">if</span> (isascii)</div>
<div class="line"><span class="lineno"> 1417</span>  {</div>
<div class="line"><span class="lineno"> 1418</span>    ierr = PetscObjectGetName((PetscObject)dm, &amp;name);</div>
<div class="line"><span class="lineno"> 1419</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1420</span>    ierr = PetscObjectGetOptionsPrefix((PetscObject)dm, &amp;prefix);</div>
<div class="line"><span class="lineno"> 1421</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1422</span>    ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;DM Moose with name %s and prefix %s\n&quot;</span>, name, prefix);</div>
<div class="line"><span class="lineno"> 1423</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1424</span>    ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;variables:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1425</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1426</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; vit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#acb22b1e1bb6429a7af63bc1f2da31e6f">_var_ids</a>))</div>
<div class="line"><span class="lineno"> 1427</span>    {</div>
<div class="line"><span class="lineno"> 1428</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;(%s,%u) &quot;</span>, vit.first.c_str(), vit.second);</div>
<div class="line"><span class="lineno"> 1429</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1430</span>    }</div>
<div class="line"><span class="lineno"> 1431</span>    ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1432</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1433</span>    ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;blocks:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1434</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; bit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#aad48aafaf02df76684c5d7b1f7ba23f7">_block_ids</a>))</div>
<div class="line"><span class="lineno"> 1436</span>    {</div>
<div class="line"><span class="lineno"> 1437</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;(%s,%d) &quot;</span>, bit.first.c_str(), bit.second);</div>
<div class="line"><span class="lineno"> 1438</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1439</span>    }</div>
<div class="line"><span class="lineno"> 1440</span>    ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1441</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1442</span> </div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1444</span>    {</div>
<div class="line"><span class="lineno"> 1445</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;sides:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1446</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1447</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; sit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a3dc580322f05599f746f6f0807b87276">_side_ids</a>))</div>
<div class="line"><span class="lineno"> 1448</span>      {</div>
<div class="line"><span class="lineno"> 1449</span>        ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;(%s,%d) &quot;</span>, sit.first.c_str(), sit.second);</div>
<div class="line"><span class="lineno"> 1450</span>        CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1451</span>      }</div>
<div class="line"><span class="lineno"> 1452</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1453</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1454</span>    }</div>
<div class="line"><span class="lineno"> 1455</span> </div>
<div class="line"><span class="lineno"> 1456</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1457</span>    {</div>
<div class="line"><span class="lineno"> 1458</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;unsides:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1459</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1460</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; sit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a41432422852a15a95f9f7daeac814ec5">_unside_ids</a>))</div>
<div class="line"><span class="lineno"> 1461</span>      {</div>
<div class="line"><span class="lineno"> 1462</span>        ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;(%s,%d) &quot;</span>, sit.first.c_str(), sit.second);</div>
<div class="line"><span class="lineno"> 1463</span>        CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1464</span>      }</div>
<div class="line"><span class="lineno"> 1465</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1466</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1467</span>    }</div>
<div class="line"><span class="lineno"> 1468</span> </div>
<div class="line"><span class="lineno"> 1469</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1470</span>    {</div>
<div class="line"><span class="lineno"> 1471</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;contacts:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1472</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1473</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; cit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae907eda530dc40483d02b548fdd7d8a5">_contact_names</a>))</div>
<div class="line"><span class="lineno"> 1474</span>      {</div>
<div class="line"><span class="lineno"> 1475</span>        ierr = PetscViewerASCIIPrintf(</div>
<div class="line"><span class="lineno"> 1476</span>            viewer, <span class="stringliteral">&quot;(%s,%s,&quot;</span>, cit.second.first.c_str(), cit.second.second.c_str());</div>
<div class="line"><span class="lineno"> 1477</span>        CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1478</span>        <span class="keywordflow">if</span> ((*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ae52274f141f966b72850564a6b089a37">_contact_displaced</a>)[cit.second])</div>
<div class="line"><span class="lineno"> 1479</span>        {</div>
<div class="line"><span class="lineno"> 1480</span>          ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;displaced) &quot;</span>);</div>
<div class="line"><span class="lineno"> 1481</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1482</span>        }</div>
<div class="line"><span class="lineno"> 1483</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1484</span>        {</div>
<div class="line"><span class="lineno"> 1485</span>          ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;undisplaced) &quot;</span>);</div>
<div class="line"><span class="lineno"> 1486</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1487</span>        }</div>
<div class="line"><span class="lineno"> 1488</span>      }</div>
<div class="line"><span class="lineno"> 1489</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1490</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1491</span>    }</div>
<div class="line"><span class="lineno"> 1492</span> </div>
<div class="line"><span class="lineno"> 1493</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1494</span>    {</div>
<div class="line"><span class="lineno"> 1495</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;_uncontacts:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1496</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1497</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; cit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a7199795b815e74b6811f8814fca44fdd">_uncontact_names</a>))</div>
<div class="line"><span class="lineno"> 1498</span>      {</div>
<div class="line"><span class="lineno"> 1499</span>        ierr = PetscViewerASCIIPrintf(</div>
<div class="line"><span class="lineno"> 1500</span>            viewer, <span class="stringliteral">&quot;(%s,%s,&quot;</span>, cit.second.first.c_str(), cit.second.second.c_str());</div>
<div class="line"><span class="lineno"> 1501</span>        CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1502</span>        <span class="keywordflow">if</span> ((*dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#ac057ad8c740f6f90c334a8495a8fc7ff">_uncontact_displaced</a>)[cit.second])</div>
<div class="line"><span class="lineno"> 1503</span>        {</div>
<div class="line"><span class="lineno"> 1504</span>          ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;displaced) &quot;</span>);</div>
<div class="line"><span class="lineno"> 1505</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1506</span>        }</div>
<div class="line"><span class="lineno"> 1507</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1508</span>        {</div>
<div class="line"><span class="lineno"> 1509</span>          ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;undisplaced) &quot;</span>);</div>
<div class="line"><span class="lineno"> 1510</span>          CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1511</span>        }</div>
<div class="line"><span class="lineno"> 1512</span>      }</div>
<div class="line"><span class="lineno"> 1513</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1514</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1515</span>    }</div>
<div class="line"><span class="lineno"> 1516</span> </div>
<div class="line"><span class="lineno"> 1517</span>    <span class="keywordflow">if</span> (dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a> &amp;&amp; dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>-&gt;size())</div>
<div class="line"><span class="lineno"> 1518</span>    {</div>
<div class="line"><span class="lineno"> 1519</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;Field decomposition:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1520</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1521</span>      <span class="comment">// FIX: decompositions might have different sizes and components on different ranks.</span></div>
<div class="line"><span class="lineno"> 1522</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dit : *(dmm-&gt;<a class="code hl_variable" href="structDM__Moose.html#a2e86a3ab685161731f2dd6371b285a40">_splitlocs</a>))</div>
<div class="line"><span class="lineno"> 1523</span>      {</div>
<div class="line"><span class="lineno"> 1524</span>        std::string dname = dit.first;</div>
<div class="line"><span class="lineno"> 1525</span>        ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot; %s&quot;</span>, dname.c_str());</div>
<div class="line"><span class="lineno"> 1526</span>        CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1527</span>      }</div>
<div class="line"><span class="lineno"> 1528</span>      ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1529</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1530</span>    }</div>
<div class="line"><span class="lineno"> 1531</span>  }</div>
<div class="line"><span class="lineno"> 1532</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1533</span>    SETERRQ(PETSC_COMM_SELF, PETSC_ERR_SUP, <span class="stringliteral">&quot;Non-ASCII viewers are not supported&quot;</span>);</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1536</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l02353">DMCreate_Moose()</a>.</p>

</div>
</div>
<a id="a44cd3b845b456208b941920ad6fc4658" name="a44cd3b845b456208b941920ad6fc4658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44cd3b845b456208b941920ad6fc4658">&#9670;&#160;</a></span>SNESFunction_DMMoose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode SNESFunction_DMMoose </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01140">1140</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1141</span>{</div>
<div class="line"><span class="lineno"> 1142</span>  DM dm = (DM)ctx;</div>
<div class="line"><span class="lineno"> 1143</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1146</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a1e7aa9aae99e3fccbf2075723da00d73">DMMooseFunction</a>(dm, x, r);</div>
<div class="line"><span class="lineno"> 1147</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1148</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1149</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_a1e7aa9aae99e3fccbf2075723da00d73"><div class="ttname"><a href="PetscDMMoose_8C.html#a1e7aa9aae99e3fccbf2075723da00d73">DMMooseFunction</a></div><div class="ttdeci">static PetscErrorCode DMMooseFunction(DM dm, Vec x, Vec r)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01066">PetscDMMoose.C:1066</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01842">DMSetUp_Moose()</a>.</p>

</div>
</div>
<a id="a31871a488f32853e9f81e06ea08f4eb9" name="a31871a488f32853e9f81e06ea08f4eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31871a488f32853e9f81e06ea08f4eb9">&#9670;&#160;</a></span>SNESJacobian_DMMoose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PetscErrorCode SNESJacobian_DMMoose </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>jac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l01238">1238</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1239</span>{</div>
<div class="line"><span class="lineno"> 1240</span>  DM dm = (DM)ctx;</div>
<div class="line"><span class="lineno"> 1241</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1242</span> </div>
<div class="line"><span class="lineno"> 1243</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1244</span>  ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#ac07314ff5337943c2adcabc875686229">DMMooseJacobian</a>(dm, x, jac, pc);</div>
<div class="line"><span class="lineno"> 1245</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1246</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1247</span>}</div>
<div class="ttc" id="aPetscDMMoose_8C_html_ac07314ff5337943c2adcabc875686229"><div class="ttname"><a href="PetscDMMoose_8C.html#ac07314ff5337943c2adcabc875686229">DMMooseJacobian</a></div><div class="ttdeci">static PetscErrorCode DMMooseJacobian(DM dm, Vec x, Mat jac, Mat pc)</div><div class="ttdef"><b>Definition:</b> <a href="PetscDMMoose_8C_source.html#l01154">PetscDMMoose.C:1154</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="PetscDMMoose_8C_source.html#l01842">DMSetUp_Moose()</a>.</p>

</div>
</div>
<a id="a2c75150b1bc5b2bb043c6f1e71688bee" name="a2c75150b1bc5b2bb043c6f1e71688bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c75150b1bc5b2bb043c6f1e71688bee">&#9670;&#160;</a></span>SNESUpdateDMMoose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode SNESUpdateDMMoose </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname"><em>snes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname"><em>iteration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PetscDMMoose_8C_source.html#l02415">2415</a> of file <a class="el" href="PetscDMMoose_8C_source.html">PetscDMMoose.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2416</span>{</div>
<div class="line"><span class="lineno"> 2417</span>  <span class="comment">/* This is called any time the structure of the problem changes in a way that affects the Jacobian</span></div>
<div class="line"><span class="lineno"> 2418</span><span class="comment">     sparsity pattern.</span></div>
<div class="line"><span class="lineno"> 2419</span><span class="comment">     For example, this may happen when NodeFaceConstraints change Jacobian&#39;s sparsity pattern based</span></div>
<div class="line"><span class="lineno"> 2420</span><span class="comment">     on newly-detected Penetration.</span></div>
<div class="line"><span class="lineno"> 2421</span><span class="comment">     In that case certain preconditioners (e.g., PCASM) will not work, unless we tell them that the</span></div>
<div class="line"><span class="lineno"> 2422</span><span class="comment">     sparsity pattern has changed.</span></div>
<div class="line"><span class="lineno"> 2423</span><span class="comment">     For now we are rebuilding the whole KSP, when necessary.</span></div>
<div class="line"><span class="lineno"> 2424</span><span class="comment">  */</span></div>
<div class="line"><span class="lineno"> 2425</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 2426</span>  DM dm;</div>
<div class="line"><span class="lineno"> 2427</span>  KSP ksp;</div>
<div class="line"><span class="lineno"> 2428</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> * prefix;</div>
<div class="line"><span class="lineno"> 2429</span>  MPI_Comm comm;</div>
<div class="line"><span class="lineno"> 2430</span>  PC pc;</div>
<div class="line"><span class="lineno"> 2431</span> </div>
<div class="line"><span class="lineno"> 2432</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 2433</span>  <span class="keywordflow">if</span> (iteration)</div>
<div class="line"><span class="lineno"> 2434</span>  {</div>
<div class="line"><span class="lineno"> 2435</span>    <span class="comment">/* TODO: limit this only to situations when displaced (un)contact splits are present, as is</span></div>
<div class="line"><span class="lineno"> 2436</span><span class="comment">     * DisplacedProblem(). */</span></div>
<div class="line"><span class="lineno"> 2437</span>    ierr = SNESGetDM(snes, &amp;dm);</div>
<div class="line"><span class="lineno"> 2438</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2439</span>    ierr = <a class="code hl_function" href="PetscDMMoose_8C.html#a7ac53e8e6c481d83e861471c90341fa6">DMMooseReset</a>(dm);</div>
<div class="line"><span class="lineno"> 2440</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2441</span>    ierr = DMSetUp(dm);</div>
<div class="line"><span class="lineno"> 2442</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2443</span>    ierr = SNESGetKSP(snes, &amp;ksp);</div>
<div class="line"><span class="lineno"> 2444</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2445</span>    <span class="comment">/* Should we rebuild the whole KSP? */</span></div>
<div class="line"><span class="lineno"> 2446</span>    ierr = PetscObjectGetOptionsPrefix((PetscObject)ksp, &amp;prefix);</div>
<div class="line"><span class="lineno"> 2447</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2448</span>    ierr = PetscObjectGetComm((PetscObject)ksp, &amp;comm);</div>
<div class="line"><span class="lineno"> 2449</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2450</span>    ierr = PCCreate(comm, &amp;pc);</div>
<div class="line"><span class="lineno"> 2451</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2452</span>    ierr = PCSetDM(pc, dm);</div>
<div class="line"><span class="lineno"> 2453</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2454</span>    ierr = PCSetOptionsPrefix(pc, prefix);</div>
<div class="line"><span class="lineno"> 2455</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2456</span>    ierr = PCSetFromOptions(pc);</div>
<div class="line"><span class="lineno"> 2457</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2458</span>    ierr = KSPSetPC(ksp, pc);</div>
<div class="line"><span class="lineno"> 2459</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2460</span>    ierr = PCDestroy(&amp;pc);</div>
<div class="line"><span class="lineno"> 2461</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 2462</span>  }</div>
<div class="line"><span class="lineno"> 2463</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 2464</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 24 2023 00:18:45 for Zapdos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
