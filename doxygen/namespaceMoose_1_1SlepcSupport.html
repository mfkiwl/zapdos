<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zapdos: Moose::SlepcSupport Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
    <a href="https://shannon-lab.github.io/zapdos" style="text-decoration:none"><div id="projectname">Zapdos</div></a><div id="projectname">
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceMoose.html">Moose</a></li><li class="navelem"><a class="el" href="namespaceMoose_1_1SlepcSupport.html">SlepcSupport</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Moose::SlepcSupport Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a77dab30fcf579f4247d683062876a874"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInputParameters.html">InputParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a77dab30fcf579f4247d683062876a874">getSlepcValidParams</a> (<a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="separator:a77dab30fcf579f4247d683062876a874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a565265f2a93b30757f1b8ec93b1e70db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInputParameters.html">InputParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a565265f2a93b30757f1b8ec93b1e70db">getSlepcEigenProblemValidParams</a> ()</td></tr>
<tr class="memdesc:a565265f2a93b30757f1b8ec93b1e70db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve valid params that allow users to specify eigen problem configuration.  <a href="namespaceMoose_1_1SlepcSupport.html#a565265f2a93b30757f1b8ec93b1e70db">More...</a><br /></td></tr>
<tr class="separator:a565265f2a93b30757f1b8ec93b1e70db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45932259e4fa6b3743fbae36bbc79c4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a45932259e4fa6b3743fbae36bbc79c4b">setSlepcEigenSolverTolerances</a> (<a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;eigen_problem, const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="memdesc:a45932259e4fa6b3743fbae36bbc79c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classControl.html" title="Base class for Control objects.">Control</a> eigen solver tolerances via SLEPc options.  <a href="namespaceMoose_1_1SlepcSupport.html#a45932259e4fa6b3743fbae36bbc79c4b">More...</a><br /></td></tr>
<tr class="separator:a45932259e4fa6b3743fbae36bbc79c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a836ee996de0517eef4005372defe42c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a836ee996de0517eef4005372defe42c9">setEigenProblemSolverParams</a> (<a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;eigen_problem, const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="memdesc:a836ee996de0517eef4005372defe42c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve eigen problem params from 'params', and then set these params into <a class="el" href="classSolverParams.html">SolverParams</a>.  <a href="namespaceMoose_1_1SlepcSupport.html#a836ee996de0517eef4005372defe42c9">More...</a><br /></td></tr>
<tr class="separator:a836ee996de0517eef4005372defe42c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bde779e82915e25d777d8537be4829"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a93bde779e82915e25d777d8537be4829">storeSolveType</a> (<a class="el" href="classFEProblemBase.html">FEProblemBase</a> &amp;fe_problem, const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="memdesc:a93bde779e82915e25d777d8537be4829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set solve type into eigen problem (solverParams)  <a href="namespaceMoose_1_1SlepcSupport.html#a93bde779e82915e25d777d8537be4829">More...</a><br /></td></tr>
<tr class="separator:a93bde779e82915e25d777d8537be4829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3931a9791deaf1bb448dd8e6605034e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a3931a9791deaf1bb448dd8e6605034e9">setEigenProblemOptions</a> (<a class="el" href="classSolverParams.html">SolverParams</a> &amp;solver_params)</td></tr>
<tr class="separator:a3931a9791deaf1bb448dd8e6605034e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4293e980cf090c58d6b18714517003"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a6f4293e980cf090c58d6b18714517003">setWhichEigenPairsOptions</a> (<a class="el" href="classSolverParams.html">SolverParams</a> &amp;solver_params)</td></tr>
<tr class="separator:a6f4293e980cf090c58d6b18714517003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e654a18ee663fb7ed79a3f5c2c5187e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a0e654a18ee663fb7ed79a3f5c2c5187e">setFreeNonlinearPowerIterations</a> (unsigned int free_power_iterations)</td></tr>
<tr class="memdesc:a0e654a18ee663fb7ed79a3f5c2c5187e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set SLEPc/PETSc options to trigger free power iteration.  <a href="namespaceMoose_1_1SlepcSupport.html#a0e654a18ee663fb7ed79a3f5c2c5187e">More...</a><br /></td></tr>
<tr class="separator:a0e654a18ee663fb7ed79a3f5c2c5187e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15897fc77e82c7b2ba75c099221871c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#ae15897fc77e82c7b2ba75c099221871c">clearFreeNonlinearPowerIterations</a> (const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="separator:ae15897fc77e82c7b2ba75c099221871c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f78b94548377ece4e9fe094b4a95b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a67f78b94548377ece4e9fe094b4a95b2">setNewtonPetscOptions</a> (<a class="el" href="classSolverParams.html">SolverParams</a> &amp;solver_params, const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="separator:a67f78b94548377ece4e9fe094b4a95b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf17db32bac7945fdead0f153a5027ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#adf17db32bac7945fdead0f153a5027ab">setNonlinearPowerOptions</a> (<a class="el" href="classSolverParams.html">SolverParams</a> &amp;solver_params)</td></tr>
<tr class="separator:adf17db32bac7945fdead0f153a5027ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4317c7b2ca830dc508a9197722c3375"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#ab4317c7b2ca830dc508a9197722c3375">setEigenSolverOptions</a> (<a class="el" href="classSolverParams.html">SolverParams</a> &amp;solver_params, const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="separator:ab4317c7b2ca830dc508a9197722c3375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cc71554f2c90df07bf2bf698b6459c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#ac1cc71554f2c90df07bf2bf698b6459c">slepcSetOptions</a> (<a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;eigen_problem, const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;params)</td></tr>
<tr class="memdesc:ac1cc71554f2c90df07bf2bf698b6459c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push all SLEPc/PETSc options into SLEPc/PETSc side.  <a href="namespaceMoose_1_1SlepcSupport.html#ac1cc71554f2c90df07bf2bf698b6459c">More...</a><br /></td></tr>
<tr class="separator:ac1cc71554f2c90df07bf2bf698b6459c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8babbe78db368a67aa447c97f741d937"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a8babbe78db368a67aa447c97f741d937">mooseEPSFormMatrices</a> (<a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;eigen_problem, EPS eps, Vec x, void *ctx)</td></tr>
<tr class="separator:a8babbe78db368a67aa447c97f741d937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7267ef8bd60f9de3767e7ee2b1f38eb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a7267ef8bd60f9de3767e7ee2b1f38eb8">moosePetscSNESFormMatrixTag</a> (SNES snes, Vec x, Mat mat, void *ctx, <a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a> tag)</td></tr>
<tr class="memdesc:a7267ef8bd60f9de3767e7ee2b1f38eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Form matrix according to tag.  <a href="namespaceMoose_1_1SlepcSupport.html#a7267ef8bd60f9de3767e7ee2b1f38eb8">More...</a><br /></td></tr>
<tr class="separator:a7267ef8bd60f9de3767e7ee2b1f38eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7289fef0e733bb189ac776a21c2d3457"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a7289fef0e733bb189ac776a21c2d3457">moosePetscSNESFormMatricesTags</a> (SNES snes, Vec x, std::vector&lt; Mat &gt; &amp;mats, void *ctx, const std::set&lt; <a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a> &gt; &amp;tags)</td></tr>
<tr class="memdesc:a7289fef0e733bb189ac776a21c2d3457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Form multiple matrices for multiple tags.  <a href="namespaceMoose_1_1SlepcSupport.html#a7289fef0e733bb189ac776a21c2d3457">More...</a><br /></td></tr>
<tr class="separator:a7289fef0e733bb189ac776a21c2d3457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18698bed9328357aa445c6d7e0c79cef"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a18698bed9328357aa445c6d7e0c79cef">mooseSlepcEigenFormFunctionMFFD</a> (void *ctx, Vec x, Vec r)</td></tr>
<tr class="memdesc:a18698bed9328357aa445c6d7e0c79cef"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classFunction.html" title="Base class for function objects.">Function</a> call for MFFD.  <a href="namespaceMoose_1_1SlepcSupport.html#a18698bed9328357aa445c6d7e0c79cef">More...</a><br /></td></tr>
<tr class="separator:a18698bed9328357aa445c6d7e0c79cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f21d4ae12687752631037c7e3970cd"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a88f21d4ae12687752631037c7e3970cd">mooseSlepcEigenFormJacobianA</a> (SNES snes, Vec x, Mat jac, Mat pc, void *ctx)</td></tr>
<tr class="memdesc:a88f21d4ae12687752631037c7e3970cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Form Jacobian matrix A.  <a href="namespaceMoose_1_1SlepcSupport.html#a88f21d4ae12687752631037c7e3970cd">More...</a><br /></td></tr>
<tr class="separator:a88f21d4ae12687752631037c7e3970cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbab1d6064a84a1624c4a0dd27cf8cf8"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#afbab1d6064a84a1624c4a0dd27cf8cf8">mooseSlepcEigenFormJacobianB</a> (SNES snes, Vec x, Mat jac, Mat pc, void *ctx)</td></tr>
<tr class="memdesc:afbab1d6064a84a1624c4a0dd27cf8cf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Form Jacobian matrix B.  <a href="namespaceMoose_1_1SlepcSupport.html#afbab1d6064a84a1624c4a0dd27cf8cf8">More...</a><br /></td></tr>
<tr class="separator:afbab1d6064a84a1624c4a0dd27cf8cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0a80cb056772216d5dd58ed23a23d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a2a0a80cb056772216d5dd58ed23a23d6">moosePetscSNESFormFunction</a> (SNES, Vec x, Vec r, void *ctx, <a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a> tag)</td></tr>
<tr class="separator:a2a0a80cb056772216d5dd58ed23a23d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87b715283666c6168109e3a89d8b450"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#ac87b715283666c6168109e3a89d8b450">mooseSlepcEigenFormFunctionA</a> (SNES snes, Vec x, Vec r, void *ctx)</td></tr>
<tr class="memdesc:ac87b715283666c6168109e3a89d8b450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Form function residual Ax.  <a href="namespaceMoose_1_1SlepcSupport.html#ac87b715283666c6168109e3a89d8b450">More...</a><br /></td></tr>
<tr class="separator:ac87b715283666c6168109e3a89d8b450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496d602f62f20757f339fc7ad32e1e02"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a496d602f62f20757f339fc7ad32e1e02">mooseSlepcEigenFormFunctionB</a> (SNES snes, Vec x, Vec r, void *ctx)</td></tr>
<tr class="memdesc:a496d602f62f20757f339fc7ad32e1e02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Form function residual Bx.  <a href="namespaceMoose_1_1SlepcSupport.html#a496d602f62f20757f339fc7ad32e1e02">More...</a><br /></td></tr>
<tr class="separator:a496d602f62f20757f339fc7ad32e1e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c100c851681cba24ef98335db4e778"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a49c100c851681cba24ef98335db4e778">mooseSlepcEigenFormFunctionAB</a> (SNES snes, Vec x, Vec Ax, Vec Bx, void *ctx)</td></tr>
<tr class="memdesc:a49c100c851681cba24ef98335db4e778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Form function residual Ax-Bx.  <a href="namespaceMoose_1_1SlepcSupport.html#a49c100c851681cba24ef98335db4e778">More...</a><br /></td></tr>
<tr class="separator:a49c100c851681cba24ef98335db4e778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2397640f11726515d65303cb052329c5"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a2397640f11726515d65303cb052329c5">mooseSlepcEigenFormNorm</a> (SNES, Vec, PetscReal *norm, void *ctx)</td></tr>
<tr class="separator:a2397640f11726515d65303cb052329c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac661f9240af76751aebdd0eeba26176d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#ac661f9240af76751aebdd0eeba26176d">attachCallbacksToMat</a> (<a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;eigen_problem, Mat mat, bool eigen)</td></tr>
<tr class="memdesc:ac661f9240af76751aebdd0eeba26176d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach call backs to mat.  <a href="namespaceMoose_1_1SlepcSupport.html#ac661f9240af76751aebdd0eeba26176d">More...</a><br /></td></tr>
<tr class="separator:ac661f9240af76751aebdd0eeba26176d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d418796a14c1f0b08ff573a49691aca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a6d418796a14c1f0b08ff573a49691aca">mooseMatMult</a> (<a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;eigen_problem, Vec x, Vec r, <a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a> tag)</td></tr>
<tr class="separator:a6d418796a14c1f0b08ff573a49691aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5e6151f814e7f94ea78ca327352833"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#aab5e6151f814e7f94ea78ca327352833">mooseMatMult_Eigen</a> (Mat mat, Vec x, Vec y)</td></tr>
<tr class="memdesc:aab5e6151f814e7f94ea78ca327352833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement MatMult via function evaluation for Bx.  <a href="namespaceMoose_1_1SlepcSupport.html#aab5e6151f814e7f94ea78ca327352833">More...</a><br /></td></tr>
<tr class="separator:aab5e6151f814e7f94ea78ca327352833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670b9090efdae073000d589c78cd393a"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a670b9090efdae073000d589c78cd393a">mooseMatMult_NonEigen</a> (Mat mat, Vec x, Vec y)</td></tr>
<tr class="memdesc:a670b9090efdae073000d589c78cd393a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement MatMult via function evaluation for Ax.  <a href="namespaceMoose_1_1SlepcSupport.html#a670b9090efdae073000d589c78cd393a">More...</a><br /></td></tr>
<tr class="separator:a670b9090efdae073000d589c78cd393a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b16a22693257ed41670fda7d55922bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a4b16a22693257ed41670fda7d55922bd">setOperationsForShellMat</a> (<a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;eigen_problem, Mat mat, bool eigen)</td></tr>
<tr class="memdesc:a4b16a22693257ed41670fda7d55922bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set operations to shell mat.  <a href="namespaceMoose_1_1SlepcSupport.html#a4b16a22693257ed41670fda7d55922bd">More...</a><br /></td></tr>
<tr class="separator:a4b16a22693257ed41670fda7d55922bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b01817a8e62f23eac2a55dd404e2f1"><td class="memItemLeft" align="right" valign="top">PETSC_EXTERN PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a09b01817a8e62f23eac2a55dd404e2f1">registerPCToPETSc</a> ()</td></tr>
<tr class="memdesc:a09b01817a8e62f23eac2a55dd404e2f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let PETSc know there is a preconditioner.  <a href="namespaceMoose_1_1SlepcSupport.html#a09b01817a8e62f23eac2a55dd404e2f1">More...</a><br /></td></tr>
<tr class="separator:a09b01817a8e62f23eac2a55dd404e2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205a324047cd9aa322c7323ad9e98e1e"><td class="memItemLeft" align="right" valign="top">PETSC_EXTERN PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a205a324047cd9aa322c7323ad9e98e1e">PCCreate_MoosePC</a> (PC pc)</td></tr>
<tr class="memdesc:a205a324047cd9aa322c7323ad9e98e1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a preconditioner from moose side.  <a href="namespaceMoose_1_1SlepcSupport.html#a205a324047cd9aa322c7323ad9e98e1e">More...</a><br /></td></tr>
<tr class="separator:a205a324047cd9aa322c7323ad9e98e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa563795792b6507a2e686ba0bd44b9cb"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#aa563795792b6507a2e686ba0bd44b9cb">PCDestroy_MoosePC</a> (PC pc)</td></tr>
<tr class="memdesc:aa563795792b6507a2e686ba0bd44b9cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy preconditioner.  <a href="namespaceMoose_1_1SlepcSupport.html#aa563795792b6507a2e686ba0bd44b9cb">More...</a><br /></td></tr>
<tr class="separator:aa563795792b6507a2e686ba0bd44b9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2dd81ed648af620a53fec104dab5059"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#ad2dd81ed648af620a53fec104dab5059">PCView_MoosePC</a> (PC pc, PetscViewer viewer)</td></tr>
<tr class="memdesc:ad2dd81ed648af620a53fec104dab5059"><td class="mdescLeft">&#160;</td><td class="mdescRight">View preconditioner.  <a href="namespaceMoose_1_1SlepcSupport.html#ad2dd81ed648af620a53fec104dab5059">More...</a><br /></td></tr>
<tr class="separator:ad2dd81ed648af620a53fec104dab5059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd46c1a2fdf76043603f4cc82c516316"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#acd46c1a2fdf76043603f4cc82c516316">PCApply_MoosePC</a> (PC pc, Vec x, Vec y)</td></tr>
<tr class="memdesc:acd46c1a2fdf76043603f4cc82c516316"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preconditioner application.  <a href="namespaceMoose_1_1SlepcSupport.html#acd46c1a2fdf76043603f4cc82c516316">More...</a><br /></td></tr>
<tr class="separator:acd46c1a2fdf76043603f4cc82c516316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131b4bdbb9e88bc8551518a59607204d"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a131b4bdbb9e88bc8551518a59607204d">PCSetUp_MoosePC</a> (PC pc)</td></tr>
<tr class="memdesc:a131b4bdbb9e88bc8551518a59607204d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup preconditioner.  <a href="namespaceMoose_1_1SlepcSupport.html#a131b4bdbb9e88bc8551518a59607204d">More...</a><br /></td></tr>
<tr class="separator:a131b4bdbb9e88bc8551518a59607204d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bf5cebb4dc719808005ef949101a35"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#af7bf5cebb4dc719808005ef949101a35">mooseSlepcStoppingTest</a> (EPS eps, PetscInt its, PetscInt max_it, PetscInt nconv, PetscInt nev, EPSConvergedReason *reason, void *ctx)</td></tr>
<tr class="memdesc:af7bf5cebb4dc719808005ef949101a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">A customized convergence checker.  <a href="namespaceMoose_1_1SlepcSupport.html#af7bf5cebb4dc719808005ef949101a35">More...</a><br /></td></tr>
<tr class="separator:af7bf5cebb4dc719808005ef949101a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cbfa7c48773b31e7f9036d46cf83012"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a2cbfa7c48773b31e7f9036d46cf83012">mooseSlepcEPSGetSNES</a> (EPS eps, SNES *snes)</td></tr>
<tr class="memdesc:a2cbfa7c48773b31e7f9036d46cf83012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve SNES from EPS.  <a href="namespaceMoose_1_1SlepcSupport.html#a2cbfa7c48773b31e7f9036d46cf83012">More...</a><br /></td></tr>
<tr class="separator:a2cbfa7c48773b31e7f9036d46cf83012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a7a330946a3527d81fba6355e62655"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a89a7a330946a3527d81fba6355e62655">mooseSlepcEPSSNESSetUpOptionPrefix</a> (EPS eps)</td></tr>
<tr class="memdesc:a89a7a330946a3527d81fba6355e62655"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get rid of prefix "-eps_power" for SNES, KSP, PC, etc.  <a href="namespaceMoose_1_1SlepcSupport.html#a89a7a330946a3527d81fba6355e62655">More...</a><br /></td></tr>
<tr class="separator:a89a7a330946a3527d81fba6355e62655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8c8c2508ebae5249e87f2e4238d901"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a3f8c8c2508ebae5249e87f2e4238d901">mooseSlepcEPSSNESSetCustomizePC</a> (EPS eps)</td></tr>
<tr class="memdesc:a3f8c8c2508ebae5249e87f2e4238d901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a customized PC.  <a href="namespaceMoose_1_1SlepcSupport.html#a3f8c8c2508ebae5249e87f2e4238d901">More...</a><br /></td></tr>
<tr class="separator:a3f8c8c2508ebae5249e87f2e4238d901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb6f0961e036f1e8aa2d056a3c9dbea"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a0eb6f0961e036f1e8aa2d056a3c9dbea">mooseSlepcEPSSNESKSPSetPCSide</a> (<a class="el" href="classFEProblemBase.html">FEProblemBase</a> &amp;problem, EPS eps)</td></tr>
<tr class="memdesc:a0eb6f0961e036f1e8aa2d056a3c9dbea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow users to specify PC side.  <a href="namespaceMoose_1_1SlepcSupport.html#a0eb6f0961e036f1e8aa2d056a3c9dbea">More...</a><br /></td></tr>
<tr class="separator:a0eb6f0961e036f1e8aa2d056a3c9dbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa0b64079c5c363ba26b82df19ea82f"><td class="memItemLeft" align="right" valign="top">PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#aaaa0b64079c5c363ba26b82df19ea82f">mooseSlepcEPSMonitor</a> (EPS eps, PetscInt its, PetscInt nconv, PetscScalar *eigr, PetscScalar *eigi, PetscReal *errest, PetscInt nest, void *mctx)</td></tr>
<tr class="memdesc:aaaa0b64079c5c363ba26b82df19ea82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A customized solver monitor to print out eigenvalue.  <a href="namespaceMoose_1_1SlepcSupport.html#aaaa0b64079c5c363ba26b82df19ea82f">More...</a><br /></td></tr>
<tr class="separator:aaaa0b64079c5c363ba26b82df19ea82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a48b1320c5cbcb6d7b26f5b9c3e568ffd"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMoose_1_1SlepcSupport.html#a48b1320c5cbcb6d7b26f5b9c3e568ffd">subspace_factor</a> = 2</td></tr>
<tr class="separator:a48b1320c5cbcb6d7b26f5b9c3e568ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac661f9240af76751aebdd0eeba26176d" name="ac661f9240af76751aebdd0eeba26176d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac661f9240af76751aebdd0eeba26176d">&#9670;&#160;</a></span>attachCallbacksToMat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::attachCallbacksToMat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>eigen_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>eigen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach call backs to mat. </p>
<p >SLEPc solver will retrieve callbacks we attached here </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00982">982</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  983</span>{</div>
<div class="line"><span class="lineno">  984</span>  <span class="comment">// Recall that we are solving the potentially nonlinear problem:</span></div>
<div class="line"><span class="lineno">  985</span>  <span class="comment">// F(x) = A(x) - \lambda B(x) = 0</span></div>
<div class="line"><span class="lineno">  986</span>  <span class="comment">//</span></div>
<div class="line"><span class="lineno">  987</span>  <span class="comment">// To solve this, we can use Newton&#39;s method: J \Delta x = -F</span></div>
<div class="line"><span class="lineno">  988</span>  <span class="comment">// Generally we will approximate J using matrix free methods. However, in order to solve the</span></div>
<div class="line"><span class="lineno">  989</span>  <span class="comment">// linearized system efficiently, we typically will need preconditioning. Typically we will build</span></div>
<div class="line"><span class="lineno">  990</span>  <span class="comment">// the preconditioner only from A, but we also have the option to include information from B</span></div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>  <span class="comment">// Attach the Jacobian computation function. If \p mat is the &quot;eigen&quot; matrix corresponding to B,</span></div>
<div class="line"><span class="lineno">  993</span>  <span class="comment">// then attach our JacobianB computation routine, else the matrix corresponds to A, and we attach</span></div>
<div class="line"><span class="lineno">  994</span>  <span class="comment">// the JacobianA computation routine</span></div>
<div class="line"><span class="lineno">  995</span>  PetscObjectComposeFunction((PetscObject)mat,</div>
<div class="line"><span class="lineno">  996</span>                             <span class="stringliteral">&quot;formJacobian&quot;</span>,</div>
<div class="line"><span class="lineno">  997</span>                             eigen ? <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#afbab1d6064a84a1624c4a0dd27cf8cf8">Moose::SlepcSupport::mooseSlepcEigenFormJacobianB</a></div>
<div class="line"><span class="lineno">  998</span>                                   : <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a88f21d4ae12687752631037c7e3970cd">Moose::SlepcSupport::mooseSlepcEigenFormJacobianA</a>);</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>  <span class="comment">// Attach the residual computation function. If \p mat is the &quot;eigen&quot; matrix corresponding to B,</span></div>
<div class="line"><span class="lineno"> 1001</span>  <span class="comment">// then attach our FunctionB computation routine, else the matrix corresponds to A, and we attach</span></div>
<div class="line"><span class="lineno"> 1002</span>  <span class="comment">// the FunctionA computation routine</span></div>
<div class="line"><span class="lineno"> 1003</span>  PetscObjectComposeFunction((PetscObject)mat,</div>
<div class="line"><span class="lineno"> 1004</span>                             <span class="stringliteral">&quot;formFunction&quot;</span>,</div>
<div class="line"><span class="lineno"> 1005</span>                             eigen ? <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a496d602f62f20757f339fc7ad32e1e02">Moose::SlepcSupport::mooseSlepcEigenFormFunctionB</a></div>
<div class="line"><span class="lineno"> 1006</span>                                   : <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#ac87b715283666c6168109e3a89d8b450">Moose::SlepcSupport::mooseSlepcEigenFormFunctionA</a>);</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>  <span class="comment">// It&#39;s also beneficial to be able to evaluate both A and B residuals at once</span></div>
<div class="line"><span class="lineno"> 1009</span>  PetscObjectComposeFunction(</div>
<div class="line"><span class="lineno"> 1010</span>      (PetscObject)mat, <span class="stringliteral">&quot;formFunctionAB&quot;</span>, <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a49c100c851681cba24ef98335db4e778">Moose::SlepcSupport::mooseSlepcEigenFormFunctionAB</a>);</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>  <span class="comment">// Users may choose to provide a custom measure of the norm of B (Bx for a linear system)</span></div>
<div class="line"><span class="lineno"> 1013</span>  <span class="keywordflow">if</span> (eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a83b43c463052ed4721f0a322589a71c6">bxNormProvided</a>())</div>
<div class="line"><span class="lineno"> 1014</span>    PetscObjectComposeFunction(</div>
<div class="line"><span class="lineno"> 1015</span>        (PetscObject)mat, <span class="stringliteral">&quot;formNorm&quot;</span>, <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a2397640f11726515d65303cb052329c5">Moose::SlepcSupport::mooseSlepcEigenFormNorm</a>);</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>  <span class="comment">// Finally we need to attach the &quot;context&quot; object, which is our EigenProblem, to the matrices so</span></div>
<div class="line"><span class="lineno"> 1018</span>  <span class="comment">// that eventually when we get callbacks from SLEPc we can call methods on the EigenProblem</span></div>
<div class="line"><span class="lineno"> 1019</span>  PetscContainer container;</div>
<div class="line"><span class="lineno"> 1020</span>  PetscContainerCreate(eigen_problem.comm().get(), &amp;container);</div>
<div class="line"><span class="lineno"> 1021</span>  PetscContainerSetPointer(container, &amp;eigen_problem);</div>
<div class="line"><span class="lineno"> 1022</span>  PetscObjectCompose((PetscObject)mat, <span class="stringliteral">&quot;formJacobianCtx&quot;</span>, (PetscObject)container);</div>
<div class="line"><span class="lineno"> 1023</span>  PetscObjectCompose((PetscObject)mat, <span class="stringliteral">&quot;formFunctionCtx&quot;</span>, (PetscObject)container);</div>
<div class="line"><span class="lineno"> 1024</span>  <span class="keywordflow">if</span> (eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a83b43c463052ed4721f0a322589a71c6">bxNormProvided</a>())</div>
<div class="line"><span class="lineno"> 1025</span>    PetscObjectCompose((PetscObject)mat, <span class="stringliteral">&quot;formNormCtx&quot;</span>, (PetscObject)container);</div>
<div class="line"><span class="lineno"> 1026</span>  PetscContainerDestroy(&amp;container);</div>
<div class="line"><span class="lineno"> 1027</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_a83b43c463052ed4721f0a322589a71c6"><div class="ttname"><a href="classEigenProblem.html#a83b43c463052ed4721f0a322589a71c6">EigenProblem::bxNormProvided</a></div><div class="ttdeci">bool bxNormProvided() const</div><div class="ttdoc">Whether a Bx norm postprocessor has been provided.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00235">EigenProblem.h:235</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a2397640f11726515d65303cb052329c5"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a2397640f11726515d65303cb052329c5">Moose::SlepcSupport::mooseSlepcEigenFormNorm</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEigenFormNorm(SNES, Vec, PetscReal *norm, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00973">SlepcSupport.C:973</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a496d602f62f20757f339fc7ad32e1e02"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a496d602f62f20757f339fc7ad32e1e02">Moose::SlepcSupport::mooseSlepcEigenFormFunctionB</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEigenFormFunctionB(SNES snes, Vec x, Vec r, void *ctx)</div><div class="ttdoc">Form function residual Bx.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00859">SlepcSupport.C:859</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a49c100c851681cba24ef98335db4e778"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a49c100c851681cba24ef98335db4e778">Moose::SlepcSupport::mooseSlepcEigenFormFunctionAB</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEigenFormFunctionAB(SNES, Vec x, Vec Ax, Vec Bx, void *ctx)</div><div class="ttdoc">Form function residual Ax-Bx.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00899">SlepcSupport.C:899</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a88f21d4ae12687752631037c7e3970cd"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a88f21d4ae12687752631037c7e3970cd">Moose::SlepcSupport::mooseSlepcEigenFormJacobianA</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEigenFormJacobianA(SNES snes, Vec x, Mat jac, Mat pc, void *ctx)</div><div class="ttdoc">Form Jacobian matrix A.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00651">SlepcSupport.C:651</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_ac87b715283666c6168109e3a89d8b450"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#ac87b715283666c6168109e3a89d8b450">Moose::SlepcSupport::mooseSlepcEigenFormFunctionA</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEigenFormFunctionA(SNES snes, Vec x, Vec r, void *ctx)</div><div class="ttdoc">Form function residual Ax.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00820">SlepcSupport.C:820</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_afbab1d6064a84a1624c4a0dd27cf8cf8"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#afbab1d6064a84a1624c4a0dd27cf8cf8">Moose::SlepcSupport::mooseSlepcEigenFormJacobianB</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEigenFormJacobianB(SNES snes, Vec x, Mat jac, Mat pc, void *ctx)</div><div class="ttdoc">Form Jacobian matrix B.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00746">SlepcSupport.C:746</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="NonlinearEigenSystem_8C_source.html#l00254">NonlinearEigenSystem::attachSLEPcCallbacks()</a>.</p>

</div>
</div>
<a id="ae15897fc77e82c7b2ba75c099221871c" name="ae15897fc77e82c7b2ba75c099221871c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15897fc77e82c7b2ba75c099221871c">&#9670;&#160;</a></span>clearFreeNonlinearPowerIterations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::clearFreeNonlinearPowerIterations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00365">365</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  366</span>{</div>
<div class="line"><span class="lineno">  367</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_power_update&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  368</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_max_it&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  369</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_max_it&quot;</span>,</div>
<div class="line"><span class="lineno">  370</span>                                            <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;nl_max_its&quot;</span>)));</div>
<div class="line"><span class="lineno">  371</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_rtol&quot;</span>,</div>
<div class="line"><span class="lineno">  372</span>                                            <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;nl_rel_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  373</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_tol&quot;</span>, <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;eigen_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  374</span>}</div>
<div class="ttc" id="aclassInputParameters_html_a5950e0f79e862f14e4cd021dd473bc8f"><div class="ttname"><a href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">InputParameters::get</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; R1, R2 &gt; &gt; get(const std::string &amp;param1, const std::string &amp;param2) const</div><div class="ttdoc">Combine two vector parameters into a single vector of pairs.</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8h_source.html#l01801">InputParameters.h:1801</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1PetscSupport_html_a494fabdaf75f92cf919968738be2f61f"><div class="ttname"><a href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a></div><div class="ttdeci">void setSinglePetscOption(const std::string &amp;name, const std::string &amp;value)</div><div class="ttdoc">A wrapper function for dealing with different versions of PetscOptionsSetValue.</div><div class="ttdef"><b>Definition:</b> <a href="PetscSupport_8C_source.html#l00920">PetscSupport.C:920</a></div></div>
<div class="ttc" id="anamespaceMoose_html_a8575af67e4a573c2c942b82e49fbcf8a"><div class="ttname"><a href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">Moose::stringify</a></div><div class="ttdeci">std::string stringify(const RelationshipManagerType &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="Conversion_8C_source.html#l00324">Conversion.C:324</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="EigenProblem_8C_source.html#l00492">EigenProblem::doFreeNonlinearPowerIterations()</a>.</p>

</div>
</div>
<a id="a565265f2a93b30757f1b8ec93b1e70db" name="a565265f2a93b30757f1b8ec93b1e70db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a565265f2a93b30757f1b8ec93b1e70db">&#9670;&#160;</a></span>getSlepcEigenProblemValidParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInputParameters.html">InputParameters</a> Moose::SlepcSupport::getSlepcEigenProblemValidParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve valid params that allow users to specify eigen problem configuration. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00066">66</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   67</span>{</div>
<div class="line"><span class="lineno">   68</span>  <a class="code hl_class" href="classInputParameters.html">InputParameters</a> params = <a class="code hl_function" href="InputParameters_8C.html#a8864a88488c3578d8422c986c15bf3a4">emptyInputParameters</a>();</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>  <span class="comment">// We are solving a Non-Hermitian eigenvalue problem by default</span></div>
<div class="line"><span class="lineno">   71</span>  <a class="code hl_class" href="classMooseEnum.html">MooseEnum</a> eigen_problem_type(<span class="stringliteral">&quot;HERMITIAN NON_HERMITIAN GEN_HERMITIAN GEN_NON_HERMITIAN &quot;</span></div>
<div class="line"><span class="lineno">   72</span>                               <span class="stringliteral">&quot;GEN_INDEFINITE POS_GEN_NON_HERMITIAN SLEPC_DEFAULT&quot;</span>,</div>
<div class="line"><span class="lineno">   73</span>                               <span class="stringliteral">&quot;GEN_NON_HERMITIAN&quot;</span>);</div>
<div class="line"><span class="lineno">   74</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(</div>
<div class="line"><span class="lineno">   75</span>      <span class="stringliteral">&quot;eigen_problem_type&quot;</span>,</div>
<div class="line"><span class="lineno">   76</span>      eigen_problem_type,</div>
<div class="line"><span class="lineno">   77</span>      <span class="stringliteral">&quot;Type of the eigenvalue problem we are solving &quot;</span></div>
<div class="line"><span class="lineno">   78</span>      <span class="stringliteral">&quot;HERMITIAN: Hermitian &quot;</span></div>
<div class="line"><span class="lineno">   79</span>      <span class="stringliteral">&quot;NON_HERMITIAN: Non-Hermitian &quot;</span></div>
<div class="line"><span class="lineno">   80</span>      <span class="stringliteral">&quot;GEN_HERMITIAN: Generalized Hermitian &quot;</span></div>
<div class="line"><span class="lineno">   81</span>      <span class="stringliteral">&quot;GEN_NON_HERMITIAN: Generalized Non-Hermitian &quot;</span></div>
<div class="line"><span class="lineno">   82</span>      <span class="stringliteral">&quot;GEN_INDEFINITE: Generalized indefinite Hermitian &quot;</span></div>
<div class="line"><span class="lineno">   83</span>      <span class="stringliteral">&quot;POS_GEN_NON_HERMITIAN: Generalized Non-Hermitian with positive (semi-)definite B &quot;</span></div>
<div class="line"><span class="lineno">   84</span>      <span class="stringliteral">&quot;SLEPC_DEFAULT: Use whatever SLEPC has by default &quot;</span>);</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>  <span class="comment">// Which eigenvalues are we interested in</span></div>
<div class="line"><span class="lineno">   87</span>  <a class="code hl_class" href="classMooseEnum.html">MooseEnum</a> which_eigen_pairs(<span class="stringliteral">&quot;LARGEST_MAGNITUDE SMALLEST_MAGNITUDE LARGEST_REAL SMALLEST_REAL &quot;</span></div>
<div class="line"><span class="lineno">   88</span>                              <span class="stringliteral">&quot;LARGEST_IMAGINARY SMALLEST_IMAGINARY TARGET_MAGNITUDE TARGET_REAL &quot;</span></div>
<div class="line"><span class="lineno">   89</span>                              <span class="stringliteral">&quot;TARGET_IMAGINARY ALL_EIGENVALUES SLEPC_DEFAULT&quot;</span>);</div>
<div class="line"><span class="lineno">   90</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;which_eigen_pairs&quot;</span>,</div>
<div class="line"><span class="lineno">   91</span>                             which_eigen_pairs,</div>
<div class="line"><span class="lineno">   92</span>                             <span class="stringliteral">&quot;Which eigenvalue pairs to obtain from the solution &quot;</span></div>
<div class="line"><span class="lineno">   93</span>                             <span class="stringliteral">&quot;LARGEST_MAGNITUDE &quot;</span></div>
<div class="line"><span class="lineno">   94</span>                             <span class="stringliteral">&quot;SMALLEST_MAGNITUDE &quot;</span></div>
<div class="line"><span class="lineno">   95</span>                             <span class="stringliteral">&quot;LARGEST_REAL &quot;</span></div>
<div class="line"><span class="lineno">   96</span>                             <span class="stringliteral">&quot;SMALLEST_REAL &quot;</span></div>
<div class="line"><span class="lineno">   97</span>                             <span class="stringliteral">&quot;LARGEST_IMAGINARY &quot;</span></div>
<div class="line"><span class="lineno">   98</span>                             <span class="stringliteral">&quot;SMALLEST_IMAGINARY &quot;</span></div>
<div class="line"><span class="lineno">   99</span>                             <span class="stringliteral">&quot;TARGET_MAGNITUDE &quot;</span></div>
<div class="line"><span class="lineno">  100</span>                             <span class="stringliteral">&quot;TARGET_REAL &quot;</span></div>
<div class="line"><span class="lineno">  101</span>                             <span class="stringliteral">&quot;TARGET_IMAGINARY &quot;</span></div>
<div class="line"><span class="lineno">  102</span>                             <span class="stringliteral">&quot;ALL_EIGENVALUES &quot;</span></div>
<div class="line"><span class="lineno">  103</span>                             <span class="stringliteral">&quot;SLEPC_DEFAULT &quot;</span>);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;n_eigen_pairs&quot;</span>, 1, <span class="stringliteral">&quot;The number of eigen pairs&quot;</span>);</div>
<div class="line"><span class="lineno">  106</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;n_basis_vectors&quot;</span>, 3, <span class="stringliteral">&quot;The dimension of eigen subspaces&quot;</span>);</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;Real&gt;(<span class="stringliteral">&quot;eigen_tol&quot;</span>, 1.0e-4, <span class="stringliteral">&quot;Relative Tolerance for Eigen Solver&quot;</span>);</div>
<div class="line"><span class="lineno">  109</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;eigen_max_its&quot;</span>, 10000, <span class="stringliteral">&quot;Max Iterations for Eigen Solver&quot;</span>);</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;Real&gt;(<span class="stringliteral">&quot;l_abs_tol&quot;</span>, 1e-50, <span class="stringliteral">&quot;Absolute Tolerances for Linear Solver&quot;</span>);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;free_power_iterations&quot;</span>, 4, <span class="stringliteral">&quot;The number of free power iterations&quot;</span>);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>  params.<a class="code hl_function" href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">addParam</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(</div>
<div class="line"><span class="lineno">  116</span>      <span class="stringliteral">&quot;extra_power_iterations&quot;</span>, 0, <span class="stringliteral">&quot;The number of extra free power iterations&quot;</span>);</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>  params.<a class="code hl_function" href="classInputParameters.html#a248ce59e136741971a8ad8cdc95ab6b8">addParamNamesToGroup</a>(</div>
<div class="line"><span class="lineno">  119</span>      <span class="stringliteral">&quot;eigen_problem_type which_eigen_pairs n_eigen_pairs n_basis_vectors eigen_tol eigen_max_its &quot;</span></div>
<div class="line"><span class="lineno">  120</span>      <span class="stringliteral">&quot;free_power_iterations extra_power_iterations&quot;</span>,</div>
<div class="line"><span class="lineno">  121</span>      <span class="stringliteral">&quot;Eigen Solver&quot;</span>);</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">return</span> params;</div>
<div class="line"><span class="lineno">  124</span>}</div>
<div class="ttc" id="aInputParameters_8C_html_a8864a88488c3578d8422c986c15bf3a4"><div class="ttname"><a href="InputParameters_8C.html#a8864a88488c3578d8422c986c15bf3a4">emptyInputParameters</a></div><div class="ttdeci">InputParameters emptyInputParameters()</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8C_source.html#l00028">InputParameters.C:28</a></div></div>
<div class="ttc" id="aclassInputParameters_html"><div class="ttname"><a href="classInputParameters.html">InputParameters</a></div><div class="ttdoc">The main MOOSE class responsible for handling user-defined parameters in almost every MOOSE system.</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8h_source.html#l00047">InputParameters.h:48</a></div></div>
<div class="ttc" id="aclassInputParameters_html_a248ce59e136741971a8ad8cdc95ab6b8"><div class="ttname"><a href="classInputParameters.html#a248ce59e136741971a8ad8cdc95ab6b8">InputParameters::addParamNamesToGroup</a></div><div class="ttdeci">void addParamNamesToGroup(const std::string &amp;space_delim_names, const std::string group_name)</div><div class="ttdoc">This method takes a space delimited list of parameter names and adds them to the specified group name...</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8C_source.html#l00775">InputParameters.C:775</a></div></div>
<div class="ttc" id="aclassInputParameters_html_a32c3f12c99358208195651a418e1d923"><div class="ttname"><a href="classInputParameters.html#a32c3f12c99358208195651a418e1d923">InputParameters::addParam</a></div><div class="ttdeci">void addParam(const std::string &amp;name, const S &amp;value, const std::string &amp;doc_string)</div><div class="ttdoc">These methods add an option parameter and a documentation string to the InputParameters object.</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8h_source.html#l01402">InputParameters.h:1402</a></div></div>
<div class="ttc" id="aclassMooseEnum_html"><div class="ttname"><a href="classMooseEnum.html">MooseEnum</a></div><div class="ttdoc">This is a &quot;smart&quot; enum class intended to replace many of the shortcomings in the C++ enum type It sho...</div><div class="ttdef"><b>Definition:</b> <a href="MooseEnum_8h_source.html#l00031">MooseEnum.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="Eigenvalue_8C_source.html#l00022">Eigenvalue::validParams()</a>.</p>

</div>
</div>
<a id="a77dab30fcf579f4247d683062876a874" name="a77dab30fcf579f4247d683062876a874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77dab30fcf579f4247d683062876a874">&#9670;&#160;</a></span>getSlepcValidParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInputParameters.html">InputParameters</a> Moose::SlepcSupport::getSlepcValidParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classInputParameters.html" title="The main MOOSE class responsible for handling user-defined parameters in almost every MOOSE system.">InputParameters</a> object containing the SLEPC related parameters</dd></dl>
<p>The output of this function should be added to the the parameters object of the overarching class </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classEigenProblem.html" title="Problem for solving eigenvalue problems.">EigenProblem</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00037">37</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>{</div>
<div class="line"><span class="lineno">   39</span>  <a class="code hl_class" href="classMooseEnum.html">MooseEnum</a> solve_type(<span class="stringliteral">&quot;POWER ARNOLDI KRYLOVSCHUR JACOBI_DAVIDSON &quot;</span></div>
<div class="line"><span class="lineno">   40</span>                       <span class="stringliteral">&quot;NONLINEAR_POWER NEWTON PJFNK PJFNKMO JFNK&quot;</span>,</div>
<div class="line"><span class="lineno">   41</span>                       <span class="stringliteral">&quot;PJFNK&quot;</span>);</div>
<div class="line"><span class="lineno">   42</span>  params.<a class="code hl_function" href="classInputParameters.html#aad61017eafc3788a514e49dbdeb54843">set</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;solve_type&quot;</span>) = solve_type;</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>  params.<a class="code hl_function" href="classInputParameters.html#a3d056749c9e7db5523d99a4cc98cda99">setDocString</a>(<span class="stringliteral">&quot;solve_type&quot;</span>,</div>
<div class="line"><span class="lineno">   45</span>                      <span class="stringliteral">&quot;POWER: Power / Inverse / RQI &quot;</span></div>
<div class="line"><span class="lineno">   46</span>                      <span class="stringliteral">&quot;ARNOLDI: Arnoldi &quot;</span></div>
<div class="line"><span class="lineno">   47</span>                      <span class="stringliteral">&quot;KRYLOVSCHUR: Krylov-Schur &quot;</span></div>
<div class="line"><span class="lineno">   48</span>                      <span class="stringliteral">&quot;JACOBI_DAVIDSON: Jacobi-Davidson &quot;</span></div>
<div class="line"><span class="lineno">   49</span>                      <span class="stringliteral">&quot;NONLINEAR_POWER: Nonlinear Power &quot;</span></div>
<div class="line"><span class="lineno">   50</span>                      <span class="stringliteral">&quot;NEWTON: Newton &quot;</span></div>
<div class="line"><span class="lineno">   51</span>                      <span class="stringliteral">&quot;PJFNK: Preconditioned Jacobian-free Newton-Kyrlov&quot;</span></div>
<div class="line"><span class="lineno">   52</span>                      <span class="stringliteral">&quot;JFNK: Jacobian-free Newton-Kyrlov&quot;</span></div>
<div class="line"><span class="lineno">   53</span>                      <span class="stringliteral">&quot;PJFNKMO: Preconditioned Jacobian-free Newton-Kyrlov with Matrix Only&quot;</span>);</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>  <span class="comment">// When the eigenvalue problems is reformed as a coupled nonlinear system,</span></div>
<div class="line"><span class="lineno">   56</span>  <span class="comment">// we use part of Jacobian as the preconditioning matrix.</span></div>
<div class="line"><span class="lineno">   57</span>  <span class="comment">// Because the difference between the Jacobian and the preconditioning matrix is not small,</span></div>
<div class="line"><span class="lineno">   58</span>  <span class="comment">// the linear solver KSP can not reduce the residual much. After several tests,</span></div>
<div class="line"><span class="lineno">   59</span>  <span class="comment">// we find 1e-2 is a reasonable choice.</span></div>
<div class="line"><span class="lineno">   60</span>  params.<a class="code hl_function" href="classInputParameters.html#aad61017eafc3788a514e49dbdeb54843">set</a>&lt;Real&gt;(<span class="stringliteral">&quot;l_tol&quot;</span>) = 1e-2;</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">return</span> params;</div>
<div class="line"><span class="lineno">   63</span>}</div>
<div class="ttc" id="aclassInputParameters_html_a3d056749c9e7db5523d99a4cc98cda99"><div class="ttname"><a href="classInputParameters.html#a3d056749c9e7db5523d99a4cc98cda99">InputParameters::setDocString</a></div><div class="ttdeci">void setDocString(const std::string &amp;name, const std::string &amp;doc)</div><div class="ttdoc">Set the doc string of a parameter.</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8C_source.html#l00339">InputParameters.C:339</a></div></div>
<div class="ttc" id="aclassInputParameters_html_aad61017eafc3788a514e49dbdeb54843"><div class="ttname"><a href="classInputParameters.html#aad61017eafc3788a514e49dbdeb54843">InputParameters::set</a></div><div class="ttdeci">T &amp; set(const std::string &amp;name, bool quiet_mode=false)</div><div class="ttdoc">Returns a writable reference to the named parameters.</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8h_source.html#l01179">InputParameters.h:1179</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="Eigenvalue_8C_source.html#l00022">Eigenvalue::validParams()</a>.</p>

</div>
</div>
<a id="a8babbe78db368a67aa447c97f741d937" name="a8babbe78db368a67aa447c97f741d937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8babbe78db368a67aa447c97f741d937">&#9670;&#160;</a></span>mooseEPSFormMatrices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseEPSFormMatrices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>eigen_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EPS&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00514">514</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  515</span>{</div>
<div class="line"><span class="lineno">  516</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  517</span>  ST st;</div>
<div class="line"><span class="lineno">  518</span>  Mat A, B;</div>
<div class="line"><span class="lineno">  519</span>  PetscBool aisshell, bisshell;</div>
<div class="line"><span class="lineno">  520</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>  <span class="keywordflow">if</span> (eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a5011105491e10f0fe668867d63d6b19a">constantMatrices</a>() &amp;&amp; eigen_problem.<a class="code hl_function" href="classEigenProblem.html#ae26209db57c28624807c0d4b4093ac33">wereMatricesFormed</a>())</div>
<div class="line"><span class="lineno">  523</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>  <span class="keywordflow">if</span> (eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a12bbd8cabaeb54c3e198146a2e1fac30">onLinearSolver</a>())</div>
<div class="line"><span class="lineno">  526</span>    <span class="comment">// We reach here during linear iteration when solve type is PJFNKMO.</span></div>
<div class="line"><span class="lineno">  527</span>    <span class="comment">// We will use the matrices assembled at the beginning of this Newton</span></div>
<div class="line"><span class="lineno">  528</span>    <span class="comment">// iteration for the following residual evaluation.</span></div>
<div class="line"><span class="lineno">  529</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno">  532</span>  SNES snes = eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a520af757b606938def693af394e46f16">getSNES</a>();</div>
<div class="line"><span class="lineno">  533</span>  <span class="comment">// Rest ST state so that we can retrieve matrices</span></div>
<div class="line"><span class="lineno">  534</span>  ierr = EPSGetST(eps, &amp;st);</div>
<div class="line"><span class="lineno">  535</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  536</span>  ierr = STResetMatrixState(st);</div>
<div class="line"><span class="lineno">  537</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  538</span>  ierr = EPSGetOperators(eps, &amp;A, &amp;B);</div>
<div class="line"><span class="lineno">  539</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  540</span>  ierr = PetscObjectTypeCompare((PetscObject)A, MATSHELL, &amp;aisshell);</div>
<div class="line"><span class="lineno">  541</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  542</span>  ierr = PetscObjectTypeCompare((PetscObject)B, MATSHELL, &amp;bisshell);</div>
<div class="line"><span class="lineno">  543</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  544</span>  <span class="keywordflow">if</span> (aisshell || bisshell)</div>
<div class="line"><span class="lineno">  545</span>  {</div>
<div class="line"><span class="lineno">  546</span>    SETERRQ(PetscObjectComm((PetscObject)eps),</div>
<div class="line"><span class="lineno">  547</span>            PETSC_ERR_ARG_INCOMP,</div>
<div class="line"><span class="lineno">  548</span>            <span class="stringliteral">&quot;A and B matrices can not be shell matrices when using PJFNKMO \n&quot;</span>);</div>
<div class="line"><span class="lineno">  549</span>  }</div>
<div class="line"><span class="lineno">  550</span>  <span class="comment">// Form A and B</span></div>
<div class="line"><span class="lineno">  551</span>  std::vector&lt;Mat&gt; mats = {A, B};</div>
<div class="line"><span class="lineno">  552</span>  moosePetscSNESFormMatricesTags(</div>
<div class="line"><span class="lineno">  553</span>      snes, x, mats, ctx, {eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#ab7e4d21944ba4bca8fe48e940ab4bb8d">nonEigenMatrixTag</a>(), eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#abbccaaba231930ff171f0cbc0b7ec993">eigenMatrixTag</a>()});</div>
<div class="line"><span class="lineno">  554</span>  eigen_problem.<a class="code hl_function" href="classEigenProblem.html#ae26209db57c28624807c0d4b4093ac33">wereMatricesFormed</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  555</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  556</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_a12bbd8cabaeb54c3e198146a2e1fac30"><div class="ttname"><a href="classEigenProblem.html#a12bbd8cabaeb54c3e198146a2e1fac30">EigenProblem::onLinearSolver</a></div><div class="ttdeci">bool onLinearSolver() const</div><div class="ttdoc">Whether or not we are in a linear solver iteration.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00200">EigenProblem.h:200</a></div></div>
<div class="ttc" id="aclassEigenProblem_html_a5011105491e10f0fe668867d63d6b19a"><div class="ttname"><a href="classEigenProblem.html#a5011105491e10f0fe668867d63d6b19a">EigenProblem::constantMatrices</a></div><div class="ttdeci">bool constantMatrices() const</div><div class="ttdoc">Whether or not matrices are constant.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00210">EigenProblem.h:210</a></div></div>
<div class="ttc" id="aclassEigenProblem_html_a9ad2c1e258d518932f20e4de5a4639cf"><div class="ttname"><a href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">EigenProblem::getCurrentNonlinearEigenSystem</a></div><div class="ttdeci">NonlinearEigenSystem &amp; getCurrentNonlinearEigenSystem()</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00310">EigenProblem.h:310</a></div></div>
<div class="ttc" id="aclassEigenProblem_html_ae26209db57c28624807c0d4b4093ac33"><div class="ttname"><a href="classEigenProblem.html#ae26209db57c28624807c0d4b4093ac33">EigenProblem::wereMatricesFormed</a></div><div class="ttdeci">bool wereMatricesFormed() const</div><div class="ttdoc">Whether or not constant matrices were already formed.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00220">EigenProblem.h:220</a></div></div>
<div class="ttc" id="aclassNonlinearEigenSystem_html"><div class="ttname"><a href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a></div><div class="ttdoc">Nonlinear eigenvalue system to be solved.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8h_source.html#l00029">NonlinearEigenSystem.h:30</a></div></div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_a520af757b606938def693af394e46f16"><div class="ttname"><a href="classNonlinearEigenSystem.html#a520af757b606938def693af394e46f16">NonlinearEigenSystem::getSNES</a></div><div class="ttdeci">virtual SNES getSNES() override</div><div class="ttdoc">Retrieve snes from slepc eigen solver.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8C_source.html#l00366">NonlinearEigenSystem.C:366</a></div></div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_ab7e4d21944ba4bca8fe48e940ab4bb8d"><div class="ttname"><a href="classNonlinearEigenSystem.html#ab7e4d21944ba4bca8fe48e940ab4bb8d">NonlinearEigenSystem::nonEigenMatrixTag</a></div><div class="ttdeci">TagID nonEigenMatrixTag() const</div><div class="ttdoc">Matrix tag ID of left hand side.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8h_source.html#l00146">NonlinearEigenSystem.h:146</a></div></div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_abbccaaba231930ff171f0cbc0b7ec993"><div class="ttname"><a href="classNonlinearEigenSystem.html#abbccaaba231930ff171f0cbc0b7ec993">NonlinearEigenSystem::eigenMatrixTag</a></div><div class="ttdeci">TagID eigenMatrixTag() const</div><div class="ttdoc">Matrix tag ID of right hand side.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8h_source.html#l00141">NonlinearEigenSystem.h:141</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00820">mooseSlepcEigenFormFunctionA()</a>, <a class="el" href="SlepcSupport_8C_source.html#l00899">mooseSlepcEigenFormFunctionAB()</a>, <a class="el" href="SlepcSupport_8C_source.html#l00859">mooseSlepcEigenFormFunctionB()</a>, and <a class="el" href="SlepcSupport_8C_source.html#l00651">mooseSlepcEigenFormJacobianA()</a>.</p>

</div>
</div>
<a id="a6d418796a14c1f0b08ff573a49691aca" name="a6d418796a14c1f0b08ff573a49691aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d418796a14c1f0b08ff573a49691aca">&#9670;&#160;</a></span>mooseMatMult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::mooseMatMult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>eigen_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01030">1030</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1031</span>{</div>
<div class="line"><span class="lineno"> 1032</span>  <a class="code hl_class" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp; nl = eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#a9a198658cec01ee765bc83581da917e6">currentNonlinearSystem</a>();</div>
<div class="line"><span class="lineno"> 1033</span>  System &amp; sys = nl.<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>();</div>
<div class="line"><span class="lineno"> 1034</span> </div>
<div class="line"><span class="lineno"> 1035</span>  PetscVector&lt;Number&gt; X_global(x, sys.comm()), R(r, sys.comm());</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>  PetscVector&lt;Number&gt; &amp; X_sys = *cast_ptr&lt;PetscVector&lt;Number&gt; *&gt;(sys.solution.get());</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>  <span class="comment">// Use the system&#39;s update() to get a good local version of the</span></div>
<div class="line"><span class="lineno"> 1040</span>  <span class="comment">// parallel solution.  This operation does not modify the incoming</span></div>
<div class="line"><span class="lineno"> 1041</span>  <span class="comment">// &quot;x&quot; vector, it only localizes information from &quot;x&quot; into</span></div>
<div class="line"><span class="lineno"> 1042</span>  <span class="comment">// sys.current_local_solution.</span></div>
<div class="line"><span class="lineno"> 1043</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno"> 1044</span>  sys.update();</div>
<div class="line"><span class="lineno"> 1045</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno"> 1046</span> </div>
<div class="line"><span class="lineno"> 1047</span>  R.zero();</div>
<div class="line"><span class="lineno"> 1048</span> </div>
<div class="line"><span class="lineno"> 1049</span>  eigen_problem.<a class="code hl_function" href="classEigenProblem.html#afb8a8007beba20ff304d8fa0c13aad98">computeResidualTag</a>(*sys.current_local_solution.get(), R, tag);</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>  R.close();</div>
<div class="line"><span class="lineno"> 1052</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_afb8a8007beba20ff304d8fa0c13aad98"><div class="ttname"><a href="classEigenProblem.html#afb8a8007beba20ff304d8fa0c13aad98">EigenProblem::computeResidualTag</a></div><div class="ttdeci">virtual void computeResidualTag(const NumericVector&lt; Number &gt; &amp;soln, NumericVector&lt; Number &gt; &amp;residual, TagID tag) override</div><div class="ttdoc">Form a vector for all kernels and BCs with a given tag.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8C_source.html#l00282">EigenProblem.C:282</a></div></div>
<div class="ttc" id="aclassFEProblemBase_html_a9a198658cec01ee765bc83581da917e6"><div class="ttname"><a href="classFEProblemBase.html#a9a198658cec01ee765bc83581da917e6">FEProblemBase::currentNonlinearSystem</a></div><div class="ttdeci">NonlinearSystemBase &amp; currentNonlinearSystem()</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8h_source.html#l02694">FEProblemBase.h:2694</a></div></div>
<div class="ttc" id="aclassNonlinearSystemBase_html"><div class="ttname"><a href="classNonlinearSystemBase.html">NonlinearSystemBase</a></div><div class="ttdoc">Nonlinear system to be solved.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearSystemBase_8h_source.html#l00064">NonlinearSystemBase.h:65</a></div></div>
<div class="ttc" id="aclassNonlinearSystemBase_html_ae3198c3954c38cca4fdec7ff14b77852"><div class="ttname"><a href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">NonlinearSystemBase::system</a></div><div class="ttdeci">virtual System &amp; system() override</div><div class="ttdoc">Get the reference to the libMesh system.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearSystemBase_8h_source.html#l00625">NonlinearSystemBase.h:625</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01055">mooseMatMult_Eigen()</a>, and <a class="el" href="SlepcSupport_8C_source.html#l01076">mooseMatMult_NonEigen()</a>.</p>

</div>
</div>
<a id="aab5e6151f814e7f94ea78ca327352833" name="aab5e6151f814e7f94ea78ca327352833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab5e6151f814e7f94ea78ca327352833">&#9670;&#160;</a></span>mooseMatMult_Eigen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseMatMult_Eigen </td>
          <td>(</td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implement MatMult via function evaluation for Bx. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01055">1055</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1056</span>{</div>
<div class="line"><span class="lineno"> 1057</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1058</span>  <span class="keywordtype">void</span> * ctx = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1059</span>  MatShellGetContext(mat, &amp;ctx);</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>  <span class="keywordflow">if</span> (!ctx)</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;No context is set for shell matrix &quot;</span>);</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno"> 1065</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span>  <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a6d418796a14c1f0b08ff573a49691aca">mooseMatMult</a>(*eigen_problem, x, r, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a0381cb5a879e872b5c84bec041dd2078">eigenVectorTag</a>());</div>
<div class="line"><span class="lineno"> 1068</span> </div>
<div class="line"><span class="lineno"> 1069</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a02124b1384294c037982fd0a76b2a0d9">negativeSignEigenKernel</a>())</div>
<div class="line"><span class="lineno"> 1070</span>    VecScale(r, -1.);</div>
<div class="line"><span class="lineno"> 1071</span> </div>
<div class="line"><span class="lineno"> 1072</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1073</span>}</div>
<div class="ttc" id="aMooseError_8h_html_aa959168eed29caa7aaa85ffc1319a9ad"><div class="ttname"><a href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a></div><div class="ttdeci">void mooseError(Args &amp;&amp;... args)</div><div class="ttdoc">Emit an error message with the given stringified, concatenated args and terminate the application.</div><div class="ttdef"><b>Definition:</b> <a href="MooseError_8h_source.html#l00284">MooseError.h:284</a></div></div>
<div class="ttc" id="aclassEigenProblem_html"><div class="ttname"><a href="classEigenProblem.html">EigenProblem</a></div><div class="ttdoc">Problem for solving eigenvalue problems.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00021">EigenProblem.h:22</a></div></div>
<div class="ttc" id="aclassEigenProblem_html_a02124b1384294c037982fd0a76b2a0d9"><div class="ttname"><a href="classEigenProblem.html#a02124b1384294c037982fd0a76b2a0d9">EigenProblem::negativeSignEigenKernel</a></div><div class="ttdeci">bool negativeSignEigenKernel() const</div><div class="ttdoc">A flag indicates if a negative sign is used in eigen kernels.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00060">EigenProblem.h:60</a></div></div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_a0381cb5a879e872b5c84bec041dd2078"><div class="ttname"><a href="classNonlinearEigenSystem.html#a0381cb5a879e872b5c84bec041dd2078">NonlinearEigenSystem::eigenVectorTag</a></div><div class="ttdeci">TagID eigenVectorTag() const</div><div class="ttdoc">Vector tag ID of right hand side.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8h_source.html#l00131">NonlinearEigenSystem.h:131</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a6d418796a14c1f0b08ff573a49691aca"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a6d418796a14c1f0b08ff573a49691aca">Moose::SlepcSupport::mooseMatMult</a></div><div class="ttdeci">void mooseMatMult(EigenProblem &amp;eigen_problem, Vec x, Vec r, TagID tag)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l01030">SlepcSupport.C:1030</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01094">setOperationsForShellMat()</a>.</p>

</div>
</div>
<a id="a670b9090efdae073000d589c78cd393a" name="a670b9090efdae073000d589c78cd393a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a670b9090efdae073000d589c78cd393a">&#9670;&#160;</a></span>mooseMatMult_NonEigen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseMatMult_NonEigen </td>
          <td>(</td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implement MatMult via function evaluation for Ax. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01076">1076</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1077</span>{</div>
<div class="line"><span class="lineno"> 1078</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1079</span>  <span class="keywordtype">void</span> * ctx = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1080</span>  MatShellGetContext(mat, &amp;ctx);</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>  <span class="keywordflow">if</span> (!ctx)</div>
<div class="line"><span class="lineno"> 1083</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;No context is set for shell matrix &quot;</span>);</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno"> 1086</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>  <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a6d418796a14c1f0b08ff573a49691aca">mooseMatMult</a>(*eigen_problem, x, r, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a09ca06c2e2c80d17bbe8acf56f7046f2">nonEigenVectorTag</a>());</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1091</span>}</div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_a09ca06c2e2c80d17bbe8acf56f7046f2"><div class="ttname"><a href="classNonlinearEigenSystem.html#a09ca06c2e2c80d17bbe8acf56f7046f2">NonlinearEigenSystem::nonEigenVectorTag</a></div><div class="ttdeci">TagID nonEigenVectorTag() const</div><div class="ttdoc">Vector tag ID of left hand side.</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8h_source.html#l00136">NonlinearEigenSystem.h:136</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01094">setOperationsForShellMat()</a>.</p>

</div>
</div>
<a id="a2a0a80cb056772216d5dd58ed23a23d6" name="a2a0a80cb056772216d5dd58ed23a23d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a0a80cb056772216d5dd58ed23a23d6">&#9670;&#160;</a></span>moosePetscSNESFormFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::moosePetscSNESFormFunction </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00794">794</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  795</span>{</div>
<div class="line"><span class="lineno">  796</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  797</span>  <a class="code hl_class" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp; nl = eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#a9a198658cec01ee765bc83581da917e6">currentNonlinearSystem</a>();</div>
<div class="line"><span class="lineno">  798</span>  System &amp; sys = nl.<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>();</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>  PetscVector&lt;Number&gt; X_global(x, sys.comm()), R(r, sys.comm());</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>  PetscVector&lt;Number&gt; &amp; X_sys = *cast_ptr&lt;PetscVector&lt;Number&gt; *&gt;(sys.solution.get());</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>  <span class="comment">// Use the system&#39;s update() to get a good local version of the</span></div>
<div class="line"><span class="lineno">  805</span>  <span class="comment">// parallel solution.  This operation does not modify the incoming</span></div>
<div class="line"><span class="lineno">  806</span>  <span class="comment">// &quot;x&quot; vector, it only localizes information from &quot;x&quot; into</span></div>
<div class="line"><span class="lineno">  807</span>  <span class="comment">// sys.current_local_solution.</span></div>
<div class="line"><span class="lineno">  808</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  809</span>  sys.update();</div>
<div class="line"><span class="lineno">  810</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>  R.zero();</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>  eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#afb8a8007beba20ff304d8fa0c13aad98">computeResidualTag</a>(*sys.current_local_solution.get(), R, tag);</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>  R.close();</div>
<div class="line"><span class="lineno">  817</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00820">mooseSlepcEigenFormFunctionA()</a>, and <a class="el" href="SlepcSupport_8C_source.html#l00859">mooseSlepcEigenFormFunctionB()</a>.</p>

</div>
</div>
<a id="a7289fef0e733bb189ac776a21c2d3457" name="a7289fef0e733bb189ac776a21c2d3457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7289fef0e733bb189ac776a21c2d3457">&#9670;&#160;</a></span>moosePetscSNESFormMatricesTags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::moosePetscSNESFormMatricesTags </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; Mat &gt; &amp;&#160;</td>
          <td class="paramname"><em>mats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Form multiple matrices for multiple tags. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00589">589</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  591</span>{</div>
<div class="line"><span class="lineno">  592</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  593</span>  <a class="code hl_class" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp; nl = eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#a9a198658cec01ee765bc83581da917e6">currentNonlinearSystem</a>();</div>
<div class="line"><span class="lineno">  594</span>  System &amp; sys = nl.<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>();</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>  PetscVector&lt;Number&gt; X_global(x, sys.comm());</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span>  PetscVector&lt;Number&gt; &amp; X_sys = *cast_ptr&lt;PetscVector&lt;Number&gt; *&gt;(sys.solution.get());</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>  <span class="comment">// Use the system&#39;s update() to get a good local version of the</span></div>
<div class="line"><span class="lineno">  601</span>  <span class="comment">// parallel solution.  This operation does not modify the incoming</span></div>
<div class="line"><span class="lineno">  602</span>  <span class="comment">// &quot;x&quot; vector, it only localizes information from &quot;x&quot; into</span></div>
<div class="line"><span class="lineno">  603</span>  <span class="comment">// sys.current_local_solution.</span></div>
<div class="line"><span class="lineno">  604</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  605</span>  sys.update();</div>
<div class="line"><span class="lineno">  606</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>  std::vector&lt;std::unique_ptr&lt;SparseMatrix&lt;Number&gt;&gt;&gt; jacobians;</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; mat : mats)</div>
<div class="line"><span class="lineno">  611</span>  {</div>
<div class="line"><span class="lineno">  612</span>    jacobians.emplace_back(std::make_unique&lt;PetscMatrix&lt;Number&gt;&gt;(mat, sys.comm()));</div>
<div class="line"><span class="lineno">  613</span>    jacobians.back()-&gt;attach_dof_map(sys.get_dof_map());</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordflow">if</span> (!eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#afc3299ccd62502f00e20cb2b05b352d0">constJacobian</a>())</div>
<div class="line"><span class="lineno">  615</span>      jacobians.back()-&gt;zero();</div>
<div class="line"><span class="lineno">  616</span>  }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>  eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a99aa9263460f4ef0514b4edb7d1044a4">computeMatricesTags</a>(*sys.current_local_solution.get(), jacobians, tags);</div>
<div class="line"><span class="lineno">  619</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_a99aa9263460f4ef0514b4edb7d1044a4"><div class="ttname"><a href="classEigenProblem.html#a99aa9263460f4ef0514b4edb7d1044a4">EigenProblem::computeMatricesTags</a></div><div class="ttdeci">void computeMatricesTags(const NumericVector&lt; Number &gt; &amp;soln, const std::vector&lt; std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt; &gt; &amp;jacobians, const std::set&lt; TagID &gt; &amp;tags)</div><div class="ttdoc">Form several matrices simultaneously.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8C_source.html#l00195">EigenProblem.C:195</a></div></div>
<div class="ttc" id="aclassFEProblemBase_html_afc3299ccd62502f00e20cb2b05b352d0"><div class="ttname"><a href="classFEProblemBase.html#afc3299ccd62502f00e20cb2b05b352d0">FEProblemBase::constJacobian</a></div><div class="ttdeci">bool constJacobian() const</div><div class="ttdoc">Returns _const_jacobian (whether a MOOSE object has specified that the Jacobian is the same as the pr...</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8C_source.html#l07998">FEProblemBase.C:7998</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00514">mooseEPSFormMatrices()</a>, and <a class="el" href="SlepcSupport_8C_source.html#l00651">mooseSlepcEigenFormJacobianA()</a>.</p>

</div>
</div>
<a id="a7267ef8bd60f9de3767e7ee2b1f38eb8" name="a7267ef8bd60f9de3767e7ee2b1f38eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7267ef8bd60f9de3767e7ee2b1f38eb8">&#9670;&#160;</a></span>moosePetscSNESFormMatrixTag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::moosePetscSNESFormMatrixTag </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MooseTypes_8h.html#a2a4aaee9f726a02a12c85da22a2009ed">TagID</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Form matrix according to tag. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00559">559</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  560</span>{</div>
<div class="line"><span class="lineno">  561</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  562</span>  <a class="code hl_class" href="classNonlinearSystemBase.html">NonlinearSystemBase</a> &amp; nl = eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#a9a198658cec01ee765bc83581da917e6">currentNonlinearSystem</a>();</div>
<div class="line"><span class="lineno">  563</span>  System &amp; sys = nl.<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>();</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>  PetscVector&lt;Number&gt; X_global(x, sys.comm());</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>  PetscVector&lt;Number&gt; &amp; X_sys = *cast_ptr&lt;PetscVector&lt;Number&gt; *&gt;(sys.solution.get());</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>  <span class="comment">// Use the system&#39;s update() to get a good local version of the</span></div>
<div class="line"><span class="lineno">  570</span>  <span class="comment">// parallel solution.  This operation does not modify the incoming</span></div>
<div class="line"><span class="lineno">  571</span>  <span class="comment">// &quot;x&quot; vector, it only localizes information from &quot;x&quot; into</span></div>
<div class="line"><span class="lineno">  572</span>  <span class="comment">// sys.current_local_solution.</span></div>
<div class="line"><span class="lineno">  573</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  574</span>  sys.update();</div>
<div class="line"><span class="lineno">  575</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>  PetscMatrix&lt;Number&gt; libmesh_mat(mat, sys.comm());</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>  <span class="comment">// Set the dof maps</span></div>
<div class="line"><span class="lineno">  580</span>  libmesh_mat.attach_dof_map(sys.get_dof_map());</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>  <span class="keywordflow">if</span> (!eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#afc3299ccd62502f00e20cb2b05b352d0">constJacobian</a>())</div>
<div class="line"><span class="lineno">  583</span>    libmesh_mat.zero();</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>  eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#aa6cc15e867b9e2b9b4e57fd35fed28c4">computeJacobianTag</a>(*sys.current_local_solution.get(), libmesh_mat, tag);</div>
<div class="line"><span class="lineno">  586</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_aa6cc15e867b9e2b9b4e57fd35fed28c4"><div class="ttname"><a href="classEigenProblem.html#aa6cc15e867b9e2b9b4e57fd35fed28c4">EigenProblem::computeJacobianTag</a></div><div class="ttdeci">virtual void computeJacobianTag(const NumericVector&lt; Number &gt; &amp;soln, SparseMatrix&lt; Number &gt; &amp;jacobian, TagID tag) override</div><div class="ttdoc">Form a Jacobian matrix for all kernels and BCs with a given tag.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8C_source.html#l00165">EigenProblem.C:165</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00651">mooseSlepcEigenFormJacobianA()</a>, and <a class="el" href="SlepcSupport_8C_source.html#l00746">mooseSlepcEigenFormJacobianB()</a>.</p>

</div>
</div>
<a id="ac87b715283666c6168109e3a89d8b450" name="ac87b715283666c6168109e3a89d8b450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac87b715283666c6168109e3a89d8b450">&#9670;&#160;</a></span>mooseSlepcEigenFormFunctionA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEigenFormFunctionA </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname"><em>snes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Form function residual Ax. </p>
<p >It is a SLEPc callback </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00820">820</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  821</span>{</div>
<div class="line"><span class="lineno">  822</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  827</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae5dd971c56dfdec9a7984d64d636f91c">_eigen_matrix_vector_mult</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  830</span>      (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a12bbd8cabaeb54c3e198146a2e1fac30">onLinearSolver</a>() || eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a5011105491e10f0fe668867d63d6b19a">constantMatrices</a>()))</div>
<div class="line"><span class="lineno">  831</span>  {</div>
<div class="line"><span class="lineno">  832</span>    EPS eps = eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#ae48bd6f1da29cd1bf8ed56181fc24040">getEPS</a>();</div>
<div class="line"><span class="lineno">  833</span>    Mat A;</div>
<div class="line"><span class="lineno">  834</span>    ST st;</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>    ierr = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a8babbe78db368a67aa447c97f741d937">mooseEPSFormMatrices</a>(*eigen_problem, eps, x, ctx);</div>
<div class="line"><span class="lineno">  837</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>    <span class="comment">// Rest ST state so that we can restrieve matrices</span></div>
<div class="line"><span class="lineno">  840</span>    ierr = EPSGetST(eps, &amp;st);</div>
<div class="line"><span class="lineno">  841</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  842</span>    ierr = STResetMatrixState(st);</div>
<div class="line"><span class="lineno">  843</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  844</span>    ierr = EPSGetOperators(eps, &amp;A, NULL);</div>
<div class="line"><span class="lineno">  845</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>    ierr = MatMult(A, x, r);</div>
<div class="line"><span class="lineno">  848</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  851</span>  }</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>  moosePetscSNESFormFunction(snes, x, r, ctx, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a09ca06c2e2c80d17bbe8acf56f7046f2">nonEigenVectorTag</a>());</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  856</span>}</div>
<div class="ttc" id="aclassFEProblemBase_html_afe981ee31e466cb424535de03af63743"><div class="ttname"><a href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">FEProblemBase::solverParams</a></div><div class="ttdeci">SolverParams &amp; solverParams()</div><div class="ttdoc">Get the solver parameters.</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8C_source.html#l07857">FEProblemBase.C:7857</a></div></div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_ae48bd6f1da29cd1bf8ed56181fc24040"><div class="ttname"><a href="classNonlinearEigenSystem.html#ae48bd6f1da29cd1bf8ed56181fc24040">NonlinearEigenSystem::getEPS</a></div><div class="ttdeci">virtual EPS getEPS()</div><div class="ttdoc">Retrieve EPS (SLEPc eigen solver)</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8C_source.html#l00381">NonlinearEigenSystem.C:381</a></div></div>
<div class="ttc" id="aclassSolverParams_html_ae5dd971c56dfdec9a7984d64d636f91c"><div class="ttname"><a href="classSolverParams.html#ae5dd971c56dfdec9a7984d64d636f91c">SolverParams::_eigen_matrix_vector_mult</a></div><div class="ttdeci">bool _eigen_matrix_vector_mult</div><div class="ttdef"><b>Definition:</b> <a href="SolverParams_8h_source.html#l00028">SolverParams.h:28</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a8babbe78db368a67aa447c97f741d937"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a8babbe78db368a67aa447c97f741d937">Moose::SlepcSupport::mooseEPSFormMatrices</a></div><div class="ttdeci">PetscErrorCode mooseEPSFormMatrices(EigenProblem &amp;eigen_problem, EPS eps, Vec x, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00514">SlepcSupport.C:514</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00982">attachCallbacksToMat()</a>.</p>

</div>
</div>
<a id="a49c100c851681cba24ef98335db4e778" name="a49c100c851681cba24ef98335db4e778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c100c851681cba24ef98335db4e778">&#9670;&#160;</a></span>mooseSlepcEigenFormFunctionAB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEigenFormFunctionAB </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname"><em>snes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>Ax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>Bx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Form function residual Ax-Bx. </p>
<p >It is a SLEPc callback </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00899">899</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  900</span>{</div>
<div class="line"><span class="lineno">  901</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  906</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno">  907</span>  System &amp; sys = eigen_nl.<a class="code hl_function" href="classNonlinearSystemBase.html#ae3198c3954c38cca4fdec7ff14b77852">system</a>();</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae5dd971c56dfdec9a7984d64d636f91c">_eigen_matrix_vector_mult</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  910</span>      (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a12bbd8cabaeb54c3e198146a2e1fac30">onLinearSolver</a>() || eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a5011105491e10f0fe668867d63d6b19a">constantMatrices</a>()))</div>
<div class="line"><span class="lineno">  911</span>  {</div>
<div class="line"><span class="lineno">  912</span>    EPS eps = eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#ae48bd6f1da29cd1bf8ed56181fc24040">getEPS</a>();</div>
<div class="line"><span class="lineno">  913</span>    ST st;</div>
<div class="line"><span class="lineno">  914</span>    Mat A, B;</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>    ierr = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a8babbe78db368a67aa447c97f741d937">mooseEPSFormMatrices</a>(*eigen_problem, eps, x, ctx);</div>
<div class="line"><span class="lineno">  917</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>    <span class="comment">// Rest ST state so that we can restrieve matrices</span></div>
<div class="line"><span class="lineno">  920</span>    ierr = EPSGetST(eps, &amp;st);</div>
<div class="line"><span class="lineno">  921</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  922</span>    ierr = STResetMatrixState(st);</div>
<div class="line"><span class="lineno">  923</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>    ierr = EPSGetOperators(eps, &amp;A, &amp;B);</div>
<div class="line"><span class="lineno">  926</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    ierr = MatMult(A, x, Ax);</div>
<div class="line"><span class="lineno">  929</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  930</span>    ierr = MatMult(B, x, Bx);</div>
<div class="line"><span class="lineno">  931</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>    <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a02124b1384294c037982fd0a76b2a0d9">negativeSignEigenKernel</a>())</div>
<div class="line"><span class="lineno">  934</span>      VecScale(Bx, -1.);</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  937</span>  }</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>  PetscVector&lt;Number&gt; X_global(x, sys.comm()), AX(Ax, sys.comm()), BX(Bx, sys.comm());</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>  PetscVector&lt;Number&gt; &amp; X_sys = *cast_ptr&lt;PetscVector&lt;Number&gt; *&gt;(sys.solution.get());</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>  <span class="comment">// Use the system&#39;s update() to get a good local version of the</span></div>
<div class="line"><span class="lineno">  944</span>  <span class="comment">// parallel solution.  This operation does not modify the incoming</span></div>
<div class="line"><span class="lineno">  945</span>  <span class="comment">// &quot;x&quot; vector, it only localizes information from &quot;x&quot; into</span></div>
<div class="line"><span class="lineno">  946</span>  <span class="comment">// sys.current_local_solution.</span></div>
<div class="line"><span class="lineno">  947</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  948</span>  sys.update();</div>
<div class="line"><span class="lineno">  949</span>  X_global.swap(X_sys);</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>  <span class="keywordflow">if</span> (!eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#afc3299ccd62502f00e20cb2b05b352d0">constJacobian</a>())</div>
<div class="line"><span class="lineno">  952</span>  {</div>
<div class="line"><span class="lineno">  953</span>    AX.zero();</div>
<div class="line"><span class="lineno">  954</span>    BX.zero();</div>
<div class="line"><span class="lineno">  955</span>  }</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>  eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a5e628dd4488f033c67df688c8a8ebb6f">computeResidualAB</a>(*sys.current_local_solution.get(),</div>
<div class="line"><span class="lineno">  958</span>                                   AX,</div>
<div class="line"><span class="lineno">  959</span>                                   BX,</div>
<div class="line"><span class="lineno">  960</span>                                   eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a09ca06c2e2c80d17bbe8acf56f7046f2">nonEigenVectorTag</a>(),</div>
<div class="line"><span class="lineno">  961</span>                                   eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a0381cb5a879e872b5c84bec041dd2078">eigenVectorTag</a>());</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>  AX.close();</div>
<div class="line"><span class="lineno">  964</span>  BX.close();</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a02124b1384294c037982fd0a76b2a0d9">negativeSignEigenKernel</a>())</div>
<div class="line"><span class="lineno">  967</span>    VecScale(Bx, -1.);</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  970</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_a5e628dd4488f033c67df688c8a8ebb6f"><div class="ttname"><a href="classEigenProblem.html#a5e628dd4488f033c67df688c8a8ebb6f">EigenProblem::computeResidualAB</a></div><div class="ttdeci">void computeResidualAB(const NumericVector&lt; Number &gt; &amp;soln, NumericVector&lt; Number &gt; &amp;residualA, NumericVector&lt; Number &gt; &amp;residualB, TagID tagA, TagID tagB)</div><div class="ttdoc">Form two vetors, where each is associated with one tag, through one element-loop.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8C_source.html#l00312">EigenProblem.C:312</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00982">attachCallbacksToMat()</a>.</p>

</div>
</div>
<a id="a496d602f62f20757f339fc7ad32e1e02" name="a496d602f62f20757f339fc7ad32e1e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a496d602f62f20757f339fc7ad32e1e02">&#9670;&#160;</a></span>mooseSlepcEigenFormFunctionB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEigenFormFunctionB </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname"><em>snes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Form function residual Bx. </p>
<p >It is a SLEPc callback </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00859">859</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  860</span>{</div>
<div class="line"><span class="lineno">  861</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  866</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae5dd971c56dfdec9a7984d64d636f91c">_eigen_matrix_vector_mult</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  869</span>      (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a12bbd8cabaeb54c3e198146a2e1fac30">onLinearSolver</a>() || eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a5011105491e10f0fe668867d63d6b19a">constantMatrices</a>()))</div>
<div class="line"><span class="lineno">  870</span>  {</div>
<div class="line"><span class="lineno">  871</span>    EPS eps = eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#ae48bd6f1da29cd1bf8ed56181fc24040">getEPS</a>();</div>
<div class="line"><span class="lineno">  872</span>    ST st;</div>
<div class="line"><span class="lineno">  873</span>    Mat B;</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>    ierr = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a8babbe78db368a67aa447c97f741d937">mooseEPSFormMatrices</a>(*eigen_problem, eps, x, ctx);</div>
<div class="line"><span class="lineno">  876</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>    <span class="comment">// Rest ST state so that we can restrieve matrices</span></div>
<div class="line"><span class="lineno">  879</span>    ierr = EPSGetST(eps, &amp;st);</div>
<div class="line"><span class="lineno">  880</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  881</span>    ierr = STResetMatrixState(st);</div>
<div class="line"><span class="lineno">  882</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  883</span>    ierr = EPSGetOperators(eps, NULL, &amp;B);</div>
<div class="line"><span class="lineno">  884</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>    ierr = MatMult(B, x, r);</div>
<div class="line"><span class="lineno">  887</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  888</span>  }</div>
<div class="line"><span class="lineno">  889</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  890</span>    moosePetscSNESFormFunction(snes, x, r, ctx, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a0381cb5a879e872b5c84bec041dd2078">eigenVectorTag</a>());</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a02124b1384294c037982fd0a76b2a0d9">negativeSignEigenKernel</a>())</div>
<div class="line"><span class="lineno">  893</span>    VecScale(r, -1.);</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  896</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00982">attachCallbacksToMat()</a>.</p>

</div>
</div>
<a id="a18698bed9328357aa445c6d7e0c79cef" name="a18698bed9328357aa445c6d7e0c79cef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18698bed9328357aa445c6d7e0c79cef">&#9670;&#160;</a></span>mooseSlepcEigenFormFunctionMFFD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEigenFormFunctionMFFD </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classFunction.html" title="Base class for function objects.">Function</a> call for MFFD. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00622">622</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  623</span>{</div>
<div class="line"><span class="lineno">  624</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  625</span>  PetscErrorCode (*func)(SNES, Vec, Vec, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno">  626</span>  <span class="keywordtype">void</span> * fctx;</div>
<div class="line"><span class="lineno">  627</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  630</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno">  631</span>  SNES snes = eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a520af757b606938def693af394e46f16">getSNES</a>();</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>  eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a12bbd8cabaeb54c3e198146a2e1fac30">onLinearSolver</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>  ierr = SNESGetFunction(snes, NULL, &amp;func, &amp;fctx);</div>
<div class="line"><span class="lineno">  636</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  637</span>  <span class="keywordflow">if</span> (fctx != ctx)</div>
<div class="line"><span class="lineno">  638</span>  {</div>
<div class="line"><span class="lineno">  639</span>    SETERRQ(</div>
<div class="line"><span class="lineno">  640</span>        PetscObjectComm((PetscObject)snes), PETSC_ERR_ARG_INCOMP, <span class="stringliteral">&quot;Contexts are not consistent \n&quot;</span>);</div>
<div class="line"><span class="lineno">  641</span>  }</div>
<div class="line"><span class="lineno">  642</span>  ierr = (*func)(snes, x, r, ctx);</div>
<div class="line"><span class="lineno">  643</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>  eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a12bbd8cabaeb54c3e198146a2e1fac30">onLinearSolver</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  648</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00651">mooseSlepcEigenFormJacobianA()</a>.</p>

</div>
</div>
<a id="a88f21d4ae12687752631037c7e3970cd" name="a88f21d4ae12687752631037c7e3970cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f21d4ae12687752631037c7e3970cd">&#9670;&#160;</a></span>mooseSlepcEigenFormJacobianA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEigenFormJacobianA </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname"><em>snes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>jac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Form Jacobian matrix A. </p>
<p >It is a SLEPc callback </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00651">651</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  652</span>{</div>
<div class="line"><span class="lineno">  653</span>  PetscBool jisshell, pisshell;</div>
<div class="line"><span class="lineno">  654</span>  PetscBool jismffd;</div>
<div class="line"><span class="lineno">  655</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  660</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>  <span class="comment">// If both jacobian and preconditioning are shell matrices,</span></div>
<div class="line"><span class="lineno">  663</span>  <span class="comment">// and then assemble them and return</span></div>
<div class="line"><span class="lineno">  664</span>  ierr = PetscObjectTypeCompare((PetscObject)jac, MATSHELL, &amp;jisshell);</div>
<div class="line"><span class="lineno">  665</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  666</span>  ierr = PetscObjectTypeCompare((PetscObject)jac, MATMFFD, &amp;jismffd);</div>
<div class="line"><span class="lineno">  667</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>  <span class="keywordflow">if</span> (jismffd &amp;&amp; eigen_problem-&gt;<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae5dd971c56dfdec9a7984d64d636f91c">_eigen_matrix_vector_mult</a>)</div>
<div class="line"><span class="lineno">  670</span>  {</div>
<div class="line"><span class="lineno">  671</span>    ierr = MatMFFDSetFunction(jac, <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a18698bed9328357aa445c6d7e0c79cef">Moose::SlepcSupport::mooseSlepcEigenFormFunctionMFFD</a>, ctx);</div>
<div class="line"><span class="lineno">  672</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>    EPS eps = eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#ae48bd6f1da29cd1bf8ed56181fc24040">getEPS</a>();</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>    ierr = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a8babbe78db368a67aa447c97f741d937">mooseEPSFormMatrices</a>(*eigen_problem, eps, x, ctx);</div>
<div class="line"><span class="lineno">  677</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">if</span> (pc != jac)</div>
<div class="line"><span class="lineno">  680</span>    {</div>
<div class="line"><span class="lineno">  681</span>      ierr = MatAssemblyBegin(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  682</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  683</span>      ierr = MatAssemblyEnd(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  684</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  685</span>    }</div>
<div class="line"><span class="lineno">  686</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  687</span>  }</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>  ierr = PetscObjectTypeCompare((PetscObject)pc, MATSHELL, &amp;pisshell);</div>
<div class="line"><span class="lineno">  690</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordflow">if</span> ((jisshell || jismffd) &amp;&amp; pisshell)</div>
<div class="line"><span class="lineno">  692</span>  {</div>
<div class="line"><span class="lineno">  693</span>    <span class="comment">// Just assemble matrices and return</span></div>
<div class="line"><span class="lineno">  694</span>    ierr = MatAssemblyBegin(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  695</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  696</span>    ierr = MatAssemblyBegin(pc, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  697</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  698</span>    ierr = MatAssemblyEnd(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  699</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  700</span>    ierr = MatAssemblyEnd(pc, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  701</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  704</span>  }</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>  <span class="comment">// Jacobian and precond matrix are the same</span></div>
<div class="line"><span class="lineno">  707</span>  <span class="keywordflow">if</span> (jac == pc)</div>
<div class="line"><span class="lineno">  708</span>  {</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">if</span> (!pisshell)</div>
<div class="line"><span class="lineno">  710</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a7267ef8bd60f9de3767e7ee2b1f38eb8">moosePetscSNESFormMatrixTag</a>(snes, x, pc, ctx, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a9223282eda954721c946e7782eea1688">precondMatrixTag</a>());</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  713</span>  }</div>
<div class="line"><span class="lineno">  714</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  715</span>  {</div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">if</span> (!jisshell &amp;&amp; !jismffd &amp;&amp; !pisshell) <span class="comment">// We need to form both Jacobian and precond matrix</span></div>
<div class="line"><span class="lineno">  717</span>    {</div>
<div class="line"><span class="lineno">  718</span>      std::vector&lt;Mat&gt; mats = {jac, pc};</div>
<div class="line"><span class="lineno">  719</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a7289fef0e733bb189ac776a21c2d3457">moosePetscSNESFormMatricesTags</a>(</div>
<div class="line"><span class="lineno">  720</span>          snes, x, mats, ctx, {eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#ab7e4d21944ba4bca8fe48e940ab4bb8d">nonEigenMatrixTag</a>(), eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a9223282eda954721c946e7782eea1688">precondMatrixTag</a>()});</div>
<div class="line"><span class="lineno">  721</span>      PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  722</span>    }</div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">if</span> (!pisshell) <span class="comment">// We need to form only precond matrix</span></div>
<div class="line"><span class="lineno">  724</span>    {</div>
<div class="line"><span class="lineno">  725</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a7267ef8bd60f9de3767e7ee2b1f38eb8">moosePetscSNESFormMatrixTag</a>(snes, x, pc, ctx, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#a9223282eda954721c946e7782eea1688">precondMatrixTag</a>());</div>
<div class="line"><span class="lineno">  726</span>      ierr = MatAssemblyBegin(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  727</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  728</span>      ierr = MatAssemblyEnd(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  729</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  730</span>      PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  731</span>    }</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordflow">if</span> (!jisshell &amp;&amp; !jismffd) <span class="comment">// We need to form only Jacobian matrix</span></div>
<div class="line"><span class="lineno">  733</span>    {</div>
<div class="line"><span class="lineno">  734</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a7267ef8bd60f9de3767e7ee2b1f38eb8">moosePetscSNESFormMatrixTag</a>(snes, x, jac, ctx, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#ab7e4d21944ba4bca8fe48e940ab4bb8d">nonEigenMatrixTag</a>());</div>
<div class="line"><span class="lineno">  735</span>      ierr = MatAssemblyBegin(pc, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  736</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  737</span>      ierr = MatAssemblyEnd(pc, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  738</span>      CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  739</span>      PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  740</span>    }</div>
<div class="line"><span class="lineno">  741</span>  }</div>
<div class="line"><span class="lineno">  742</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  743</span>}</div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_a9223282eda954721c946e7782eea1688"><div class="ttname"><a href="classNonlinearEigenSystem.html#a9223282eda954721c946e7782eea1688">NonlinearEigenSystem::precondMatrixTag</a></div><div class="ttdeci">TagID precondMatrixTag() const</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8h_source.html#l00161">NonlinearEigenSystem.h:161</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a18698bed9328357aa445c6d7e0c79cef"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a18698bed9328357aa445c6d7e0c79cef">Moose::SlepcSupport::mooseSlepcEigenFormFunctionMFFD</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEigenFormFunctionMFFD(void *ctx, Vec x, Vec r)</div><div class="ttdoc">Function call for MFFD.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00622">SlepcSupport.C:622</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a7267ef8bd60f9de3767e7ee2b1f38eb8"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a7267ef8bd60f9de3767e7ee2b1f38eb8">Moose::SlepcSupport::moosePetscSNESFormMatrixTag</a></div><div class="ttdeci">void moosePetscSNESFormMatrixTag(SNES, Vec x, Mat mat, void *ctx, TagID tag)</div><div class="ttdoc">Form matrix according to tag.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00559">SlepcSupport.C:559</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a7289fef0e733bb189ac776a21c2d3457"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a7289fef0e733bb189ac776a21c2d3457">Moose::SlepcSupport::moosePetscSNESFormMatricesTags</a></div><div class="ttdeci">void moosePetscSNESFormMatricesTags(SNES, Vec x, std::vector&lt; Mat &gt; &amp;mats, void *ctx, const std::set&lt; TagID &gt; &amp;tags)</div><div class="ttdoc">Form multiple matrices for multiple tags.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00589">SlepcSupport.C:589</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00982">attachCallbacksToMat()</a>.</p>

</div>
</div>
<a id="afbab1d6064a84a1624c4a0dd27cf8cf8" name="afbab1d6064a84a1624c4a0dd27cf8cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbab1d6064a84a1624c4a0dd27cf8cf8">&#9670;&#160;</a></span>mooseSlepcEigenFormJacobianB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEigenFormJacobianB </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname"><em>snes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>jac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Form Jacobian matrix B. </p>
<p >It is a SLEPc callback </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00746">746</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  747</span>{</div>
<div class="line"><span class="lineno">  748</span>  PetscBool jshell, pshell;</div>
<div class="line"><span class="lineno">  749</span>  PetscBool jismffd;</div>
<div class="line"><span class="lineno">  750</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  755</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; eigen_nl = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>  <span class="comment">// If both jacobian and preconditioning are shell matrices,</span></div>
<div class="line"><span class="lineno">  758</span>  <span class="comment">// and then assemble them and return</span></div>
<div class="line"><span class="lineno">  759</span>  ierr = PetscObjectTypeCompare((PetscObject)jac, MATSHELL, &amp;jshell);</div>
<div class="line"><span class="lineno">  760</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  761</span>  ierr = PetscObjectTypeCompare((PetscObject)jac, MATMFFD, &amp;jismffd);</div>
<div class="line"><span class="lineno">  762</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  763</span>  ierr = PetscObjectTypeCompare((PetscObject)pc, MATSHELL, &amp;pshell);</div>
<div class="line"><span class="lineno">  764</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  765</span>  <span class="keywordflow">if</span> ((jshell || jismffd) &amp;&amp; pshell)</div>
<div class="line"><span class="lineno">  766</span>  {</div>
<div class="line"><span class="lineno">  767</span>    <span class="comment">// Just assemble matrices and return</span></div>
<div class="line"><span class="lineno">  768</span>    ierr = MatAssemblyBegin(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  769</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  770</span>    ierr = MatAssemblyBegin(pc, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  771</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  772</span>    ierr = MatAssemblyEnd(jac, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  773</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  774</span>    ierr = MatAssemblyEnd(pc, MAT_FINAL_ASSEMBLY);</div>
<div class="line"><span class="lineno">  775</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>    PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  778</span>  }</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>  <span class="keywordflow">if</span> (jac != pc &amp;&amp; (!jshell &amp;&amp; !jshell))</div>
<div class="line"><span class="lineno">  781</span>    SETERRQ(PetscObjectComm((PetscObject)snes),</div>
<div class="line"><span class="lineno">  782</span>            PETSC_ERR_ARG_INCOMP,</div>
<div class="line"><span class="lineno">  783</span>            <span class="stringliteral">&quot;Jacobian and precond matrices should be the same for eigen kernels \n&quot;</span>);</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>  moosePetscSNESFormMatrixTag(snes, x, pc, ctx, eigen_nl.<a class="code hl_function" href="classNonlinearEigenSystem.html#abbccaaba231930ff171f0cbc0b7ec993">eigenMatrixTag</a>());</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a02124b1384294c037982fd0a76b2a0d9">negativeSignEigenKernel</a>())</div>
<div class="line"><span class="lineno">  788</span>    MatScale(pc, -1.);</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  791</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00982">attachCallbacksToMat()</a>.</p>

</div>
</div>
<a id="a2397640f11726515d65303cb052329c5" name="a2397640f11726515d65303cb052329c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2397640f11726515d65303cb052329c5">&#9670;&#160;</a></span>mooseSlepcEigenFormNorm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEigenFormNorm </td>
          <td>(</td>
          <td class="paramtype">SNES&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscReal *&#160;</td>
          <td class="paramname"><em>norm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00973">973</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  974</span>{</div>
<div class="line"><span class="lineno">  975</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno">  976</span>  <span class="keyword">auto</span> * <span class="keyword">const</span> eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno">  977</span>  *norm = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#acaebd4cfc6e75306b34fb798a59590a5">formNorm</a>();</div>
<div class="line"><span class="lineno">  978</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno">  979</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_acaebd4cfc6e75306b34fb798a59590a5"><div class="ttname"><a href="classEigenProblem.html#acaebd4cfc6e75306b34fb798a59590a5">EigenProblem::formNorm</a></div><div class="ttdeci">Real formNorm()</div><div class="ttdoc">Form the Bx norm.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8C_source.html#l00648">EigenProblem.C:648</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00982">attachCallbacksToMat()</a>.</p>

</div>
</div>
<a id="a2cbfa7c48773b31e7f9036d46cf83012" name="a2cbfa7c48773b31e7f9036d46cf83012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cbfa7c48773b31e7f9036d46cf83012">&#9670;&#160;</a></span>mooseSlepcEPSGetSNES()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEPSGetSNES </td>
          <td>(</td>
          <td class="paramtype">EPS&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SNES *&#160;</td>
          <td class="paramname"><em>snes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve SNES from EPS. </p>
<p >It makes sense only for Newton eigenvalue solvers </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01257">1257</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1258</span>{</div>
<div class="line"><span class="lineno"> 1259</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1260</span>  PetscBool same, nonlinear;</div>
<div class="line"><span class="lineno"> 1261</span> </div>
<div class="line"><span class="lineno"> 1262</span>  ierr = PetscObjectTypeCompare((PetscObject)eps, EPSPOWER, &amp;same);</div>
<div class="line"><span class="lineno"> 1263</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>  <span class="keywordflow">if</span> (!same)</div>
<div class="line"><span class="lineno"> 1266</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;It is not eps power, and there is no snes&quot;</span>);</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>  ierr = EPSPowerGetNonlinear(eps, &amp;nonlinear);</div>
<div class="line"><span class="lineno"> 1269</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1270</span> </div>
<div class="line"><span class="lineno"> 1271</span>  <span class="keywordflow">if</span> (!nonlinear)</div>
<div class="line"><span class="lineno"> 1272</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;It is not a nonlinear eigen solver&quot;</span>);</div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>  ierr = EPSPowerGetSNES(eps, snes);</div>
<div class="line"><span class="lineno"> 1275</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1278</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="NonlinearEigenSystem_8C_source.html#l00366">NonlinearEigenSystem::getSNES()</a>, <a class="el" href="SlepcSupport_8C_source.html#l01325">mooseSlepcEPSSNESKSPSetPCSide()</a>, <a class="el" href="SlepcSupport_8C_source.html#l01302">mooseSlepcEPSSNESSetCustomizePC()</a>, and <a class="el" href="SlepcSupport_8C_source.html#l01281">mooseSlepcEPSSNESSetUpOptionPrefix()</a>.</p>

</div>
</div>
<a id="aaaa0b64079c5c363ba26b82df19ea82f" name="aaaa0b64079c5c363ba26b82df19ea82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa0b64079c5c363ba26b82df19ea82f">&#9670;&#160;</a></span>mooseSlepcEPSMonitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEPSMonitor </td>
          <td>(</td>
          <td class="paramtype">EPS&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname"><em>its</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscScalar *&#160;</td>
          <td class="paramname"><em>eigr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscScalar *&#160;</td>
          <td class="paramname"><em>eigi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscReal *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A customized solver monitor to print out eigenvalue. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01345">1345</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1353</span>{</div>
<div class="line"><span class="lineno"> 1354</span>  ST st;</div>
<div class="line"><span class="lineno"> 1355</span>  PetscErrorCode ierr = 0;</div>
<div class="line"><span class="lineno"> 1356</span>  PetscScalar eigenr, eigeni;</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(mctx);</div>
<div class="line"><span class="lineno"> 1359</span>  <span class="keyword">auto</span> &amp; console = eigen_problem-&gt;<a class="code hl_function" href="classProblem.html#a5889d6ad45e958367387310ca54ac3df">console</a>();</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>  <span class="keyword">auto</span> inverse = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#abc7a2db59d7ec7a97d2393c9bdabfeef">outputInverseEigenvalue</a>();</div>
<div class="line"><span class="lineno"> 1362</span>  ierr = EPSGetST(eps, &amp;st);</div>
<div class="line"><span class="lineno"> 1363</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1364</span>  eigenr = eigr[0];</div>
<div class="line"><span class="lineno"> 1365</span>  eigeni = eigi[0];</div>
<div class="line"><span class="lineno"> 1366</span>  <span class="comment">// Make the eigenvalue consistent with shift type</span></div>
<div class="line"><span class="lineno"> 1367</span>  ierr = STBackTransform(st, 1, &amp;eigenr, &amp;eigeni);</div>
<div class="line"><span class="lineno"> 1368</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>  <span class="keyword">auto</span> eigenvalue = inverse ? 1.0 / eigenr : eigenr;</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>  <span class="comment">// The term &quot;k-eigenvalue&quot; is adopted from the neutronics community.</span></div>
<div class="line"><span class="lineno"> 1373</span>  console &lt;&lt; <span class="stringliteral">&quot; Iteration &quot;</span> &lt;&lt; its &lt;&lt; std::setprecision(10) &lt;&lt; std::fixed</div>
<div class="line"><span class="lineno"> 1374</span>          &lt;&lt; (inverse ? <span class="stringliteral">&quot; k-eigenvalue = &quot;</span> : <span class="stringliteral">&quot; eigenvalue = &quot;</span>) &lt;&lt; eigenvalue &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1377</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_abc7a2db59d7ec7a97d2393c9bdabfeef"><div class="ttname"><a href="classEigenProblem.html#abc7a2db59d7ec7a97d2393c9bdabfeef">EigenProblem::outputInverseEigenvalue</a></div><div class="ttdeci">bool outputInverseEigenvalue() const</div><div class="ttdoc">Whether or not to output eigenvalue inverse.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00190">EigenProblem.h:190</a></div></div>
<div class="ttc" id="aclassProblem_html_a5889d6ad45e958367387310ca54ac3df"><div class="ttname"><a href="classProblem.html#a5889d6ad45e958367387310ca54ac3df">Problem::console</a></div><div class="ttdeci">const ConsoleStream &amp; console() const</div><div class="ttdoc">Return console handle.</div><div class="ttdef"><b>Definition:</b> <a href="Problem_8h_source.html#l00048">Problem.h:48</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcEigenSolverConfiguration_8C_source.html#l00029">SlepcEigenSolverConfiguration::configure_solver()</a>.</p>

</div>
</div>
<a id="a0eb6f0961e036f1e8aa2d056a3c9dbea" name="a0eb6f0961e036f1e8aa2d056a3c9dbea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb6f0961e036f1e8aa2d056a3c9dbea">&#9670;&#160;</a></span>mooseSlepcEPSSNESKSPSetPCSide()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEPSSNESKSPSetPCSide </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFEProblemBase.html">FEProblemBase</a> &amp;&#160;</td>
          <td class="paramname"><em>problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EPS&#160;</td>
          <td class="paramname"><em>eps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allow users to specify PC side. </p>
<p >By default, we apply PC from the right side. It is consistent with the nonlinear solver. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01325">1325</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1326</span>{</div>
<div class="line"><span class="lineno"> 1327</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1328</span>  SNES snes;</div>
<div class="line"><span class="lineno"> 1329</span>  KSP ksp;</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>  <span class="comment">// Get SNES from EPS</span></div>
<div class="line"><span class="lineno"> 1332</span>  ierr = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a2cbfa7c48773b31e7f9036d46cf83012">mooseSlepcEPSGetSNES</a>(eps, &amp;snes);</div>
<div class="line"><span class="lineno"> 1333</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1334</span>  <span class="comment">// Get KSP from SNES</span></div>
<div class="line"><span class="lineno"> 1335</span>  ierr = SNESGetKSP(snes, &amp;ksp);</div>
<div class="line"><span class="lineno"> 1336</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1337</span> </div>
<div class="line"><span class="lineno"> 1338</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#aa8b0c9661a1de5f2b07ce7da41d1e6dd">Moose::PetscSupport::petscSetDefaultPCSide</a>(problem, ksp);</div>
<div class="line"><span class="lineno"> 1339</span> </div>
<div class="line"><span class="lineno"> 1340</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a399d12f374e01865bdf40f54d20bd8dd">Moose::PetscSupport::petscSetDefaultKSPNormType</a>(problem, ksp);</div>
<div class="line"><span class="lineno"> 1341</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1342</span>}</div>
<div class="ttc" id="anamespaceMoose_1_1PetscSupport_html_a399d12f374e01865bdf40f54d20bd8dd"><div class="ttname"><a href="namespaceMoose_1_1PetscSupport.html#a399d12f374e01865bdf40f54d20bd8dd">Moose::PetscSupport::petscSetDefaultKSPNormType</a></div><div class="ttdeci">void petscSetDefaultKSPNormType(FEProblemBase &amp;problem, KSP ksp)</div><div class="ttdoc">Set norm type.</div><div class="ttdef"><b>Definition:</b> <a href="PetscSupport_8C_source.html#l00455">PetscSupport.C:455</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1PetscSupport_html_aa8b0c9661a1de5f2b07ce7da41d1e6dd"><div class="ttname"><a href="namespaceMoose_1_1PetscSupport.html#aa8b0c9661a1de5f2b07ce7da41d1e6dd">Moose::PetscSupport::petscSetDefaultPCSide</a></div><div class="ttdeci">void petscSetDefaultPCSide(FEProblemBase &amp;problem, KSP ksp)</div><div class="ttdoc">Setup which side we want to apply preconditioner.</div><div class="ttdef"><b>Definition:</b> <a href="PetscSupport_8C_source.html#l00465">PetscSupport.C:465</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a2cbfa7c48773b31e7f9036d46cf83012"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a2cbfa7c48773b31e7f9036d46cf83012">Moose::SlepcSupport::mooseSlepcEPSGetSNES</a></div><div class="ttdeci">PetscErrorCode mooseSlepcEPSGetSNES(EPS eps, SNES *snes)</div><div class="ttdoc">Retrieve SNES from EPS.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l01257">SlepcSupport.C:1257</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcEigenSolverConfiguration_8C_source.html#l00029">SlepcEigenSolverConfiguration::configure_solver()</a>.</p>

</div>
</div>
<a id="a3f8c8c2508ebae5249e87f2e4238d901" name="a3f8c8c2508ebae5249e87f2e4238d901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8c8c2508ebae5249e87f2e4238d901">&#9670;&#160;</a></span>mooseSlepcEPSSNESSetCustomizePC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEPSSNESSetCustomizePC </td>
          <td>(</td>
          <td class="paramtype">EPS&#160;</td>
          <td class="paramname"><em>eps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a customized PC. </p>
<p >It is useful when you want to use PBP or other customized preconditioners </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01302">1302</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1303</span>{</div>
<div class="line"><span class="lineno"> 1304</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1305</span>  SNES snes;</div>
<div class="line"><span class="lineno"> 1306</span>  KSP ksp;</div>
<div class="line"><span class="lineno"> 1307</span>  PC pc;</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>  <span class="comment">// Get SNES from EPS</span></div>
<div class="line"><span class="lineno"> 1310</span>  ierr = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a2cbfa7c48773b31e7f9036d46cf83012">mooseSlepcEPSGetSNES</a>(eps, &amp;snes);</div>
<div class="line"><span class="lineno"> 1311</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1312</span>  <span class="comment">// Get KSP from SNES</span></div>
<div class="line"><span class="lineno"> 1313</span>  ierr = SNESGetKSP(snes, &amp;ksp);</div>
<div class="line"><span class="lineno"> 1314</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1315</span>  <span class="comment">// Get PC from KSP</span></div>
<div class="line"><span class="lineno"> 1316</span>  ierr = KSPGetPC(ksp, &amp;pc);</div>
<div class="line"><span class="lineno"> 1317</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1318</span>  <span class="comment">// Set PC type</span></div>
<div class="line"><span class="lineno"> 1319</span>  ierr = PCSetType(pc, <span class="stringliteral">&quot;moosepc&quot;</span>);</div>
<div class="line"><span class="lineno"> 1320</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1321</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1322</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcEigenSolverConfiguration_8C_source.html#l00029">SlepcEigenSolverConfiguration::configure_solver()</a>.</p>

</div>
</div>
<a id="a89a7a330946a3527d81fba6355e62655" name="a89a7a330946a3527d81fba6355e62655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a7a330946a3527d81fba6355e62655">&#9670;&#160;</a></span>mooseSlepcEPSSNESSetUpOptionPrefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcEPSSNESSetUpOptionPrefix </td>
          <td>(</td>
          <td class="paramtype">EPS&#160;</td>
          <td class="paramname"><em>eps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get rid of prefix "-eps_power" for SNES, KSP, PC, etc. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01281">1281</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1282</span>{</div>
<div class="line"><span class="lineno"> 1283</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1284</span>  SNES snes;</div>
<div class="line"><span class="lineno"> 1285</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> * prefix = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>  ierr = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a2cbfa7c48773b31e7f9036d46cf83012">mooseSlepcEPSGetSNES</a>(eps, &amp;snes);</div>
<div class="line"><span class="lineno"> 1288</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1289</span>  <span class="comment">// There is an extra &quot;eps_power&quot; in snes that users do not like it.</span></div>
<div class="line"><span class="lineno"> 1290</span>  <span class="comment">// Let us remove that from snes.</span></div>
<div class="line"><span class="lineno"> 1291</span>  <span class="comment">// Retrieve option prefix from EPS</span></div>
<div class="line"><span class="lineno"> 1292</span>  ierr = PetscObjectGetOptionsPrefix((PetscObject)eps, &amp;prefix);</div>
<div class="line"><span class="lineno"> 1293</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1294</span>  <span class="comment">// Set option prefix to SNES</span></div>
<div class="line"><span class="lineno"> 1295</span>  ierr = SNESSetOptionsPrefix(snes, prefix);</div>
<div class="line"><span class="lineno"> 1296</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1299</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcEigenSolverConfiguration_8C_source.html#l00029">SlepcEigenSolverConfiguration::configure_solver()</a>.</p>

</div>
</div>
<a id="af7bf5cebb4dc719808005ef949101a35" name="af7bf5cebb4dc719808005ef949101a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7bf5cebb4dc719808005ef949101a35">&#9670;&#160;</a></span>mooseSlepcStoppingTest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::mooseSlepcStoppingTest </td>
          <td>(</td>
          <td class="paramtype">EPS&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname"><em>its</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname"><em>max_it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname"><em>nconv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname"><em>nev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EPSConvergedReason *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A customized convergence checker. </p>
<p >We need to make solver as converged when doing free power iteration. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01228">1228</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1235</span>{</div>
<div class="line"><span class="lineno"> 1236</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1237</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>  ierr = EPSStoppingBasic(eps, its, max_it, nconv, nev, reason, NULL);</div>
<div class="line"><span class="lineno"> 1240</span>  LIBMESH_CHKERR(ierr);</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>  <span class="comment">// If we do free power iteration, we need to mark the solver as converged.</span></div>
<div class="line"><span class="lineno"> 1243</span>  <span class="comment">// It is because SLEPc does not offer a way to copy unconverged solution.</span></div>
<div class="line"><span class="lineno"> 1244</span>  <span class="comment">// If the solver is not marked as &quot;converged&quot;, we have no way to get solution</span></div>
<div class="line"><span class="lineno"> 1245</span>  <span class="comment">// from slepc. Note marking as &quot;converged&quot; has no side-effects at all for us.</span></div>
<div class="line"><span class="lineno"> 1246</span>  <span class="comment">// If free power iteration is used as a stand-alone solver, we won&#39;t trigger</span></div>
<div class="line"><span class="lineno"> 1247</span>  <span class="comment">// as &quot;doFreePowerIteration()&quot; is false.</span></div>
<div class="line"><span class="lineno"> 1248</span>  <span class="keywordflow">if</span> (eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a879db85064a355f48bab4e440c3e5533">doFreePowerIteration</a>() &amp;&amp; its == max_it &amp;&amp; *reason &lt;= 0)</div>
<div class="line"><span class="lineno"> 1249</span>  {</div>
<div class="line"><span class="lineno"> 1250</span>    *reason = EPS_CONVERGED_USER;</div>
<div class="line"><span class="lineno"> 1251</span>    eps-&gt;nconv = 1;</div>
<div class="line"><span class="lineno"> 1252</span>  }</div>
<div class="line"><span class="lineno"> 1253</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1254</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_a879db85064a355f48bab4e440c3e5533"><div class="ttname"><a href="classEigenProblem.html#a879db85064a355f48bab4e440c3e5533">EigenProblem::doFreePowerIteration</a></div><div class="ttdeci">bool doFreePowerIteration() const</div><div class="ttdoc">Whether or not we are doing free power iteration.</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00082">EigenProblem.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcEigenSolverConfiguration_8C_source.html#l00029">SlepcEigenSolverConfiguration::configure_solver()</a>.</p>

</div>
</div>
<a id="acd46c1a2fdf76043603f4cc82c516316" name="acd46c1a2fdf76043603f4cc82c516316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd46c1a2fdf76043603f4cc82c516316">&#9670;&#160;</a></span>PCApply_MoosePC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::PCApply_MoosePC </td>
          <td>(</td>
          <td class="paramtype">PC&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vec&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preconditioner application. </p>
<p >It call <a class="el" href="namespacelibMesh.html" title="The following methods are specializations for using the libMesh::Parallel::packed_range_* routines fo...">libMesh</a> preconditioner to implement this. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01155">1155</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1156</span>{</div>
<div class="line"><span class="lineno"> 1157</span>  <span class="keywordtype">void</span> * ctx;</div>
<div class="line"><span class="lineno"> 1158</span>  Mat Amat, Pmat;</div>
<div class="line"><span class="lineno"> 1159</span>  PetscContainer container;</div>
<div class="line"><span class="lineno"> 1160</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>  ierr = PCGetOperators(pc, &amp;Amat, &amp;Pmat);</div>
<div class="line"><span class="lineno"> 1163</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1164</span>  ierr = PetscObjectQuery((PetscObject)Pmat, <span class="stringliteral">&quot;formFunctionCtx&quot;</span>, (PetscObject *)&amp;container);</div>
<div class="line"><span class="lineno"> 1165</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1166</span>  <span class="keywordflow">if</span> (container)</div>
<div class="line"><span class="lineno"> 1167</span>  {</div>
<div class="line"><span class="lineno"> 1168</span>    ierr = PetscContainerGetPointer(container, &amp;ctx);</div>
<div class="line"><span class="lineno"> 1169</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1170</span>  }</div>
<div class="line"><span class="lineno"> 1171</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1172</span>  {</div>
<div class="line"><span class="lineno"> 1173</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot; Can not find a context \n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1174</span>  }</div>
<div class="line"><span class="lineno"> 1175</span> </div>
<div class="line"><span class="lineno"> 1176</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno"> 1177</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; nl_eigen = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno"> 1178</span>  <span class="keyword">auto</span> preconditioner = nl_eigen.<a class="code hl_function" href="classNonlinearEigenSystem.html#a856b377842eb3ba0ecff2a8f9b6d998d">preconditioner</a>();</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span>  <span class="keywordflow">if</span> (!preconditioner)</div>
<div class="line"><span class="lineno"> 1181</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;There is no moose preconditioner in nonlinear eigen system \n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span>  PetscVector&lt;Number&gt; x_vec(x, preconditioner-&gt;comm());</div>
<div class="line"><span class="lineno"> 1184</span>  PetscVector&lt;Number&gt; y_vec(y, preconditioner-&gt;comm());</div>
<div class="line"><span class="lineno"> 1185</span> </div>
<div class="line"><span class="lineno"> 1186</span>  preconditioner-&gt;apply(x_vec, y_vec);</div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1189</span>}</div>
<div class="ttc" id="aclassNonlinearEigenSystem_html_a856b377842eb3ba0ecff2a8f9b6d998d"><div class="ttname"><a href="classNonlinearEigenSystem.html#a856b377842eb3ba0ecff2a8f9b6d998d">NonlinearEigenSystem::preconditioner</a></div><div class="ttdeci">Preconditioner&lt; Number &gt; * preconditioner() const</div><div class="ttdef"><b>Definition:</b> <a href="NonlinearEigenSystem_8h_source.html#l00165">NonlinearEigenSystem.h:165</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01116">PCCreate_MoosePC()</a>.</p>

</div>
</div>
<a id="a205a324047cd9aa322c7323ad9e98e1e" name="a205a324047cd9aa322c7323ad9e98e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205a324047cd9aa322c7323ad9e98e1e">&#9670;&#160;</a></span>PCCreate_MoosePC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PETSC_EXTERN PetscErrorCode Moose::SlepcSupport::PCCreate_MoosePC </td>
          <td>(</td>
          <td class="paramtype">PC&#160;</td>
          <td class="paramname"><em>pc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a preconditioner from moose side. </p>
<p >It is used to attach moose preconditioner </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01116">1116</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1117</span>{</div>
<div class="line"><span class="lineno"> 1118</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>  pc-&gt;ops-&gt;view = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#ad2dd81ed648af620a53fec104dab5059">PCView_MoosePC</a>;</div>
<div class="line"><span class="lineno"> 1121</span>  pc-&gt;ops-&gt;destroy = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#aa563795792b6507a2e686ba0bd44b9cb">PCDestroy_MoosePC</a>;</div>
<div class="line"><span class="lineno"> 1122</span>  pc-&gt;ops-&gt;setup = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a131b4bdbb9e88bc8551518a59607204d">PCSetUp_MoosePC</a>;</div>
<div class="line"><span class="lineno"> 1123</span>  pc-&gt;ops-&gt;apply = <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#acd46c1a2fdf76043603f4cc82c516316">PCApply_MoosePC</a>;</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1126</span>}</div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a131b4bdbb9e88bc8551518a59607204d"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a131b4bdbb9e88bc8551518a59607204d">Moose::SlepcSupport::PCSetUp_MoosePC</a></div><div class="ttdeci">PetscErrorCode PCSetUp_MoosePC(PC pc)</div><div class="ttdoc">Setup preconditioner.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l01192">SlepcSupport.C:1192</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_aa563795792b6507a2e686ba0bd44b9cb"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#aa563795792b6507a2e686ba0bd44b9cb">Moose::SlepcSupport::PCDestroy_MoosePC</a></div><div class="ttdeci">PetscErrorCode PCDestroy_MoosePC(PC)</div><div class="ttdoc">Destroy preconditioner.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l01129">SlepcSupport.C:1129</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_acd46c1a2fdf76043603f4cc82c516316"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#acd46c1a2fdf76043603f4cc82c516316">Moose::SlepcSupport::PCApply_MoosePC</a></div><div class="ttdeci">PetscErrorCode PCApply_MoosePC(PC pc, Vec x, Vec y)</div><div class="ttdoc">Preconditioner application.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l01155">SlepcSupport.C:1155</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_ad2dd81ed648af620a53fec104dab5059"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#ad2dd81ed648af620a53fec104dab5059">Moose::SlepcSupport::PCView_MoosePC</a></div><div class="ttdeci">PetscErrorCode PCView_MoosePC(PC, PetscViewer viewer)</div><div class="ttdoc">View preconditioner.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l01138">SlepcSupport.C:1138</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01104">registerPCToPETSc()</a>.</p>

</div>
</div>
<a id="aa563795792b6507a2e686ba0bd44b9cb" name="aa563795792b6507a2e686ba0bd44b9cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa563795792b6507a2e686ba0bd44b9cb">&#9670;&#160;</a></span>PCDestroy_MoosePC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::PCDestroy_MoosePC </td>
          <td>(</td>
          <td class="paramtype">PC&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy preconditioner. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01129">1129</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1130</span>{</div>
<div class="line"><span class="lineno"> 1131</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1132</span>  <span class="comment">/* We do not need to do anything right now, but later we may have some data we need to free here</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1134</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1135</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01116">PCCreate_MoosePC()</a>.</p>

</div>
</div>
<a id="a131b4bdbb9e88bc8551518a59607204d" name="a131b4bdbb9e88bc8551518a59607204d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a131b4bdbb9e88bc8551518a59607204d">&#9670;&#160;</a></span>PCSetUp_MoosePC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::PCSetUp_MoosePC </td>
          <td>(</td>
          <td class="paramtype">PC&#160;</td>
          <td class="paramname"><em>pc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup preconditioner. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01192">1192</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1193</span>{</div>
<div class="line"><span class="lineno"> 1194</span>  <span class="keywordtype">void</span> * ctx;</div>
<div class="line"><span class="lineno"> 1195</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1196</span>  Mat Amat, Pmat;</div>
<div class="line"><span class="lineno"> 1197</span>  PetscContainer container;</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>  ierr = PCGetOperators(pc, &amp;Amat, &amp;Pmat);</div>
<div class="line"><span class="lineno"> 1200</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1201</span>  ierr = PetscObjectQuery((PetscObject)Pmat, <span class="stringliteral">&quot;formFunctionCtx&quot;</span>, (PetscObject *)&amp;container);</div>
<div class="line"><span class="lineno"> 1202</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1203</span>  <span class="keywordflow">if</span> (container)</div>
<div class="line"><span class="lineno"> 1204</span>  {</div>
<div class="line"><span class="lineno"> 1205</span>    ierr = PetscContainerGetPointer(container, &amp;ctx);</div>
<div class="line"><span class="lineno"> 1206</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1207</span>  }</div>
<div class="line"><span class="lineno"> 1208</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1209</span>  {</div>
<div class="line"><span class="lineno"> 1210</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot; Can not find a context \n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1211</span>  }</div>
<div class="line"><span class="lineno"> 1212</span>  <a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> * eigen_problem = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(ctx);</div>
<div class="line"><span class="lineno"> 1213</span>  <a class="code hl_class" href="classNonlinearEigenSystem.html">NonlinearEigenSystem</a> &amp; nl_eigen = eigen_problem-&gt;<a class="code hl_function" href="classEigenProblem.html#a9ad2c1e258d518932f20e4de5a4639cf">getCurrentNonlinearEigenSystem</a>();</div>
<div class="line"><span class="lineno"> 1214</span>  Preconditioner&lt;Number&gt; * preconditioner = nl_eigen.<a class="code hl_function" href="classNonlinearEigenSystem.html#a856b377842eb3ba0ecff2a8f9b6d998d">preconditioner</a>();</div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>  <span class="keywordflow">if</span> (!preconditioner)</div>
<div class="line"><span class="lineno"> 1217</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;There is no moose preconditioner in nonlinear eigen system \n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1218</span> </div>
<div class="line"><span class="lineno"> 1219</span>  <span class="keywordflow">if</span> (!preconditioner-&gt;initialized())</div>
<div class="line"><span class="lineno"> 1220</span>    preconditioner-&gt;init();</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span>  preconditioner-&gt;setup();</div>
<div class="line"><span class="lineno"> 1223</span> </div>
<div class="line"><span class="lineno"> 1224</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1225</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01116">PCCreate_MoosePC()</a>.</p>

</div>
</div>
<a id="ad2dd81ed648af620a53fec104dab5059" name="ad2dd81ed648af620a53fec104dab5059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2dd81ed648af620a53fec104dab5059">&#9670;&#160;</a></span>PCView_MoosePC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PetscErrorCode Moose::SlepcSupport::PCView_MoosePC </td>
          <td>(</td>
          <td class="paramtype">PC&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscViewer&#160;</td>
          <td class="paramname"><em>viewer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>View preconditioner. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01138">1138</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1139</span>{</div>
<div class="line"><span class="lineno"> 1140</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1141</span>  PetscBool iascii;</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1144</span>  ierr = PetscObjectTypeCompare((PetscObject)viewer, PETSCVIEWERASCII, &amp;iascii);</div>
<div class="line"><span class="lineno"> 1145</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1146</span>  <span class="keywordflow">if</span> (iascii)</div>
<div class="line"><span class="lineno"> 1147</span>  {</div>
<div class="line"><span class="lineno"> 1148</span>    ierr = PetscViewerASCIIPrintf(viewer, <span class="stringliteral">&quot;  %s\n&quot;</span>, <span class="stringliteral">&quot;moosepc&quot;</span>);</div>
<div class="line"><span class="lineno"> 1149</span>    CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1150</span>  }</div>
<div class="line"><span class="lineno"> 1151</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1152</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l01116">PCCreate_MoosePC()</a>.</p>

</div>
</div>
<a id="a09b01817a8e62f23eac2a55dd404e2f1" name="a09b01817a8e62f23eac2a55dd404e2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09b01817a8e62f23eac2a55dd404e2f1">&#9670;&#160;</a></span>registerPCToPETSc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PETSC_EXTERN PetscErrorCode Moose::SlepcSupport::registerPCToPETSc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let PETSc know there is a preconditioner. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01104">1104</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1105</span>{</div>
<div class="line"><span class="lineno"> 1106</span>  PetscErrorCode ierr;</div>
<div class="line"><span class="lineno"> 1107</span>  PetscFunctionBegin;</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>  ierr = PCRegister(<span class="stringliteral">&quot;moosepc&quot;</span>, PCCreate_MoosePC);</div>
<div class="line"><span class="lineno"> 1110</span>  CHKERRQ(ierr);</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>  PetscFunctionReturn(0);</div>
<div class="line"><span class="lineno"> 1113</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="NonlinearEigenSystem_8C_source.html#l00451">NonlinearEigenSystem::attachPreconditioner()</a>.</p>

</div>
</div>
<a id="a3931a9791deaf1bb448dd8e6605034e9" name="a3931a9791deaf1bb448dd8e6605034e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3931a9791deaf1bb448dd8e6605034e9">&#9670;&#160;</a></span>setEigenProblemOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setEigenProblemOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSolverParams.html">SolverParams</a> &amp;&#160;</td>
          <td class="paramname"><em>solver_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00260">260</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>{</div>
<div class="line"><span class="lineno">  262</span>  <span class="keywordflow">switch</span> (solver_params.<a class="code hl_variable" href="classSolverParams.html#ad525ae4ffe604fce1b3995941c948a1a">_eigen_problem_type</a>)</div>
<div class="line"><span class="lineno">  263</span>  {</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a83375e09a8df9ad361295988d6f21ac0">Moose::EPT_HERMITIAN</a>:</div>
<div class="line"><span class="lineno">  265</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_hermitian&quot;</span>);</div>
<div class="line"><span class="lineno">  266</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a3b9f3d031c02f3981ea26ae735d17cf2">Moose::EPT_NON_HERMITIAN</a>:</div>
<div class="line"><span class="lineno">  269</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_non_hermitian&quot;</span>);</div>
<div class="line"><span class="lineno">  270</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a4f341d4f80a07ac9d9eb216e442891d7">Moose::EPT_GEN_HERMITIAN</a>:</div>
<div class="line"><span class="lineno">  273</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_gen_hermitian&quot;</span>);</div>
<div class="line"><span class="lineno">  274</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a3aa9a52f2191a70f1c1b8914e80a82c7">Moose::EPT_GEN_INDEFINITE</a>:</div>
<div class="line"><span class="lineno">  277</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_gen_indefinite&quot;</span>);</div>
<div class="line"><span class="lineno">  278</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a99bfe7fc851c96f85a0c3a5346763b35">Moose::EPT_GEN_NON_HERMITIAN</a>:</div>
<div class="line"><span class="lineno">  281</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_gen_non_hermitian&quot;</span>);</div>
<div class="line"><span class="lineno">  282</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7ab4a8db42f636d67df52555cdd6bf3350">Moose::EPT_POS_GEN_NON_HERMITIAN</a>:</div>
<div class="line"><span class="lineno">  285</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_pos_gen_non_hermitian&quot;</span>);</div>
<div class="line"><span class="lineno">  286</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7aed3d50245169bc6626c866330447573b">Moose::EPT_SLEPC_DEFAULT</a>:</div>
<div class="line"><span class="lineno">  289</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  292</span>      <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;Unknown eigen solver type \n&quot;</span>);</div>
<div class="line"><span class="lineno">  293</span>  }</div>
<div class="line"><span class="lineno">  294</span>}</div>
<div class="ttc" id="aclassSolverParams_html_ad525ae4ffe604fce1b3995941c948a1a"><div class="ttname"><a href="classSolverParams.html#ad525ae4ffe604fce1b3995941c948a1a">SolverParams::_eigen_problem_type</a></div><div class="ttdeci">Moose::EigenProblemType _eigen_problem_type</div><div class="ttdef"><b>Definition:</b> <a href="SolverParams_8h_source.html#l00025">SolverParams.h:25</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ae97acf4d1da4ed4876d857cf9aa94aa7a3aa9a52f2191a70f1c1b8914e80a82c7"><div class="ttname"><a href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a3aa9a52f2191a70f1c1b8914e80a82c7">Moose::EPT_GEN_INDEFINITE</a></div><div class="ttdeci">@ EPT_GEN_INDEFINITE</div><div class="ttdoc">Generalized Hermitian indefinite.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00786">MooseTypes.h:786</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ae97acf4d1da4ed4876d857cf9aa94aa7a3b9f3d031c02f3981ea26ae735d17cf2"><div class="ttname"><a href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a3b9f3d031c02f3981ea26ae735d17cf2">Moose::EPT_NON_HERMITIAN</a></div><div class="ttdeci">@ EPT_NON_HERMITIAN</div><div class="ttdoc">Non-Hermitian.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00784">MooseTypes.h:784</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ae97acf4d1da4ed4876d857cf9aa94aa7a4f341d4f80a07ac9d9eb216e442891d7"><div class="ttname"><a href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a4f341d4f80a07ac9d9eb216e442891d7">Moose::EPT_GEN_HERMITIAN</a></div><div class="ttdeci">@ EPT_GEN_HERMITIAN</div><div class="ttdoc">Generalized Hermitian.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00785">MooseTypes.h:785</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ae97acf4d1da4ed4876d857cf9aa94aa7a83375e09a8df9ad361295988d6f21ac0"><div class="ttname"><a href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a83375e09a8df9ad361295988d6f21ac0">Moose::EPT_HERMITIAN</a></div><div class="ttdeci">@ EPT_HERMITIAN</div><div class="ttdoc">Hermitian.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00783">MooseTypes.h:783</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ae97acf4d1da4ed4876d857cf9aa94aa7a99bfe7fc851c96f85a0c3a5346763b35"><div class="ttname"><a href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7a99bfe7fc851c96f85a0c3a5346763b35">Moose::EPT_GEN_NON_HERMITIAN</a></div><div class="ttdeci">@ EPT_GEN_NON_HERMITIAN</div><div class="ttdoc">Generalized Non-Hermitian.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00787">MooseTypes.h:787</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ae97acf4d1da4ed4876d857cf9aa94aa7ab4a8db42f636d67df52555cdd6bf3350"><div class="ttname"><a href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7ab4a8db42f636d67df52555cdd6bf3350">Moose::EPT_POS_GEN_NON_HERMITIAN</a></div><div class="ttdeci">@ EPT_POS_GEN_NON_HERMITIAN</div><div class="ttdoc">Generalized Non-Hermitian with positive (semi-)definite B.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00788">MooseTypes.h:788</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ae97acf4d1da4ed4876d857cf9aa94aa7aed3d50245169bc6626c866330447573b"><div class="ttname"><a href="namespaceMoose.html#ae97acf4d1da4ed4876d857cf9aa94aa7aed3d50245169bc6626c866330447573b">Moose::EPT_SLEPC_DEFAULT</a></div><div class="ttdeci">@ EPT_SLEPC_DEFAULT</div><div class="ttdoc">use whatever SLPEC has by default</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00790">MooseTypes.h:789</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00496">slepcSetOptions()</a>.</p>

</div>
</div>
<a id="a836ee996de0517eef4005372defe42c9" name="a836ee996de0517eef4005372defe42c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a836ee996de0517eef4005372defe42c9">&#9670;&#160;</a></span>setEigenProblemSolverParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setEigenProblemSolverParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>eigen_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve eigen problem params from 'params', and then set these params into <a class="el" href="classSolverParams.html">SolverParams</a>. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00177">177</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  178</span>{</div>
<div class="line"><span class="lineno">  179</span>  <span class="keyword">const</span> std::string &amp; eigen_problem_type = params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;eigen_problem_type&quot;</span>);</div>
<div class="line"><span class="lineno">  180</span>  <span class="keywordflow">if</span> (!eigen_problem_type.empty())</div>
<div class="line"><span class="lineno">  181</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ad525ae4ffe604fce1b3995941c948a1a">_eigen_problem_type</a> =</div>
<div class="line"><span class="lineno">  182</span>        Moose::stringToEnum&lt;Moose::EigenProblemType&gt;(eigen_problem_type);</div>
<div class="line"><span class="lineno">  183</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;Have to specify a valid eigen problem type&quot;</span>);</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>  <span class="keyword">const</span> std::string &amp; which_eigen_pairs = params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;which_eigen_pairs&quot;</span>);</div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordflow">if</span> (!which_eigen_pairs.empty())</div>
<div class="line"><span class="lineno">  188</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#a82ea163df148786d99b9b7ed794beb08">_which_eigen_pairs</a> =</div>
<div class="line"><span class="lineno">  189</span>        Moose::stringToEnum&lt;Moose::WhichEigenPairs&gt;(which_eigen_pairs);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  <span class="comment">// Set necessary parametrs used in EigenSystem::solve(),</span></div>
<div class="line"><span class="lineno">  192</span>  <span class="comment">// i.e. the number of requested eigenpairs nev and the number</span></div>
<div class="line"><span class="lineno">  193</span>  <span class="comment">// of basis vectors ncv used in the solution algorithm. Note that</span></div>
<div class="line"><span class="lineno">  194</span>  <span class="comment">// ncv &gt;= nev must hold and ncv &gt;= 2*nev is recommended</span></div>
<div class="line"><span class="lineno">  195</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_eigen_pairs = params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;n_eigen_pairs&quot;</span>);</div>
<div class="line"><span class="lineno">  196</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_basis_vectors = params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;n_basis_vectors&quot;</span>);</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>  eigen_problem.<a class="code hl_function" href="classEigenProblem.html#aea5e7ad5b5cf939510cf0c31eb0be37f">setNEigenPairsRequired</a>(n_eigen_pairs);</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>  eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#ac2426ef06770f009df5402cd5eac8c23">es</a>().parameters.set&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;eigenpairs&quot;</span>) = n_eigen_pairs;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>  <span class="comment">// If the subspace dimension is too small, we increase it automatically</span></div>
<div class="line"><span class="lineno">  203</span>  <span class="keywordflow">if</span> (subspace_factor * n_eigen_pairs &gt; n_basis_vectors)</div>
<div class="line"><span class="lineno">  204</span>  {</div>
<div class="line"><span class="lineno">  205</span>    n_basis_vectors = <a class="code hl_variable" href="namespaceMoose_1_1SlepcSupport.html#a48b1320c5cbcb6d7b26f5b9c3e568ffd">subspace_factor</a> * n_eigen_pairs;</div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_function" href="MooseError_8h.html#a3d351254665674621ecbd38f57bb28ae">mooseWarning</a>(<span class="stringliteral">&quot;Number of subspaces in Eigensolver is changed by moose because the value you set &quot;</span></div>
<div class="line"><span class="lineno">  207</span>                 <span class="stringliteral">&quot;is too small&quot;</span>);</div>
<div class="line"><span class="lineno">  208</span>  }</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>  eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#ac2426ef06770f009df5402cd5eac8c23">es</a>().parameters.set&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;basis vectors&quot;</span>) = n_basis_vectors;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>  <span class="comment">// Operators A and B are formed as shell matrices</span></div>
<div class="line"><span class="lineno">  213</span>  eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a> = params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;matrix_free&quot;</span>);</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>  <span class="comment">// Preconditioning is formed as a shell matrix</span></div>
<div class="line"><span class="lineno">  216</span>  eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae06ea724fbb3730be86cc91aaca8f43c">_precond_matrix_free</a> = params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;precond_matrix_free&quot;</span>);</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">if</span> (params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;solve_type&quot;</span>) == <span class="stringliteral">&quot;PJFNK&quot;</span>)</div>
<div class="line"><span class="lineno">  219</span>  {</div>
<div class="line"><span class="lineno">  220</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  221</span>  }</div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordflow">if</span> (params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;solve_type&quot;</span>) == <span class="stringliteral">&quot;JFNK&quot;</span>)</div>
<div class="line"><span class="lineno">  223</span>  {</div>
<div class="line"><span class="lineno">  224</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  225</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae06ea724fbb3730be86cc91aaca8f43c">_precond_matrix_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  226</span>  }</div>
<div class="line"><span class="lineno">  227</span>  <span class="comment">// We need matrices so that we can implement residual evaluations</span></div>
<div class="line"><span class="lineno">  228</span>  <span class="keywordflow">if</span> (params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;solve_type&quot;</span>) == <span class="stringliteral">&quot;PJFNKMO&quot;</span>)</div>
<div class="line"><span class="lineno">  229</span>  {</div>
<div class="line"><span class="lineno">  230</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  231</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae06ea724fbb3730be86cc91aaca8f43c">_precond_matrix_free</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  232</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#ae5dd971c56dfdec9a7984d64d636f91c">_eigen_matrix_vector_mult</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  233</span>    <span class="comment">// By default, we need to form full matrices, otherwise residual</span></div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// evaluations will not be accurate</span></div>
<div class="line"><span class="lineno">  235</span>    eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#a644b75fd272f45ca4dfe3816319c3892">setCoupling</a>(<a class="code hl_enumvalue" href="namespaceMoose.html#aa86511ebbec5fd2ce1a56f7e6bcea255a92f598b2210eee47ed4b5ab5de9b110e">Moose::COUPLING_FULL</a>);</div>
<div class="line"><span class="lineno">  236</span>  }</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>  eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a5011105491e10f0fe668867d63d6b19a">constantMatrices</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;constant_matrices&quot;</span>));</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>  <span class="keywordflow">if</span> (eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a5011105491e10f0fe668867d63d6b19a">constantMatrices</a>() &amp;&amp; params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;solve_type&quot;</span>) != <span class="stringliteral">&quot;PJFNKMO&quot;</span>)</div>
<div class="line"><span class="lineno">  241</span>  {</div>
<div class="line"><span class="lineno">  242</span>    <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;constant_matrices flag is only valid for solve type: PJFNKMO&quot;</span>);</div>
<div class="line"><span class="lineno">  243</span>  }</div>
<div class="line"><span class="lineno">  244</span>}</div>
<div class="ttc" id="aMooseError_8h_html_a3d351254665674621ecbd38f57bb28ae"><div class="ttname"><a href="MooseError_8h.html#a3d351254665674621ecbd38f57bb28ae">mooseWarning</a></div><div class="ttdeci">void mooseWarning(Args &amp;&amp;... args)</div><div class="ttdoc">Emit a warning message with the given stringified, concatenated args.</div><div class="ttdef"><b>Definition:</b> <a href="MooseError_8h_source.html#l00296">MooseError.h:296</a></div></div>
<div class="ttc" id="aclassEigenProblem_html_aea5e7ad5b5cf939510cf0c31eb0be37f"><div class="ttname"><a href="classEigenProblem.html#aea5e7ad5b5cf939510cf0c31eb0be37f">EigenProblem::setNEigenPairsRequired</a></div><div class="ttdeci">void setNEigenPairsRequired(unsigned int n_eigen_pairs)</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8h_source.html#l00041">EigenProblem.h:41</a></div></div>
<div class="ttc" id="aclassFEProblemBase_html_a644b75fd272f45ca4dfe3816319c3892"><div class="ttname"><a href="classFEProblemBase.html#a644b75fd272f45ca4dfe3816319c3892">FEProblemBase::setCoupling</a></div><div class="ttdeci">void setCoupling(Moose::CouplingType type)</div><div class="ttdoc">Set the coupling between variables TODO: allow user-defined coupling.</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8C_source.html#l05545">FEProblemBase.C:5545</a></div></div>
<div class="ttc" id="aclassFEProblemBase_html_ac2426ef06770f009df5402cd5eac8c23"><div class="ttname"><a href="classFEProblemBase.html#ac2426ef06770f009df5402cd5eac8c23">FEProblemBase::es</a></div><div class="ttdeci">virtual EquationSystems &amp; es() override</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8h_source.html#l00153">FEProblemBase.h:153</a></div></div>
<div class="ttc" id="aclassSolverParams_html_a82ea163df148786d99b9b7ed794beb08"><div class="ttname"><a href="classSolverParams.html#a82ea163df148786d99b9b7ed794beb08">SolverParams::_which_eigen_pairs</a></div><div class="ttdeci">Moose::WhichEigenPairs _which_eigen_pairs</div><div class="ttdef"><b>Definition:</b> <a href="SolverParams_8h_source.html#l00026">SolverParams.h:26</a></div></div>
<div class="ttc" id="aclassSolverParams_html_ad72a0531f0895b89e00b7f95c2d4ab2b"><div class="ttname"><a href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">SolverParams::_eigen_matrix_free</a></div><div class="ttdeci">bool _eigen_matrix_free</div><div class="ttdef"><b>Definition:</b> <a href="SolverParams_8h_source.html#l00027">SolverParams.h:27</a></div></div>
<div class="ttc" id="aclassSolverParams_html_ae06ea724fbb3730be86cc91aaca8f43c"><div class="ttname"><a href="classSolverParams.html#ae06ea724fbb3730be86cc91aaca8f43c">SolverParams::_precond_matrix_free</a></div><div class="ttdeci">bool _precond_matrix_free</div><div class="ttdef"><b>Definition:</b> <a href="SolverParams_8h_source.html#l00030">SolverParams.h:30</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a48b1320c5cbcb6d7b26f5b9c3e568ffd"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a48b1320c5cbcb6d7b26f5b9c3e568ffd">Moose::SlepcSupport::subspace_factor</a></div><div class="ttdeci">const int subspace_factor</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00034">SlepcSupport.C:34</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aa86511ebbec5fd2ce1a56f7e6bcea255a92f598b2210eee47ed4b5ab5de9b110e"><div class="ttname"><a href="namespaceMoose.html#aa86511ebbec5fd2ce1a56f7e6bcea255a92f598b2210eee47ed4b5ab5de9b110e">Moose::COUPLING_FULL</a></div><div class="ttdeci">@ COUPLING_FULL</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00644">MooseTypes.h:644</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="Eigenvalue_8C_source.html#l00091">Eigenvalue::Eigenvalue()</a>.</p>

</div>
</div>
<a id="ab4317c7b2ca830dc508a9197722c3375" name="ab4317c7b2ca830dc508a9197722c3375"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4317c7b2ca830dc508a9197722c3375">&#9670;&#160;</a></span>setEigenSolverOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setEigenSolverOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSolverParams.html">SolverParams</a> &amp;&#160;</td>
          <td class="paramname"><em>solver_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00440">440</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  441</span>{</div>
<div class="line"><span class="lineno">  442</span>  <span class="comment">// Avoid unused variable warnings when you have SLEPc but not PETSc-dev.</span></div>
<div class="line"><span class="lineno">  443</span>  libmesh_ignore(params);</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>  <span class="keywordflow">switch</span> (solver_params.<a class="code hl_variable" href="classSolverParams.html#aaaf10889ad4895c9aa4be80947f20a11">_eigen_solve_type</a>)</div>
<div class="line"><span class="lineno">  446</span>  {</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a9855285550343f556c90c8fe49cf855f">Moose::EST_POWER</a>:</div>
<div class="line"><span class="lineno">  448</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_type&quot;</span>, <span class="stringliteral">&quot;power&quot;</span>);</div>
<div class="line"><span class="lineno">  449</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474ace2df18a018866f0c751a65fd55ea920">Moose::EST_ARNOLDI</a>:</div>
<div class="line"><span class="lineno">  452</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_type&quot;</span>, <span class="stringliteral">&quot;arnoldi&quot;</span>);</div>
<div class="line"><span class="lineno">  453</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a7abb38c9bf94f5b28e5369b5192793ac">Moose::EST_KRYLOVSCHUR</a>:</div>
<div class="line"><span class="lineno">  456</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_type&quot;</span>, <span class="stringliteral">&quot;krylovschur&quot;</span>);</div>
<div class="line"><span class="lineno">  457</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a7079fc1154083155eb7f6b11e65f5967">Moose::EST_JACOBI_DAVIDSON</a>:</div>
<div class="line"><span class="lineno">  460</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_type&quot;</span>, <span class="stringliteral">&quot;jd&quot;</span>);</div>
<div class="line"><span class="lineno">  461</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474acd0f9c70e1247184b99b44c28d2d2b02">Moose::EST_NONLINEAR_POWER</a>:</div>
<div class="line"><span class="lineno">  464</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#adf17db32bac7945fdead0f153a5027ab">setNonlinearPowerOptions</a>(solver_params);</div>
<div class="line"><span class="lineno">  465</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a92ff4b6fea65cc5f57438b97a30f0bed">Moose::EST_NEWTON</a>:</div>
<div class="line"><span class="lineno">  468</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a67f78b94548377ece4e9fe094b4a95b2">setNewtonPetscOptions</a>(solver_params, params);</div>
<div class="line"><span class="lineno">  469</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474afeb4d38bd690ba42d466f946bf4b259a">Moose::EST_PJFNK</a>:</div>
<div class="line"><span class="lineno">  472</span>      solver_params.<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  473</span>      solver_params.<a class="code hl_variable" href="classSolverParams.html#ad3887703ae20a599446cc91bbee6a737">_customized_pc_for_eigen</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  474</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a67f78b94548377ece4e9fe094b4a95b2">setNewtonPetscOptions</a>(solver_params, params);</div>
<div class="line"><span class="lineno">  475</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a7c29d2f725de0540cdfd1216b87ac5c7">Moose::EST_JFNK</a>:</div>
<div class="line"><span class="lineno">  478</span>      solver_params.<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  479</span>      solver_params.<a class="code hl_variable" href="classSolverParams.html#ad3887703ae20a599446cc91bbee6a737">_customized_pc_for_eigen</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  480</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a67f78b94548377ece4e9fe094b4a95b2">setNewtonPetscOptions</a>(solver_params, params);</div>
<div class="line"><span class="lineno">  481</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a549304f48fcb2befcab3a4b8076cd52d">Moose::EST_PJFNKMO</a>:</div>
<div class="line"><span class="lineno">  484</span>      solver_params.<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  485</span>      solver_params.<a class="code hl_variable" href="classSolverParams.html#ad3887703ae20a599446cc91bbee6a737">_customized_pc_for_eigen</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  486</span>      solver_params.<a class="code hl_variable" href="classSolverParams.html#ae5dd971c56dfdec9a7984d64d636f91c">_eigen_matrix_vector_mult</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  487</span>      <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a67f78b94548377ece4e9fe094b4a95b2">setNewtonPetscOptions</a>(solver_params, params);</div>
<div class="line"><span class="lineno">  488</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  491</span>      <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;Unknown eigen solver type \n&quot;</span>);</div>
<div class="line"><span class="lineno">  492</span>  }</div>
<div class="line"><span class="lineno">  493</span>}</div>
<div class="ttc" id="aclassSolverParams_html_aaaf10889ad4895c9aa4be80947f20a11"><div class="ttname"><a href="classSolverParams.html#aaaf10889ad4895c9aa4be80947f20a11">SolverParams::_eigen_solve_type</a></div><div class="ttdeci">Moose::EigenSolveType _eigen_solve_type</div><div class="ttdef"><b>Definition:</b> <a href="SolverParams_8h_source.html#l00024">SolverParams.h:24</a></div></div>
<div class="ttc" id="aclassSolverParams_html_ad3887703ae20a599446cc91bbee6a737"><div class="ttname"><a href="classSolverParams.html#ad3887703ae20a599446cc91bbee6a737">SolverParams::_customized_pc_for_eigen</a></div><div class="ttdeci">bool _customized_pc_for_eigen</div><div class="ttdef"><b>Definition:</b> <a href="SolverParams_8h_source.html#l00029">SolverParams.h:29</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a67f78b94548377ece4e9fe094b4a95b2"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a67f78b94548377ece4e9fe094b4a95b2">Moose::SlepcSupport::setNewtonPetscOptions</a></div><div class="ttdeci">void setNewtonPetscOptions(SolverParams &amp;solver_params, const InputParameters &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00377">SlepcSupport.C:377</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_adf17db32bac7945fdead0f153a5027ab"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#adf17db32bac7945fdead0f153a5027ab">Moose::SlepcSupport::setNonlinearPowerOptions</a></div><div class="ttdeci">void setNonlinearPowerOptions(SolverParams &amp;solver_params)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00420">SlepcSupport.C:420</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474a549304f48fcb2befcab3a4b8076cd52d"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a549304f48fcb2befcab3a4b8076cd52d">Moose::EST_PJFNKMO</a></div><div class="ttdeci">@ EST_PJFNKMO</div><div class="ttdoc">The same as PJFNK except that matrix-vector multiplication is employed to replace residual evaluation...</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00774">MooseTypes.h:774</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474a7079fc1154083155eb7f6b11e65f5967"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a7079fc1154083155eb7f6b11e65f5967">Moose::EST_JACOBI_DAVIDSON</a></div><div class="ttdeci">@ EST_JACOBI_DAVIDSON</div><div class="ttdoc">Jacobi-Davidson.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00770">MooseTypes.h:770</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474a7abb38c9bf94f5b28e5369b5192793ac"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a7abb38c9bf94f5b28e5369b5192793ac">Moose::EST_KRYLOVSCHUR</a></div><div class="ttdeci">@ EST_KRYLOVSCHUR</div><div class="ttdoc">Krylov-Schur.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00769">MooseTypes.h:769</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474a7c29d2f725de0540cdfd1216b87ac5c7"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a7c29d2f725de0540cdfd1216b87ac5c7">Moose::EST_JFNK</a></div><div class="ttdeci">@ EST_JFNK</div><div class="ttdoc">Jacobian-free Newton Krylov.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00776">MooseTypes.h:775</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474a92ff4b6fea65cc5f57438b97a30f0bed"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a92ff4b6fea65cc5f57438b97a30f0bed">Moose::EST_NEWTON</a></div><div class="ttdeci">@ EST_NEWTON</div><div class="ttdoc">Newton-based eigensolver with an assembled Jacobian matrix (fully coupled by default)</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00772">MooseTypes.h:772</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474a9855285550343f556c90c8fe49cf855f"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474a9855285550343f556c90c8fe49cf855f">Moose::EST_POWER</a></div><div class="ttdeci">@ EST_POWER</div><div class="ttdoc">Power / Inverse / RQI.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00767">MooseTypes.h:767</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474acd0f9c70e1247184b99b44c28d2d2b02"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474acd0f9c70e1247184b99b44c28d2d2b02">Moose::EST_NONLINEAR_POWER</a></div><div class="ttdeci">@ EST_NONLINEAR_POWER</div><div class="ttdoc">Nonlinear inverse power.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00771">MooseTypes.h:771</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474ace2df18a018866f0c751a65fd55ea920"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474ace2df18a018866f0c751a65fd55ea920">Moose::EST_ARNOLDI</a></div><div class="ttdeci">@ EST_ARNOLDI</div><div class="ttdoc">Arnoldi.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00768">MooseTypes.h:768</a></div></div>
<div class="ttc" id="anamespaceMoose_html_ad434a9c29398f89fae63acff15eb9474afeb4d38bd690ba42d466f946bf4b259a"><div class="ttname"><a href="namespaceMoose.html#ad434a9c29398f89fae63acff15eb9474afeb4d38bd690ba42d466f946bf4b259a">Moose::EST_PJFNK</a></div><div class="ttdeci">@ EST_PJFNK</div><div class="ttdoc">Preconditioned Jacobian-free Newton Krylov.</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00773">MooseTypes.h:773</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00496">slepcSetOptions()</a>.</p>

</div>
</div>
<a id="a0e654a18ee663fb7ed79a3f5c2c5187e" name="a0e654a18ee663fb7ed79a3f5c2c5187e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e654a18ee663fb7ed79a3f5c2c5187e">&#9670;&#160;</a></span>setFreeNonlinearPowerIterations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setFreeNonlinearPowerIterations </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>free_power_iterations</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set SLEPc/PETSc options to trigger free power iteration. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00350">350</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  351</span>{</div>
<div class="line"><span class="lineno">  352</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_power_update&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><span class="lineno">  353</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_max_it&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>);</div>
<div class="line"><span class="lineno">  354</span>  <span class="comment">// During each power iteration, we want solver converged unless linear solver does not</span></div>
<div class="line"><span class="lineno">  355</span>  <span class="comment">// work. We here use a really loose tolerance for this purpose.</span></div>
<div class="line"><span class="lineno">  356</span>  <span class="comment">// -snes_no_convergence_test is a perfect option, but it was removed from PETSc</span></div>
<div class="line"><span class="lineno">  357</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_rtol&quot;</span>, <span class="stringliteral">&quot;0.99999999999&quot;</span>);</div>
<div class="line"><span class="lineno">  358</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_max_it&quot;</span>, <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(free_power_iterations));</div>
<div class="line"><span class="lineno">  359</span>  <span class="comment">// We always want the number of free power iterations respected so we don&#39;t want to stop early if</span></div>
<div class="line"><span class="lineno">  360</span>  <span class="comment">// we&#39;ve satisfied a convergence criterion. Consequently we make this tolerance very tight</span></div>
<div class="line"><span class="lineno">  361</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_tol&quot;</span>, <span class="stringliteral">&quot;1e-50&quot;</span>);</div>
<div class="line"><span class="lineno">  362</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="EigenProblem_8C_source.html#l00492">EigenProblem::doFreeNonlinearPowerIterations()</a>.</p>

</div>
</div>
<a id="a67f78b94548377ece4e9fe094b4a95b2" name="a67f78b94548377ece4e9fe094b4a95b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f78b94548377ece4e9fe094b4a95b2">&#9670;&#160;</a></span>setNewtonPetscOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setNewtonPetscOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSolverParams.html">SolverParams</a> &amp;&#160;</td>
          <td class="paramname"><em>solver_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00377">377</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  378</span>{</div>
<div class="line"><span class="lineno">  379</span><span class="preprocessor">#if !SLEPC_VERSION_LESS_THAN(3, 8, 0) || !PETSC_VERSION_RELEASE</span></div>
<div class="line"><span class="lineno">  380</span>  <span class="comment">// Whether or not we need to involve an initial inverse power</span></div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordtype">bool</span> initial_power = params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;_newton_inverse_power&quot;</span>);</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_type&quot;</span>, <span class="stringliteral">&quot;power&quot;</span>);</div>
<div class="line"><span class="lineno">  384</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_power_nonlinear&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  385</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_power_update&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  386</span>  <span class="comment">// Only one outer iteration in EPS is allowed when Newton/PJFNK/JFNK</span></div>
<div class="line"><span class="lineno">  387</span>  <span class="comment">// is used as the eigen solver</span></div>
<div class="line"><span class="lineno">  388</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_max_it&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  389</span>  <span class="keywordflow">if</span> (initial_power)</div>
<div class="line"><span class="lineno">  390</span>  {</div>
<div class="line"><span class="lineno">  391</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-init_eps_power_snes_max_it&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  392</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-init_eps_power_ksp_rtol&quot;</span>, <span class="stringliteral">&quot;1e-2&quot;</span>);</div>
<div class="line"><span class="lineno">  393</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(</div>
<div class="line"><span class="lineno">  394</span>        <span class="stringliteral">&quot;-init_eps_max_it&quot;</span>, <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;free_power_iterations&quot;</span>)));</div>
<div class="line"><span class="lineno">  395</span>  }</div>
<div class="line"><span class="lineno">  396</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_target_magnitude&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  397</span>  <span class="keywordflow">if</span> (solver_params.<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a>)</div>
<div class="line"><span class="lineno">  398</span>  {</div>
<div class="line"><span class="lineno">  399</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_mf_operator&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">if</span> (initial_power)</div>
<div class="line"><span class="lineno">  401</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-init_eps_power_snes_mf_operator&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  402</span>  }</div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  404</span>  {</div>
<div class="line"><span class="lineno">  405</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_mf_operator&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordflow">if</span> (initial_power)</div>
<div class="line"><span class="lineno">  407</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-init_eps_power_snes_mf_operator&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><span class="lineno">  408</span>  }</div>
<div class="line"><span class="lineno">  409</span><span class="preprocessor">#if PETSC_RELEASE_LESS_THAN(3, 13, 0)</span></div>
<div class="line"><span class="lineno">  410</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-st_type&quot;</span>, <span class="stringliteral">&quot;sinvert&quot;</span>);</div>
<div class="line"><span class="lineno">  411</span>  <span class="keywordflow">if</span> (initial_power)</div>
<div class="line"><span class="lineno">  412</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-init_st_type&quot;</span>, <span class="stringliteral">&quot;sinvert&quot;</span>);</div>
<div class="line"><span class="lineno">  413</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  414</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  415</span>  <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;Newton-based eigenvalue solver requires SLEPc 3.7.3 or higher&quot;</span>);</div>
<div class="line"><span class="lineno">  416</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  417</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00440">setEigenSolverOptions()</a>.</p>

</div>
</div>
<a id="adf17db32bac7945fdead0f153a5027ab" name="adf17db32bac7945fdead0f153a5027ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf17db32bac7945fdead0f153a5027ab">&#9670;&#160;</a></span>setNonlinearPowerOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setNonlinearPowerOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSolverParams.html">SolverParams</a> &amp;&#160;</td>
          <td class="paramname"><em>solver_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00420">420</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>{</div>
<div class="line"><span class="lineno">  422</span><span class="preprocessor">#if !SLEPC_VERSION_LESS_THAN(3, 8, 0) || !PETSC_VERSION_RELEASE</span></div>
<div class="line"><span class="lineno">  423</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_type&quot;</span>, <span class="stringliteral">&quot;power&quot;</span>);</div>
<div class="line"><span class="lineno">  424</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_power_nonlinear&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  425</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_target_magnitude&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  426</span>  <span class="keywordflow">if</span> (solver_params.<a class="code hl_variable" href="classSolverParams.html#ad72a0531f0895b89e00b7f95c2d4ab2b">_eigen_matrix_free</a>)</div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_mf_operator&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  428</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_mf_operator&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span><span class="preprocessor">#if PETSC_RELEASE_LESS_THAN(3, 13, 0)</span></div>
<div class="line"><span class="lineno">  432</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-st_type&quot;</span>, <span class="stringliteral">&quot;sinvert&quot;</span>);</div>
<div class="line"><span class="lineno">  433</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  434</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  435</span>  <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;Nonlinear Inverse Power requires SLEPc 3.7.3 or higher&quot;</span>);</div>
<div class="line"><span class="lineno">  436</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  437</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00440">setEigenSolverOptions()</a>.</p>

</div>
</div>
<a id="a4b16a22693257ed41670fda7d55922bd" name="a4b16a22693257ed41670fda7d55922bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b16a22693257ed41670fda7d55922bd">&#9670;&#160;</a></span>setOperationsForShellMat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setOperationsForShellMat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>eigen_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>eigen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set operations to shell mat. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l01094">1094</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1095</span>{</div>
<div class="line"><span class="lineno"> 1096</span>  MatShellSetContext(mat, &amp;eigen_problem);</div>
<div class="line"><span class="lineno"> 1097</span>  MatShellSetOperation(mat,</div>
<div class="line"><span class="lineno"> 1098</span>                       MATOP_MULT,</div>
<div class="line"><span class="lineno"> 1099</span>                       eigen ? (<span class="keywordtype">void</span> (*)(<span class="keywordtype">void</span>))mooseMatMult_Eigen</div>
<div class="line"><span class="lineno"> 1100</span>                             : (<span class="keywordtype">void</span> (*)(<span class="keywordtype">void</span>))mooseMatMult_NonEigen);</div>
<div class="line"><span class="lineno"> 1101</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="NonlinearEigenSystem_8C_source.html#l00254">NonlinearEigenSystem::attachSLEPcCallbacks()</a>.</p>

</div>
</div>
<a id="a45932259e4fa6b3743fbae36bbc79c4b" name="a45932259e4fa6b3743fbae36bbc79c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45932259e4fa6b3743fbae36bbc79c4b">&#9670;&#160;</a></span>setSlepcEigenSolverTolerances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setSlepcEigenSolverTolerances </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>eigen_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classControl.html" title="Base class for Control objects.">Control</a> eigen solver tolerances via SLEPc options. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00127">127</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>{</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_tol&quot;</span>, <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;eigen_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_max_it&quot;</span>,</div>
<div class="line"><span class="lineno">  132</span>                                            <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;eigen_max_its&quot;</span>)));</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>  <span class="comment">// if it is a nonlinear eigenvalue solver, we need to set tolerances for nonlinear solver and</span></div>
<div class="line"><span class="lineno">  135</span>  <span class="comment">// linear solver</span></div>
<div class="line"><span class="lineno">  136</span>  <span class="keywordflow">if</span> (eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a7aa001bc285b3940fa801a2fc5f1034a">isNonlinearEigenvalueSolver</a>())</div>
<div class="line"><span class="lineno">  137</span>  {</div>
<div class="line"><span class="lineno">  138</span>    <span class="comment">// nonlinear solver tolerances</span></div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_max_it&quot;</span>,</div>
<div class="line"><span class="lineno">  140</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;nl_max_its&quot;</span>)));</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_max_funcs&quot;</span>,</div>
<div class="line"><span class="lineno">  143</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;nl_max_funcs&quot;</span>)));</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_atol&quot;</span>,</div>
<div class="line"><span class="lineno">  146</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;nl_abs_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_rtol&quot;</span>,</div>
<div class="line"><span class="lineno">  149</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;nl_rel_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-snes_stol&quot;</span>,</div>
<div class="line"><span class="lineno">  152</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;nl_rel_step_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">// linear solver</span></div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-ksp_max_it&quot;</span>,</div>
<div class="line"><span class="lineno">  156</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;l_max_its&quot;</span>)));</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-ksp_rtol&quot;</span>, <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;l_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-ksp_atol&quot;</span>,</div>
<div class="line"><span class="lineno">  161</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;l_abs_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  162</span>  }</div>
<div class="line"><span class="lineno">  163</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  164</span>  { <span class="comment">// linear eigenvalue problem</span></div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// linear solver</span></div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-st_ksp_max_it&quot;</span>,</div>
<div class="line"><span class="lineno">  167</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;l_max_its&quot;</span>)));</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-st_ksp_rtol&quot;</span>, <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;l_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-st_ksp_atol&quot;</span>,</div>
<div class="line"><span class="lineno">  172</span>                                              <a class="code hl_function" href="namespaceMoose.html#a8575af67e4a573c2c942b82e49fbcf8a">stringify</a>(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;l_abs_tol&quot;</span>)));</div>
<div class="line"><span class="lineno">  173</span>  }</div>
<div class="line"><span class="lineno">  174</span>}</div>
<div class="ttc" id="aclassEigenProblem_html_a7aa001bc285b3940fa801a2fc5f1034a"><div class="ttname"><a href="classEigenProblem.html#a7aa001bc285b3940fa801a2fc5f1034a">EigenProblem::isNonlinearEigenvalueSolver</a></div><div class="ttdeci">bool isNonlinearEigenvalueSolver() const</div><div class="ttdef"><b>Definition:</b> <a href="EigenProblem_8C_source.html#l00632">EigenProblem.C:632</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00496">slepcSetOptions()</a>.</p>

</div>
</div>
<a id="a6f4293e980cf090c58d6b18714517003" name="a6f4293e980cf090c58d6b18714517003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f4293e980cf090c58d6b18714517003">&#9670;&#160;</a></span>setWhichEigenPairsOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::setWhichEigenPairsOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSolverParams.html">SolverParams</a> &amp;&#160;</td>
          <td class="paramname"><em>solver_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00297">297</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>{</div>
<div class="line"><span class="lineno">  299</span>  <span class="keywordflow">switch</span> (solver_params.<a class="code hl_variable" href="classSolverParams.html#a82ea163df148786d99b9b7ed794beb08">_which_eigen_pairs</a>)</div>
<div class="line"><span class="lineno">  300</span>  {</div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba759e7d13705917a297ad516664543ad2">Moose::WEP_LARGEST_MAGNITUDE</a>:</div>
<div class="line"><span class="lineno">  302</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_largest_magnitude&quot;</span>);</div>
<div class="line"><span class="lineno">  303</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395bac0b63da4d4efd36e0136d97e82a0e31b">Moose::WEP_SMALLEST_MAGNITUDE</a>:</div>
<div class="line"><span class="lineno">  306</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_smallest_magnitude&quot;</span>);</div>
<div class="line"><span class="lineno">  307</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395baf30e46b718ae6267bc51f7f555b16c56">Moose::WEP_LARGEST_REAL</a>:</div>
<div class="line"><span class="lineno">  310</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_largest_real&quot;</span>);</div>
<div class="line"><span class="lineno">  311</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba5310a05f8329dabcaf173b6f14c3ee74">Moose::WEP_SMALLEST_REAL</a>:</div>
<div class="line"><span class="lineno">  314</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_smallest_real&quot;</span>);</div>
<div class="line"><span class="lineno">  315</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba42f8b31a89df17aa4fc0cf28c4c9e86e">Moose::WEP_LARGEST_IMAGINARY</a>:</div>
<div class="line"><span class="lineno">  318</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_largest_imaginary&quot;</span>);</div>
<div class="line"><span class="lineno">  319</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395bad5c3a4b613d858bf2d44de689eb269d9">Moose::WEP_SMALLEST_IMAGINARY</a>:</div>
<div class="line"><span class="lineno">  322</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_smallest_imaginary&quot;</span>);</div>
<div class="line"><span class="lineno">  323</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba413383d020264da2fd38bd8797b87836">Moose::WEP_TARGET_MAGNITUDE</a>:</div>
<div class="line"><span class="lineno">  326</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_target_magnitude&quot;</span>);</div>
<div class="line"><span class="lineno">  327</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395baf1019c43d79d611aadec5f8cb9c9da47">Moose::WEP_TARGET_REAL</a>:</div>
<div class="line"><span class="lineno">  330</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_target_real&quot;</span>);</div>
<div class="line"><span class="lineno">  331</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba5239c05b9feb8c017a6f8759c62f97cb">Moose::WEP_TARGET_IMAGINARY</a>:</div>
<div class="line"><span class="lineno">  334</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_target_imaginary&quot;</span>);</div>
<div class="line"><span class="lineno">  335</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395bacb350f6e4aead81e002f0ec32dca2535">Moose::WEP_ALL_EIGENVALUES</a>:</div>
<div class="line"><span class="lineno">  338</span>      <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_all&quot;</span>);</div>
<div class="line"><span class="lineno">  339</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba6eec1cc334bdf0a6ab3d610d06f7e26e">Moose::WEP_SLEPC_DEFAULT</a>:</div>
<div class="line"><span class="lineno">  342</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  345</span>      <a class="code hl_function" href="MooseError_8h.html#aa959168eed29caa7aaa85ffc1319a9ad">mooseError</a>(<span class="stringliteral">&quot;Unknown type of WhichEigenPairs \n&quot;</span>);</div>
<div class="line"><span class="lineno">  346</span>  }</div>
<div class="line"><span class="lineno">  347</span>}</div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395ba413383d020264da2fd38bd8797b87836"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba413383d020264da2fd38bd8797b87836">Moose::WEP_TARGET_MAGNITUDE</a></div><div class="ttdeci">@ WEP_TARGET_MAGNITUDE</div><div class="ttdoc">target magnitude</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00803">MooseTypes.h:803</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395ba42f8b31a89df17aa4fc0cf28c4c9e86e"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba42f8b31a89df17aa4fc0cf28c4c9e86e">Moose::WEP_LARGEST_IMAGINARY</a></div><div class="ttdeci">@ WEP_LARGEST_IMAGINARY</div><div class="ttdoc">largest imaginary</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00801">MooseTypes.h:801</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395ba5239c05b9feb8c017a6f8759c62f97cb"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba5239c05b9feb8c017a6f8759c62f97cb">Moose::WEP_TARGET_IMAGINARY</a></div><div class="ttdeci">@ WEP_TARGET_IMAGINARY</div><div class="ttdoc">target imaginary</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00805">MooseTypes.h:805</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395ba5310a05f8329dabcaf173b6f14c3ee74"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba5310a05f8329dabcaf173b6f14c3ee74">Moose::WEP_SMALLEST_REAL</a></div><div class="ttdeci">@ WEP_SMALLEST_REAL</div><div class="ttdoc">smallest real</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00800">MooseTypes.h:800</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395ba6eec1cc334bdf0a6ab3d610d06f7e26e"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba6eec1cc334bdf0a6ab3d610d06f7e26e">Moose::WEP_SLEPC_DEFAULT</a></div><div class="ttdeci">@ WEP_SLEPC_DEFAULT</div><div class="ttdoc">use whatever we have in SLEPC</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00808">MooseTypes.h:807</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395ba759e7d13705917a297ad516664543ad2"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395ba759e7d13705917a297ad516664543ad2">Moose::WEP_LARGEST_MAGNITUDE</a></div><div class="ttdeci">@ WEP_LARGEST_MAGNITUDE</div><div class="ttdoc">largest magnitude</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00797">MooseTypes.h:797</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395bac0b63da4d4efd36e0136d97e82a0e31b"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395bac0b63da4d4efd36e0136d97e82a0e31b">Moose::WEP_SMALLEST_MAGNITUDE</a></div><div class="ttdeci">@ WEP_SMALLEST_MAGNITUDE</div><div class="ttdoc">smallest magnitude</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00798">MooseTypes.h:798</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395bacb350f6e4aead81e002f0ec32dca2535"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395bacb350f6e4aead81e002f0ec32dca2535">Moose::WEP_ALL_EIGENVALUES</a></div><div class="ttdeci">@ WEP_ALL_EIGENVALUES</div><div class="ttdoc">all eigenvalues</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00806">MooseTypes.h:806</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395bad5c3a4b613d858bf2d44de689eb269d9"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395bad5c3a4b613d858bf2d44de689eb269d9">Moose::WEP_SMALLEST_IMAGINARY</a></div><div class="ttdeci">@ WEP_SMALLEST_IMAGINARY</div><div class="ttdoc">smallest imaginary</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00802">MooseTypes.h:802</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395baf1019c43d79d611aadec5f8cb9c9da47"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395baf1019c43d79d611aadec5f8cb9c9da47">Moose::WEP_TARGET_REAL</a></div><div class="ttdeci">@ WEP_TARGET_REAL</div><div class="ttdoc">target real</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00804">MooseTypes.h:804</a></div></div>
<div class="ttc" id="anamespaceMoose_html_aad53d4c6c0a0aefdafcde04a0694395baf30e46b718ae6267bc51f7f555b16c56"><div class="ttname"><a href="namespaceMoose.html#aad53d4c6c0a0aefdafcde04a0694395baf30e46b718ae6267bc51f7f555b16c56">Moose::WEP_LARGEST_REAL</a></div><div class="ttdeci">@ WEP_LARGEST_REAL</div><div class="ttdoc">largest real</div><div class="ttdef"><b>Definition:</b> <a href="MooseTypes_8h_source.html#l00799">MooseTypes.h:799</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00496">slepcSetOptions()</a>.</p>

</div>
</div>
<a id="ac1cc71554f2c90df07bf2bf698b6459c" name="ac1cc71554f2c90df07bf2bf698b6459c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1cc71554f2c90df07bf2bf698b6459c">&#9670;&#160;</a></span>slepcSetOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::slepcSetOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEigenProblem.html">EigenProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>eigen_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push all SLEPc/PETSc options into SLEPc/PETSc side. </p>
<p >Options could come from commandline, <a class="el" href="classSolverParams.html">SolverParams</a>, params, etc. </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00496">496</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  497</span>{</div>
<div class="line"><span class="lineno">  498</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a9fd68812220614e25f4dc527ffa1a7e6">Moose::PetscSupport::petscSetOptions</a>(eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#ac7a3b72ff83e1ee34e2df8ce600ea023">getPetscOptions</a>(),</div>
<div class="line"><span class="lineno">  499</span>                                       eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>());</div>
<div class="line"><span class="lineno">  500</span>  <span class="comment">// Call &quot;SolverTolerances&quot; first, so some solver specific tolerance such as &quot;eps_max_it&quot;</span></div>
<div class="line"><span class="lineno">  501</span>  <span class="comment">// can be overriden</span></div>
<div class="line"><span class="lineno">  502</span>  <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a45932259e4fa6b3743fbae36bbc79c4b">setSlepcEigenSolverTolerances</a>(eigen_problem, params);</div>
<div class="line"><span class="lineno">  503</span>  <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#ab4317c7b2ca830dc508a9197722c3375">setEigenSolverOptions</a>(eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>(), params);</div>
<div class="line"><span class="lineno">  504</span>  <span class="comment">// when Bx norm postprocessor is provided, we switch off the sign normalization</span></div>
<div class="line"><span class="lineno">  505</span>  <span class="keywordflow">if</span> (eigen_problem.<a class="code hl_function" href="classEigenProblem.html#a83b43c463052ed4721f0a322589a71c6">bxNormProvided</a>())</div>
<div class="line"><span class="lineno">  506</span>    <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#a494fabdaf75f92cf919968738be2f61f">Moose::PetscSupport::setSinglePetscOption</a>(<span class="stringliteral">&quot;-eps_power_sign_normalization&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><span class="lineno">  507</span>  <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a3931a9791deaf1bb448dd8e6605034e9">setEigenProblemOptions</a>(eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>());</div>
<div class="line"><span class="lineno">  508</span>  <a class="code hl_function" href="namespaceMoose_1_1SlepcSupport.html#a6f4293e980cf090c58d6b18714517003">setWhichEigenPairsOptions</a>(eigen_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>());</div>
<div class="line"><span class="lineno">  509</span>  <a class="code hl_function" href="namespaceMoose_1_1PetscSupport.html#ae78a263ca2c1654faef753b92f52e740">Moose::PetscSupport::addPetscOptionsFromCommandline</a>();</div>
<div class="line"><span class="lineno">  510</span>}</div>
<div class="ttc" id="aclassFEProblemBase_html_ac7a3b72ff83e1ee34e2df8ce600ea023"><div class="ttname"><a href="classFEProblemBase.html#ac7a3b72ff83e1ee34e2df8ce600ea023">FEProblemBase::getPetscOptions</a></div><div class="ttdeci">Moose::PetscSupport::PetscOptions &amp; getPetscOptions()</div><div class="ttdoc">Retrieve a writable reference the PETSc options (used by PetscSupport)</div><div class="ttdef"><b>Definition:</b> <a href="FEProblemBase_8h_source.html#l00592">FEProblemBase.h:592</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1PetscSupport_html_a9fd68812220614e25f4dc527ffa1a7e6"><div class="ttname"><a href="namespaceMoose_1_1PetscSupport.html#a9fd68812220614e25f4dc527ffa1a7e6">Moose::PetscSupport::petscSetOptions</a></div><div class="ttdeci">void petscSetOptions(const PetscOptions &amp;po, const SolverParams &amp;solver_params)</div><div class="ttdoc">A function for setting the PETSc options in PETSc from the options supplied to MOOSE.</div><div class="ttdef"><b>Definition:</b> <a href="PetscSupport_8C_source.html#l00238">PetscSupport.C:238</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1PetscSupport_html_ae78a263ca2c1654faef753b92f52e740"><div class="ttname"><a href="namespaceMoose_1_1PetscSupport.html#ae78a263ca2c1654faef753b92f52e740">Moose::PetscSupport::addPetscOptionsFromCommandline</a></div><div class="ttdeci">void addPetscOptionsFromCommandline()</div><div class="ttdef"><b>Definition:</b> <a href="PetscSupport_8C_source.html#l00220">PetscSupport.C:220</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a3931a9791deaf1bb448dd8e6605034e9"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a3931a9791deaf1bb448dd8e6605034e9">Moose::SlepcSupport::setEigenProblemOptions</a></div><div class="ttdeci">void setEigenProblemOptions(SolverParams &amp;solver_params)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00260">SlepcSupport.C:260</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a45932259e4fa6b3743fbae36bbc79c4b"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a45932259e4fa6b3743fbae36bbc79c4b">Moose::SlepcSupport::setSlepcEigenSolverTolerances</a></div><div class="ttdeci">void setSlepcEigenSolverTolerances(EigenProblem &amp;eigen_problem, const InputParameters &amp;params)</div><div class="ttdoc">Control eigen solver tolerances via SLEPc options.</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00127">SlepcSupport.C:127</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_a6f4293e980cf090c58d6b18714517003"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#a6f4293e980cf090c58d6b18714517003">Moose::SlepcSupport::setWhichEigenPairsOptions</a></div><div class="ttdeci">void setWhichEigenPairsOptions(SolverParams &amp;solver_params)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00297">SlepcSupport.C:297</a></div></div>
<div class="ttc" id="anamespaceMoose_1_1SlepcSupport_html_ab4317c7b2ca830dc508a9197722c3375"><div class="ttname"><a href="namespaceMoose_1_1SlepcSupport.html#ab4317c7b2ca830dc508a9197722c3375">Moose::SlepcSupport::setEigenSolverOptions</a></div><div class="ttdeci">void setEigenSolverOptions(SolverParams &amp;solver_params, const InputParameters &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="SlepcSupport_8C_source.html#l00440">SlepcSupport.C:440</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="Eigenvalue_8C_source.html#l00184">Eigenvalue::prepareSolverOptions()</a>.</p>

</div>
</div>
<a id="a93bde779e82915e25d777d8537be4829" name="a93bde779e82915e25d777d8537be4829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bde779e82915e25d777d8537be4829">&#9670;&#160;</a></span>storeSolveType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moose::SlepcSupport::storeSolveType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFEProblemBase.html">FEProblemBase</a> &amp;&#160;</td>
          <td class="paramname"><em>fe_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classInputParameters.html">InputParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set solve type into eigen problem (solverParams) </p>

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00247">247</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>{</div>
<div class="line"><span class="lineno">  249</span>  <span class="keywordflow">if</span> (!(<span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classEigenProblem.html">EigenProblem</a> *<span class="keyword">&gt;</span>(&amp;fe_problem)))</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>  <span class="keywordflow">if</span> (params.<a class="code hl_function" href="classInputParameters.html#af5b79cfa2bf4441d6209f6eb68578d83">isParamValid</a>(<span class="stringliteral">&quot;solve_type&quot;</span>))</div>
<div class="line"><span class="lineno">  253</span>  {</div>
<div class="line"><span class="lineno">  254</span>    fe_problem.<a class="code hl_function" href="classFEProblemBase.html#afe981ee31e466cb424535de03af63743">solverParams</a>().<a class="code hl_variable" href="classSolverParams.html#aaaf10889ad4895c9aa4be80947f20a11">_eigen_solve_type</a> =</div>
<div class="line"><span class="lineno">  255</span>        Moose::stringToEnum&lt;Moose::EigenSolveType&gt;(params.<a class="code hl_function" href="classInputParameters.html#a5950e0f79e862f14e4cd021dd473bc8f">get</a>&lt;<a class="code hl_class" href="classMooseEnum.html">MooseEnum</a>&gt;(<span class="stringliteral">&quot;solve_type&quot;</span>));</div>
<div class="line"><span class="lineno">  256</span>  }</div>
<div class="line"><span class="lineno">  257</span>}</div>
<div class="ttc" id="aclassInputParameters_html_af5b79cfa2bf4441d6209f6eb68578d83"><div class="ttname"><a href="classInputParameters.html#af5b79cfa2bf4441d6209f6eb68578d83">InputParameters::isParamValid</a></div><div class="ttdeci">bool isParamValid(const std::string &amp;name) const</div><div class="ttdoc">This method returns parameters that have been initialized in one fashion or another,...</div><div class="ttdef"><b>Definition:</b> <a href="InputParameters_8C_source.html#l00368">InputParameters.C:368</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="Eigenvalue_8C_source.html#l00091">Eigenvalue::Eigenvalue()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a48b1320c5cbcb6d7b26f5b9c3e568ffd" name="a48b1320c5cbcb6d7b26f5b9c3e568ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b1320c5cbcb6d7b26f5b9c3e568ffd">&#9670;&#160;</a></span>subspace_factor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int Moose::SlepcSupport::subspace_factor = 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlepcSupport_8C_source.html#l00034">34</a> of file <a class="el" href="SlepcSupport_8C_source.html">SlepcSupport.C</a>.</p>

<p class="reference">Referenced by <a class="el" href="SlepcSupport_8C_source.html#l00177">setEigenProblemSolverParams()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 24 2023 00:33:22 for Zapdos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
